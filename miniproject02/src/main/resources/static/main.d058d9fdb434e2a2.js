"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[179],{2011:(Tt,Ie,R)=>{R.d(Ie,{Dh:()=>ve,GT:()=>K,cc:()=>ye,hO:()=>Ke,on:()=>U,pX:()=>re,xv:()=>he});var s=R(4650),J=R(9260),N=R(2432);Tt=R.hmd(Tt);const oe=["ngOnDestroy"],re=(Me,Te,He,Le={})=>new Proxy(Me,{get:(xe,be)=>He.runOutsideAngular(()=>{var Qe;if(Me[be])return!(null===(Qe=Le?.spy)||void 0===Qe)&&Qe.get&&Le.spy.get(be,Me[be]),Me[be];if(oe.indexOf(be)>-1)return()=>{};const Oe=Te.toPromise().then(ue=>{const Y=ue&&ue[be];return"function"==typeof Y?Y.bind(ue):Y&&Y.then?Y.then(We=>He.run(()=>We)):He.run(()=>Y)});return new Proxy(()=>{},{get:(ue,Y)=>Oe[Y],apply:(ue,Y,We)=>Oe.then(Ye=>{var Pt;const et=Ye&&Ye(...We);return!(null===(Pt=Le?.spy)||void 0===Pt)&&Pt.apply&&Le.spy.apply(be,We,et),et})})})}),K=(Me,Te)=>{Te.forEach(He=>{Object.getOwnPropertyNames(He.prototype||He).forEach(Le=>{Object.defineProperty(Me.prototype,Le,Object.getOwnPropertyDescriptor(He.prototype||He,Le))})})};class ge{constructor(Te){return Te}}const ve=new s.OlP("angularfire2.app.options"),he=new s.OlP("angularfire2.app.name");function U(Me,Te,He){const xe="object"==typeof He&&He||{};xe.name=xe.name||"string"==typeof He&&He||"[DEFAULT]";const Qe=J.Z.apps.filter(Oe=>Oe&&Oe.name===xe.name)[0]||Te.runOutsideAngular(()=>J.Z.initializeApp(Me,xe));try{JSON.stringify(Me)!==JSON.stringify(Qe.options)&&G("error",`${Qe.name} Firebase App already initialized with different options${Tt.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new ge(Qe)}const G=(Me,...Te)=>{(0,s.X6Q)()&&typeof console<"u"&&console[Me](...Te)},Z={provide:ge,useFactory:U,deps:[ve,s.R0b,[new s.FiY,he]]};let Ke=(()=>{class Me{constructor(He){J.Z.registerVersion("angularfire",N.q4.full,"core"),J.Z.registerVersion("angularfire",N.q4.full,"app-compat"),J.Z.registerVersion("angular",s.q4F.full,He.toString())}static initializeApp(He,Le){return{ngModule:Me,providers:[{provide:ve,useValue:He},{provide:he,useValue:Le}]}}}return Me.\u0275fac=function(He){return new(He||Me)(s.LFG(s.Lbi))},Me.\u0275mod=s.oAB({type:Me}),Me.\u0275inj=s.cJS({providers:[Z]}),Me})();function ye(Me,Te,He,Le,xe){const[,be,Qe]=globalThis.\u0275AngularfireInstanceCache.find(Oe=>Oe[0]===Me)||[];if(be)return function Je(Me,Te){try{return Me.toString()===Te.toString()}catch{return Me===Te}}(xe,Qe)||(me("error",`${Te} was already initialized on the ${He} Firebase App with different settings.${tt?" You may need to reload as Firebase is not HMR aware.":""}`),me("warn",{is:xe,was:Qe})),be;{const Oe=Le();return globalThis.\u0275AngularfireInstanceCache.push([Me,Oe,xe]),Oe}}const tt=!!Tt.hot,me=(Me,...Te)=>{(0,s.X6Q)()&&typeof console<"u"&&console[Me](...Te)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},2432:(Tt,Ie,R)=>{R.d(Ie,{q4:()=>Sr,iC:()=>wd,HU:()=>yd,vb:()=>vd,JM:()=>ih});var s=R(4650),J=R(259),N=R(5861),oe=R(9681),re=R(2090),K=R(4859),ge=R(1877);R(2833);const he="@firebase/remote-config",U="0.4.4",ye=new re.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class Ce{constructor(P,j,le,De){this.client=P,this.storage=j,this.storageCache=le,this.logger=De}isCachedDataFresh(P,j){if(!j)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const le=Date.now()-j,De=le<=P;return this.logger.debug(`Config fetch cache check. Cache age millis: ${le}. Cache max age millis (minimumFetchIntervalMillis setting): ${P}. Is cache hit: ${De}.`),De}fetch(P){var j=this;return(0,N.Z)(function*(){const[le,De]=yield Promise.all([j.storage.getLastSuccessfulFetchTimestampMillis(),j.storage.getLastSuccessfulFetchResponse()]);if(De&&j.isCachedDataFresh(P.cacheMaxAgeMillis,le))return De;P.eTag=De&&De.eTag;const Ve=yield j.client.fetch(P),yt=[j.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===Ve.status&&yt.push(j.storage.setLastSuccessfulFetchResponse(Ve)),yield Promise.all(yt),Ve})()}}function Se(L=navigator){return L.languages&&L.languages[0]||L.language}class Fe{constructor(P,j,le,De,Ve,yt){this.firebaseInstallations=P,this.sdkVersion=j,this.namespace=le,this.projectId=De,this.apiKey=Ve,this.appId=yt}fetch(P){var j=this;return(0,N.Z)(function*(){const[le,De]=yield Promise.all([j.firebaseInstallations.getId(),j.firebaseInstallations.getToken()]),yt=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${j.projectId}/namespaces/${j.namespace}:fetch?key=${j.apiKey}`,Yt={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":P.eTag||"*"},Xt={sdk_version:j.sdkVersion,app_instance_id:le,app_instance_id_token:De,app_id:j.appId,language_code:Se()},li={method:"POST",headers:Yt,body:JSON.stringify(Xt)},Di=fetch(yt,li),Hi=new Promise((In,gn)=>{P.signal.addEventListener(()=>{const dc=new Error("The operation was aborted.");dc.name="AbortError",gn(dc)})});let Zi;try{yield Promise.race([Di,Hi]),Zi=yield Di}catch(In){let gn="fetch-client-network";throw"AbortError"===In?.name&&(gn="fetch-timeout"),ye.create(gn,{originalErrorMessage:In?.message})}let Mn=Zi.status;const xs=Zi.headers.get("ETag")||void 0;let ji,Ys;if(200===Zi.status){let In;try{In=yield Zi.json()}catch(gn){throw ye.create("fetch-client-parse",{originalErrorMessage:gn?.message})}ji=In.entries,Ys=In.state}if("INSTANCE_STATE_UNSPECIFIED"===Ys?Mn=500:"NO_CHANGE"===Ys?Mn=304:("NO_TEMPLATE"===Ys||"EMPTY_CONFIG"===Ys)&&(ji={}),304!==Mn&&200!==Mn)throw ye.create("fetch-status",{httpStatus:Mn});return{status:Mn,eTag:xs,config:ji}})()}}class pt{constructor(P,j){this.client=P,this.storage=j}fetch(P){var j=this;return(0,N.Z)(function*(){const le=(yield j.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return j.attemptFetch(P,le)})()}attemptFetch(P,{throttleEndTimeMillis:j,backoffCount:le}){var De=this;return(0,N.Z)(function*(){yield function Ue(L,P){return new Promise((j,le)=>{const De=Math.max(P-Date.now(),0),Ve=setTimeout(j,De);L.addEventListener(()=>{clearTimeout(Ve),le(ye.create("fetch-throttle",{throttleEndTimeMillis:P}))})})}(P.signal,j);try{const Ve=yield De.client.fetch(P);return yield De.storage.deleteThrottleMetadata(),Ve}catch(Ve){if(!function Ze(L){if(!(L instanceof re.ZR&&L.customData))return!1;const P=Number(L.customData.httpStatus);return 429===P||500===P||503===P||504===P}(Ve))throw Ve;const yt={throttleEndTimeMillis:Date.now()+(0,re.$s)(le),backoffCount:le+1};return yield De.storage.setThrottleMetadata(yt),De.attemptFetch(P,yt)}})()}}class si{constructor(P,j,le,De,Ve){this.app=P,this._client=j,this._storageCache=le,this._storage=De,this._logger=Ve,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Dt(L,P){const j=L.target.error||void 0;return ye.create(P,{originalErrorMessage:j&&j?.message})}const ei="app_namespace_store";class Yi{constructor(P,j,le,De=function Pi(){return new Promise((L,P)=>{try{const j=indexedDB.open("firebase_remote_config",1);j.onerror=le=>{P(Dt(le,"storage-open"))},j.onsuccess=le=>{L(le.target.result)},j.onupgradeneeded=le=>{0===le.oldVersion&&le.target.result.createObjectStore(ei,{keyPath:"compositeKey"})}}catch(j){P(ye.create("storage-open",{originalErrorMessage:j?.message}))}})}()){this.appId=P,this.appName=j,this.namespace=le,this.openDbPromise=De}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(P){return this.set("last_fetch_status",P)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(P){return this.set("last_successful_fetch_timestamp_millis",P)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(P){return this.set("last_successful_fetch_response",P)}getActiveConfig(){return this.get("active_config")}setActiveConfig(P){return this.set("active_config",P)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(P){return this.set("active_config_etag",P)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(P){return this.set("throttle_metadata",P)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(P){var j=this;return(0,N.Z)(function*(){const le=yield j.openDbPromise;return new Promise((De,Ve)=>{const Yt=le.transaction([ei],"readonly").objectStore(ei),Xt=j.createCompositeKey(P);try{const li=Yt.get(Xt);li.onerror=Di=>{Ve(Dt(Di,"storage-get"))},li.onsuccess=Di=>{const Hi=Di.target.result;De(Hi?Hi.value:void 0)}}catch(li){Ve(ye.create("storage-get",{originalErrorMessage:li?.message}))}})})()}set(P,j){var le=this;return(0,N.Z)(function*(){const De=yield le.openDbPromise;return new Promise((Ve,yt)=>{const Xt=De.transaction([ei],"readwrite").objectStore(ei),li=le.createCompositeKey(P);try{const Di=Xt.put({compositeKey:li,value:j});Di.onerror=Hi=>{yt(Dt(Hi,"storage-set"))},Di.onsuccess=()=>{Ve()}}catch(Di){yt(ye.create("storage-set",{originalErrorMessage:Di?.message}))}})})()}delete(P){var j=this;return(0,N.Z)(function*(){const le=yield j.openDbPromise;return new Promise((De,Ve)=>{const Yt=le.transaction([ei],"readwrite").objectStore(ei),Xt=j.createCompositeKey(P);try{const li=Yt.delete(Xt);li.onerror=Di=>{Ve(Dt(Di,"storage-delete"))},li.onsuccess=()=>{De()}}catch(li){Ve(ye.create("storage-delete",{originalErrorMessage:li?.message}))}})})()}createCompositeKey(P){return[this.appId,this.appName,this.namespace,P].join()}}class mn{constructor(P){this.storage=P}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var P=this;return(0,N.Z)(function*(){const j=P.storage.getLastFetchStatus(),le=P.storage.getLastSuccessfulFetchTimestampMillis(),De=P.storage.getActiveConfig(),Ve=yield j;Ve&&(P.lastFetchStatus=Ve);const yt=yield le;yt&&(P.lastSuccessfulFetchTimestampMillis=yt);const Yt=yield De;Yt&&(P.activeConfig=Yt)})()}setLastFetchStatus(P){return this.lastFetchStatus=P,this.storage.setLastFetchStatus(P)}setLastSuccessfulFetchTimestampMillis(P){return this.lastSuccessfulFetchTimestampMillis=P,this.storage.setLastSuccessfulFetchTimestampMillis(P)}setActiveConfig(P){return this.activeConfig=P,this.storage.setActiveConfig(P)}}function $n(){return Vi.apply(this,arguments)}function Vi(){return(Vi=(0,N.Z)(function*(){if(!(0,re.hl)())return!1;try{return yield(0,re.eu)()}catch{return!1}})).apply(this,arguments)}!function Fr(){(0,oe._registerComponent)(new K.wA("remote-config",function L(P,{instanceIdentifier:j}){const le=P.getProvider("app").getImmediate(),De=P.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw ye.create("registration-window");if(!(0,re.hl)())throw ye.create("indexed-db-unavailable");const{projectId:Ve,apiKey:yt,appId:Yt}=le.options;if(!Ve)throw ye.create("registration-project-id");if(!yt)throw ye.create("registration-api-key");if(!Yt)throw ye.create("registration-app-id");const Xt=new Yi(Yt,le.name,j=j||"firebase"),li=new mn(Xt),Di=new ge.Yd(he);Di.logLevel=ge.in.ERROR;const Hi=new Fe(De,oe.SDK_VERSION,j,Ve,yt,Yt),Zi=new pt(Hi,Xt),Mn=new Ce(Zi,Xt,li,Di),xs=new si(le,Mn,li,Xt,Di);return function Qe(L){const P=(0,re.m9)(L);P._initializePromise||(P._initializePromise=P._storageCache.loadFromStorage().then(()=>{P._isInitializationComplete=!0}))}(xs),xs},"PUBLIC").setMultipleInstances(!0)),(0,oe.registerVersion)(he,U),(0,oe.registerVersion)(he,U,"esm2017")}();var Ki=R(751);const vt="analytics",kr="firebase_id",Yr="origin",qi=6e4,pn="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",tr="https://www.googletagmanager.com/gtag/js",xt=new ge.Yd("@firebase/analytics"),bt=new re.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function oo(L){if(!L.startsWith(tr)){const P=bt.create("invalid-gtag-resource",{gtagURL:L});return xt.warn(P.message),""}return L}function Qi(L){return Promise.all(L.map(P=>P.catch(j=>j)))}function yi(){return(yi=(0,N.Z)(function*(L,P,j,le,De,Ve){const yt=le[De];try{if(yt)yield P[yt];else{const Xt=(yield Qi(j)).find(li=>li.measurementId===De);Xt&&(yield P[Xt.appId])}}catch(Yt){xt.error(Yt)}L("config",De,Ve)})).apply(this,arguments)}function ni(){return(ni=(0,N.Z)(function*(L,P,j,le,De){try{let Ve=[];if(De&&De.send_to){let yt=De.send_to;Array.isArray(yt)||(yt=[yt]);const Yt=yield Qi(j);for(const Xt of yt){const li=Yt.find(Hi=>Hi.measurementId===Xt),Di=li&&P[li.appId];if(!Di){Ve=[];break}Ve.push(Di)}}0===Ve.length&&(Ve=Object.values(P)),yield Promise.all(Ve),L("event",le,De||{})}catch(Ve){xt.error(Ve)}})).apply(this,arguments)}const we=30,Nt=new class Vt{constructor(P={},j=1e3){this.throttleMetadata=P,this.intervalMillis=j}getThrottleMetadata(P){return this.throttleMetadata[P]}setThrottleMetadata(P,j){this.throttleMetadata[P]=j}deleteThrottleMetadata(P){delete this.throttleMetadata[P]}};function gi(L){return new Headers({Accept:"application/json","x-goog-api-key":L})}function V(){return(V=(0,N.Z)(function*(L){var P;const{appId:j,apiKey:le}=L,De={method:"GET",headers:gi(le)},Ve=pn.replace("{app-id}",j),yt=yield fetch(Ve,De);if(200!==yt.status&&304!==yt.status){let Yt="";try{const Xt=yield yt.json();null!==(P=Xt.error)&&void 0!==P&&P.message&&(Yt=Xt.error.message)}catch{}throw bt.create("config-fetch-failed",{httpStatus:yt.status,responseMessage:Yt})}return yt.json()})).apply(this,arguments)}function W(){return(W=(0,N.Z)(function*(L,P=Nt,j){const{appId:le,apiKey:De,measurementId:Ve}=L.options;if(!le)throw bt.create("no-app-id");if(!De){if(Ve)return{measurementId:Ve,appId:le};throw bt.create("no-api-key")}const yt=P.getThrottleMetadata(le)||{backoffCount:0,throttleEndTimeMillis:Date.now()},Yt=new wi;return setTimeout((0,N.Z)(function*(){Yt.abort()}),void 0!==j?j:qi),_e({appId:le,apiKey:De,measurementId:Ve},yt,Yt,P)})).apply(this,arguments)}function _e(L,P,j){return te.apply(this,arguments)}function te(){return te=(0,N.Z)(function*(L,{throttleEndTimeMillis:P,backoffCount:j},le,De=Nt){var Ve;const{appId:yt,measurementId:Yt}=L;try{yield function st(L,P){return new Promise((j,le)=>{const De=Math.max(P-Date.now(),0),Ve=setTimeout(j,De);L.addEventListener(()=>{clearTimeout(Ve),le(bt.create("fetch-throttle",{throttleEndTimeMillis:P}))})})}(le,P)}catch(Xt){if(Yt)return xt.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Yt} provided in the "measurementId" field in the local Firebase config. [${Xt?.message}]`),{appId:yt,measurementId:Yt};throw Xt}try{const Xt=yield function Fi(L){return V.apply(this,arguments)}(L);return De.deleteThrottleMetadata(yt),Xt}catch(Xt){const li=Xt;if(!function rt(L){if(!(L instanceof re.ZR&&L.customData))return!1;const P=Number(L.customData.httpStatus);return 429===P||500===P||503===P||504===P}(li)){if(De.deleteThrottleMetadata(yt),Yt)return xt.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Yt} provided in the "measurementId" field in the local Firebase config. [${li?.message}]`),{appId:yt,measurementId:Yt};throw Xt}const Di=503===Number(null===(Ve=li?.customData)||void 0===Ve?void 0:Ve.httpStatus)?(0,re.$s)(j,De.intervalMillis,we):(0,re.$s)(j,De.intervalMillis),Hi={throttleEndTimeMillis:Date.now()+Di,backoffCount:j+1};return De.setThrottleMetadata(yt,Hi),xt.debug(`Calling attemptFetch again in ${Di} millis`),_e(L,Hi,le,De)}}),te.apply(this,arguments)}class wi{constructor(){this.listeners=[]}addEventListener(P){this.listeners.push(P)}abort(){this.listeners.forEach(P=>P())}}let zi,Wt;function Ti(){return(Ti=(0,N.Z)(function*(L,P,j,le,De){if(De&&De.global)L("event",j,le);else{const Ve=yield P;L("event",j,Object.assign(Object.assign({},le),{send_to:Ve}))}})).apply(this,arguments)}function Ge(){return(Ge=(0,N.Z)(function*(){if(!(0,re.hl)())return xt.warn(bt.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,re.eu)()}catch(L){return xt.warn(bt.create("indexeddb-unavailable",{errorInfo:L?.toString()}).message),!1}return!0})).apply(this,arguments)}function zt(){return zt=(0,N.Z)(function*(L,P,j,le,De,Ve,yt){var Yt;const Xt=function B(L){return W.apply(this,arguments)}(L);Xt.then(Mn=>{j[Mn.measurementId]=Mn.appId,L.options.measurementId&&Mn.measurementId!==L.options.measurementId&&xt.warn(`The measurement ID in the local Firebase config (${L.options.measurementId}) does not match the measurement ID fetched from the server (${Mn.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(Mn=>xt.error(Mn)),P.push(Xt);const li=function Ne(){return Ge.apply(this,arguments)}().then(Mn=>{if(Mn)return le.getId()}),[Di,Hi]=yield Promise.all([Xt,li]);(function $e(L){const P=window.document.getElementsByTagName("script");for(const j of Object.values(P))if(j.src&&j.src.includes(tr)&&j.src.includes(L))return j;return null})(Ve)||function Xi(L,P){const j=function fn(L,P){let j;return window.trustedTypes&&(j=window.trustedTypes.createPolicy(L,P)),j}("firebase-js-sdk-policy",{createScriptURL:oo}),le=document.createElement("script"),De=`${tr}?l=${L}&id=${P}`;le.src=j?j?.createScriptURL(De):De,le.async=!0,document.head.appendChild(le)}(Ve,Di.measurementId),Wt&&(De("consent","default",Wt),function $(L){Wt=L}(void 0)),De("js",new Date);const Zi=null!==(Yt=yt?.config)&&void 0!==Yt?Yt:{};return Zi[Yr]="firebase",Zi.update=!0,null!=Hi&&(Zi[kr]=Hi),De("config",Di.measurementId,Zi),zi&&(De("set",zi),function ae(L){zi=L}(void 0)),Di.measurementId}),zt.apply(this,arguments)}class Ht{constructor(P){this.app=P}_delete(){return delete Ci[this.app.options.appId],Promise.resolve()}}let Ci={},so=[];const Nn={};let ft,jt,kn="dataLayer",Mr="gtag",Zt=!1;function Ln(L,P,j){!function _s(){const L=[];if((0,re.ru)()&&L.push("This is a browser extension environment."),(0,re.zI)()||L.push("Cookies are not available."),L.length>0){const P=L.map((le,De)=>`(${De+1}) ${le}`).join(" "),j=bt.create("invalid-analytics-context",{errorInfo:P});xt.warn(j.message)}}();const le=L.options.appId;if(!le)throw bt.create("no-app-id");if(!L.options.apiKey){if(!L.options.measurementId)throw bt.create("no-api-key");xt.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${L.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Ci[le])throw bt.create("already-exists",{id:le});if(!Zt){!function en(L){let P=[];Array.isArray(window[L])?P=window[L]:window[L]=P}(kn);const{wrappedGtag:Ve,gtagCore:yt}=function Fn(L,P,j,le,De){let Ve=function(...yt){window[le].push(arguments)};return window[De]&&"function"==typeof window[De]&&(Ve=window[De]),window[De]=function Yn(L,P,j,le){function Ve(){return Ve=(0,N.Z)(function*(yt,Yt,Xt){try{"event"===yt?yield function qr(L,P,j,le,De){return ni.apply(this,arguments)}(L,P,j,Yt,Xt):"config"===yt?yield function Do(L,P,j,le,De,Ve){return yi.apply(this,arguments)}(L,P,j,le,Yt,Xt):"consent"===yt?L("consent","update",Xt):L("set",Yt)}catch(li){xt.error(li)}}),Ve.apply(this,arguments)}return function De(yt,Yt,Xt){return Ve.apply(this,arguments)}}(Ve,L,P,j),{gtagCore:Ve,wrappedGtag:window[De]}}(Ci,so,Nn,kn,Mr);jt=Ve,ft=yt,Zt=!0}return Ci[le]=function Qt(L,P,j,le,De,Ve,yt){return zt.apply(this,arguments)}(L,so,Nn,P,ft,kn,j),new Ht(L)}function ir(){return bs.apply(this,arguments)}function bs(){return(bs=(0,N.Z)(function*(){if((0,re.ru)()||!(0,re.zI)()||!(0,re.hl)())return!1;try{return yield(0,re.eu)()}catch{return!1}})).apply(this,arguments)}const Mo="@firebase/analytics";!function Io(){(0,oe._registerComponent)(new K.wA(vt,(P,{options:j})=>Ln(P.getProvider("app").getImmediate(),P.getProvider("installations-internal").getImmediate(),j),"PUBLIC")),(0,oe._registerComponent)(new K.wA("analytics-internal",function L(P){try{const j=P.getProvider(vt).getImmediate();return{logEvent:(le,De,Ve)=>function Bn(L,P,j,le){L=(0,re.m9)(L),function Wi(L,P,j,le,De){return Ti.apply(this,arguments)}(jt,Ci[L.app.options.appId],P,j,le).catch(De=>xt.error(De))}(j,le,De,Ve)}}catch(j){throw bt.create("interop-component-reg-failed",{reason:j})}},"PRIVATE")),(0,oe.registerVersion)(Mo,"0.9.5"),(0,oe.registerVersion)(Mo,"0.9.5","esm2017")}();var ac=R(4408),Ap=R(7565);const cc=new class Ca extends Ap.v{}(class _i extends ac.o{constructor(P,j){super(P,j),this.scheduler=P,this.work=j}schedule(P,j=0){return j>0?super.schedule(P,j):(this.delay=j,this.state=P,this.scheduler.flush(this),this)}execute(P,j){return j>0||this.closed?super.execute(P,j):this._execute(P,j)}requestAsyncId(P,j,le=0){return null!=le&&le>0||null==le&&this.delay>0?super.requestAsyncId(P,j,le):(P.flush(this),0)}});var ys=R(4986),Qo=R(8505),nr=R(9468),gd=R(5363);const Sr=new s.GfV("7.5.0"),rr="__angularfire_symbol__analyticsIsSupportedValue",Ea="__angularfire_symbol__analyticsIsSupported",So="__angularfire_symbol__remoteConfigIsSupportedValue",ao="__angularfire_symbol__remoteConfigIsSupported",ln="__angularfire_symbol__messagingIsSupportedValue",ka="__angularfire_symbol__messagingIsSupported";function ih(L,P,j){if(P){if(1===P.length)return P[0];const Ve=P.filter(yt=>yt.app===j);if(1===Ve.length)return Ve[0]}return j.container.getProvider(L).getImmediate({optional:!0})}globalThis[Ea]||(globalThis[Ea]=ir().then(L=>globalThis[rr]=L).catch(()=>globalThis[rr]=!1)),globalThis[ka]||(globalThis[ka]=(0,Ki.Gb)().then(L=>globalThis[ln]=L).catch(()=>globalThis[ln]=!1)),globalThis[ao]||(globalThis[ao]=$n().then(L=>globalThis[So]=L).catch(()=>globalThis[So]=!1));const vd=(L,P)=>{const j=P?[P]:(0,J.C6)(),le=[];return j.forEach(De=>{De.container.getProvider(L).instances.forEach(yt=>{le.includes(yt)||le.push(yt)})}),le};function Ma(){}class sl{constructor(P,j=cc){this.zone=P,this.delegate=j}now(){return this.delegate.now()}schedule(P,j,le){const De=this.zone;return this.delegate.schedule(function(yt){De.runGuarded(()=>{P.apply(this,[yt])})},j,le)}}class bd{constructor(P){this.zone=P,this.task=null}call(P,j){const le=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Ma,{},Ma,Ma)),j.pipe((0,Qo.b)({next:le,complete:le,error:le})).subscribe(P).add(le)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let yd=(()=>{class L{constructor(j){this.ngZone=j,this.outsideAngular=j.runOutsideAngular(()=>new sl(Zone.current)),this.insideAngular=j.run(()=>new sl(Zone.current,ys.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return L.\u0275fac=function(j){return new(j||L)(s.LFG(s.R0b))},L.\u0275prov=s.Yz7({token:L,factory:L.\u0275fac,providedIn:"root"}),L})();function ws(){const L=globalThis.\u0275AngularFireScheduler;if(!L)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return L}function wd(L){return ws(),function lc(L){return function(j){return(j=j.lift(new bd(L.ngZone))).pipe((0,nr.R)(L.outsideAngular),(0,gd.Q)(L.insideAngular))}}(ws())(L)}},2090:(Tt,Ie,R)=>{R.d(Ie,{$s:()=>Vt,BH:()=>be,G6:()=>Se,L:()=>he,LL:()=>ot,Pz:()=>xe,Sg:()=>Qe,UG:()=>Y,US:()=>K,ZB:()=>Z,ZR:()=>Bt,aH:()=>Le,b$:()=>Pt,eu:()=>Ue,hl:()=>Fe,jU:()=>We,m9:()=>Fi,ne:()=>xt,pd:()=>pn,r3:()=>jn,ru:()=>Ye,tV:()=>U,uI:()=>ue,vZ:()=>Ki,w1:()=>se,xO:()=>Yr,xb:()=>$n,z$:()=>Oe,zI:()=>Ze,zd:()=>qi});const oe=function(V){const B=[];let W=0;for(let _e=0;_e<V.length;_e++){let te=V.charCodeAt(_e);te<128?B[W++]=te:te<2048?(B[W++]=te>>6|192,B[W++]=63&te|128):55296==(64512&te)&&_e+1<V.length&&56320==(64512&V.charCodeAt(_e+1))?(te=65536+((1023&te)<<10)+(1023&V.charCodeAt(++_e)),B[W++]=te>>18|240,B[W++]=te>>12&63|128,B[W++]=te>>6&63|128,B[W++]=63&te|128):(B[W++]=te>>12|224,B[W++]=te>>6&63|128,B[W++]=63&te|128)}return B},K={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(V,B){if(!Array.isArray(V))throw Error("encodeByteArray takes an array as a parameter");this.init_();const W=B?this.byteToCharMapWebSafe_:this.byteToCharMap_,_e=[];for(let te=0;te<V.length;te+=3){const st=V[te],rt=te+1<V.length,wi=rt?V[te+1]:0,zi=te+2<V.length,Wi=zi?V[te+2]:0;let tn=(15&wi)<<2|Wi>>6,Wr=63&Wi;zi||(Wr=64,rt||(tn=64)),_e.push(W[st>>2],W[(3&st)<<4|wi>>4],W[tn],W[Wr])}return _e.join("")},encodeString(V,B){return this.HAS_NATIVE_SUPPORT&&!B?btoa(V):this.encodeByteArray(oe(V),B)},decodeString(V,B){return this.HAS_NATIVE_SUPPORT&&!B?atob(V):function(V){const B=[];let W=0,_e=0;for(;W<V.length;){const te=V[W++];if(te<128)B[_e++]=String.fromCharCode(te);else if(te>191&&te<224){const st=V[W++];B[_e++]=String.fromCharCode((31&te)<<6|63&st)}else if(te>239&&te<365){const zi=((7&te)<<18|(63&V[W++])<<12|(63&V[W++])<<6|63&V[W++])-65536;B[_e++]=String.fromCharCode(55296+(zi>>10)),B[_e++]=String.fromCharCode(56320+(1023&zi))}else{const st=V[W++],rt=V[W++];B[_e++]=String.fromCharCode((15&te)<<12|(63&st)<<6|63&rt)}}return B.join("")}(this.decodeStringToByteArray(V,B))},decodeStringToByteArray(V,B){this.init_();const W=B?this.charToByteMapWebSafe_:this.charToByteMap_,_e=[];for(let te=0;te<V.length;){const st=W[V.charAt(te++)],wi=te<V.length?W[V.charAt(te)]:0;++te;const Wi=te<V.length?W[V.charAt(te)]:64;++te;const ri=te<V.length?W[V.charAt(te)]:64;if(++te,null==st||null==wi||null==Wi||null==ri)throw new ge;_e.push(st<<2|wi>>4),64!==Wi&&(_e.push(wi<<4&240|Wi>>2),64!==ri&&_e.push(Wi<<6&192|ri))}return _e},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let V=0;V<this.ENCODED_VALS.length;V++)this.byteToCharMap_[V]=this.ENCODED_VALS.charAt(V),this.charToByteMap_[this.byteToCharMap_[V]]=V,this.byteToCharMapWebSafe_[V]=this.ENCODED_VALS_WEBSAFE.charAt(V),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[V]]=V,V>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(V)]=V,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(V)]=V)}}};class ge extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const he=function(V){return function(V){const B=oe(V);return K.encodeByteArray(B,!0)}(V).replace(/\./g,"")},U=function(V){try{return K.decodeString(V,!0)}catch(B){console.error("base64Decode failed: ",B)}return null};function Z(V,B){if(!(B instanceof Object))return B;switch(B.constructor){case Date:return new Date(B.getTime());case Object:void 0===V&&(V={});break;case Array:V=[];break;default:return B}for(const W in B)!B.hasOwnProperty(W)||!Ke(W)||(V[W]=Z(V[W],B[W]));return V}function Ke(V){return"__proto__"!==V}const Me=()=>{try{return function ye(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const V=process.env.__FIREBASE_DEFAULTS__;return V?JSON.parse(V):void 0})()||(()=>{if(typeof document>"u")return;let V;try{V=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const B=V&&U(V[1]);return B&&JSON.parse(B)})()}catch(V){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${V}`)}},Le=()=>{var V;return null===(V=Me())||void 0===V?void 0:V.config},xe=V=>{var B;return null===(B=Me())||void 0===B?void 0:B[`_${V}`]};class be{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((B,W)=>{this.resolve=B,this.reject=W})}wrapCallback(B){return(W,_e)=>{W?this.reject(W):this.resolve(_e),"function"==typeof B&&(this.promise.catch(()=>{}),1===B.length?B(W):B(W,_e))}}}function Qe(V,B){if(V.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const _e=B||"demo-project",te=V.iat||0,st=V.sub||V.user_id;if(!st)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const rt=Object.assign({iss:`https://securetoken.google.com/${_e}`,aud:_e,iat:te,exp:te+3600,auth_time:te,sub:st,user_id:st,firebase:{sign_in_provider:"custom",identities:{}}},V);return[he(JSON.stringify({alg:"none",type:"JWT"})),he(JSON.stringify(rt)),""].join(".")}function Oe(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function ue(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Oe())}function Y(){var V;const B=null===(V=Me())||void 0===V?void 0:V.forceEnvironment;if("node"===B)return!0;if("browser"===B)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function We(){return"object"==typeof self&&self.self===self}function Ye(){const V="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof V&&void 0!==V.id}function Pt(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function se(){const V=Oe();return V.indexOf("MSIE ")>=0||V.indexOf("Trident/")>=0}function Se(){return!Y()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Fe(){try{return"object"==typeof indexedDB}catch{return!1}}function Ue(){return new Promise((V,B)=>{try{let W=!0;const _e="validate-browser-context-for-indexeddb-analytics-module",te=self.indexedDB.open(_e);te.onsuccess=()=>{te.result.close(),W||self.indexedDB.deleteDatabase(_e),V(!0)},te.onupgradeneeded=()=>{W=!1},te.onerror=()=>{var st;B((null===(st=te.error)||void 0===st?void 0:st.message)||"")}}catch(W){B(W)}})}function Ze(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class Bt extends Error{constructor(B,W,_e){super(W),this.code=B,this.customData=_e,this.name="FirebaseError",Object.setPrototypeOf(this,Bt.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ot.prototype.create)}}class ot{constructor(B,W,_e){this.service=B,this.serviceName=W,this.errors=_e}create(B,...W){const _e=W[0]||{},te=`${this.service}/${B}`,st=this.errors[B],rt=st?function si(V,B){return V.replace(Dt,(W,_e)=>{const te=B[_e];return null!=te?String(te):`<${_e}?>`})}(st,_e):"Error";return new Bt(te,`${this.serviceName}: ${rt} (${te}).`,_e)}}const Dt=/\{\$([^}]+)}/g;function jn(V,B){return Object.prototype.hasOwnProperty.call(V,B)}function $n(V){for(const B in V)if(Object.prototype.hasOwnProperty.call(V,B))return!1;return!0}function Ki(V,B){if(V===B)return!0;const W=Object.keys(V),_e=Object.keys(B);for(const te of W){if(!_e.includes(te))return!1;const st=V[te],rt=B[te];if(vt(st)&&vt(rt)){if(!Ki(st,rt))return!1}else if(st!==rt)return!1}for(const te of _e)if(!W.includes(te))return!1;return!0}function vt(V){return null!==V&&"object"==typeof V}function Yr(V){const B=[];for(const[W,_e]of Object.entries(V))Array.isArray(_e)?_e.forEach(te=>{B.push(encodeURIComponent(W)+"="+encodeURIComponent(te))}):B.push(encodeURIComponent(W)+"="+encodeURIComponent(_e));return B.length?"&"+B.join("&"):""}function qi(V){const B={};return V.replace(/^\?/,"").split("&").forEach(_e=>{if(_e){const[te,st]=_e.split("=");B[decodeURIComponent(te)]=decodeURIComponent(st)}}),B}function pn(V){const B=V.indexOf("?");if(!B)return"";const W=V.indexOf("#",B);return V.substring(B,W>0?W:void 0)}function xt(V,B){const W=new Et(V,B);return W.subscribe.bind(W)}class Et{constructor(B,W){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=W,this.task.then(()=>{B(this)}).catch(_e=>{this.error(_e)})}next(B){this.forEachObserver(W=>{W.next(B)})}error(B){this.forEachObserver(W=>{W.error(B)}),this.close(B)}complete(){this.forEachObserver(B=>{B.complete()}),this.close()}subscribe(B,W,_e){let te;if(void 0===B&&void 0===W&&void 0===_e)throw new Error("Missing Observer.");te=function oo(V,B){if("object"!=typeof V||null===V)return!1;for(const W of B)if(W in V&&"function"==typeof V[W])return!0;return!1}(B,["next","error","complete"])?B:{next:B,error:W,complete:_e},void 0===te.next&&(te.next=Qi),void 0===te.error&&(te.error=Qi),void 0===te.complete&&(te.complete=Qi);const st=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?te.error(this.finalError):te.complete()}catch{}}),this.observers.push(te),st}unsubscribeOne(B){void 0===this.observers||void 0===this.observers[B]||(delete this.observers[B],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(B){if(!this.finalized)for(let W=0;W<this.observers.length;W++)this.sendOne(W,B)}sendOne(B,W){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[B])try{W(this.observers[B])}catch(_e){typeof console<"u"&&console.error&&console.error(_e)}})}close(B){this.finalized||(this.finalized=!0,void 0!==B&&(this.finalError=B),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Qi(){}const Fn=1e3,$e=2,we=144e5,at=.5;function Vt(V,B=Fn,W=$e){const _e=B*Math.pow(W,V),te=Math.round(at*_e*(Math.random()-.5)*2);return Math.min(we,_e+te)}function Fi(V){return V&&V._delegate?V._delegate:V}},5489:(Tt,Ie,R)=>{var s=R(4650);let J=null;function N(){return J}class re{}const K=new s.OlP("DocumentToken");let ge=(()=>{class i{historyGo(e){throw new Error("Not implemented")}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=s.Yz7({token:i,factory:function(){return function ve(){return(0,s.LFG)(U)}()},providedIn:"platform"}),i})();const he=new s.OlP("Location Initialized");let U=(()=>{class i extends ge{constructor(e){super(),this._doc=e,this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return N().getBaseHref(this._doc)}onPopState(e){const n=N().getGlobalEventTarget(this._doc,"window");return n.addEventListener("popstate",e,!1),()=>n.removeEventListener("popstate",e)}onHashChange(e){const n=N().getGlobalEventTarget(this._doc,"window");return n.addEventListener("hashchange",e,!1),()=>n.removeEventListener("hashchange",e)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(e){this._location.pathname=e}pushState(e,n,r){G()?this._history.pushState(e,n,r):this._location.hash=r}replaceState(e,n,r){G()?this._history.replaceState(e,n,r):this._location.hash=r}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}}return i.\u0275fac=function(e){return new(e||i)(s.LFG(K))},i.\u0275prov=s.Yz7({token:i,factory:function(){return function Z(){return new U((0,s.LFG)(K))}()},providedIn:"platform"}),i})();function G(){return!!window.history.pushState}function Ke(i,t){if(0==i.length)return t;if(0==t.length)return i;let e=0;return i.endsWith("/")&&e++,t.startsWith("/")&&e++,2==e?i+t.substring(1):1==e?i+t:i+"/"+t}function ye(i){const t=i.match(/#|\?|$/),e=t&&t.index||i.length;return i.slice(0,e-("/"===i[e-1]?1:0))+i.slice(e)}function Je(i){return i&&"?"!==i[0]?"?"+i:i}let tt=(()=>{class i{historyGo(e){throw new Error("Not implemented")}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=s.Yz7({token:i,factory:function(){return(0,s.f3M)(Me)},providedIn:"root"}),i})();const me=new s.OlP("appBaseHref");let Me=(()=>{class i extends tt{constructor(e,n){super(),this._platformLocation=e,this._removeListenerFns=[],this._baseHref=n??this._platformLocation.getBaseHrefFromDOM()??(0,s.f3M)(K).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return Ke(this._baseHref,e)}path(e=!1){const n=this._platformLocation.pathname+Je(this._platformLocation.search),r=this._platformLocation.hash;return r&&e?`${n}${r}`:n}pushState(e,n,r,o){const d=this.prepareExternalUrl(r+Je(o));this._platformLocation.pushState(e,n,d)}replaceState(e,n,r,o){const d=this.prepareExternalUrl(r+Je(o));this._platformLocation.replaceState(e,n,d)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}}return i.\u0275fac=function(e){return new(e||i)(s.LFG(ge),s.LFG(me,8))},i.\u0275prov=s.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),Te=(()=>{class i extends tt{constructor(e,n){super(),this._platformLocation=e,this._baseHref="",this._removeListenerFns=[],null!=n&&(this._baseHref=n)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}path(e=!1){let n=this._platformLocation.hash;return null==n&&(n="#"),n.length>0?n.substring(1):n}prepareExternalUrl(e){const n=Ke(this._baseHref,e);return n.length>0?"#"+n:n}pushState(e,n,r,o){let d=this.prepareExternalUrl(r+Je(o));0==d.length&&(d=this._platformLocation.pathname),this._platformLocation.pushState(e,n,d)}replaceState(e,n,r,o){let d=this.prepareExternalUrl(r+Je(o));0==d.length&&(d=this._platformLocation.pathname),this._platformLocation.replaceState(e,n,d)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}}return i.\u0275fac=function(e){return new(e||i)(s.LFG(ge),s.LFG(me,8))},i.\u0275prov=s.Yz7({token:i,factory:i.\u0275fac}),i})(),He=(()=>{class i{constructor(e){this._subject=new s.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=e;const n=this._locationStrategy.getBaseHref();this._basePath=function Qe(i){if(new RegExp("^(https?:)?//").test(i)){const[,e]=i.split(/\/\/[^\/]+/);return e}return i}(ye(be(n))),this._locationStrategy.onPopState(r=>{this._subject.emit({url:this.path(!0),pop:!0,state:r.state,type:r.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(e=!1){return this.normalize(this._locationStrategy.path(e))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(e,n=""){return this.path()==this.normalize(e+Je(n))}normalize(e){return i.stripTrailingSlash(function xe(i,t){if(!i||!t.startsWith(i))return t;const e=t.substring(i.length);return""===e||["/",";","?","#"].includes(e[0])?e:t}(this._basePath,be(e)))}prepareExternalUrl(e){return e&&"/"!==e[0]&&(e="/"+e),this._locationStrategy.prepareExternalUrl(e)}go(e,n="",r=null){this._locationStrategy.pushState(r,"",e,n),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+Je(n)),r)}replaceState(e,n="",r=null){this._locationStrategy.replaceState(r,"",e,n),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+Je(n)),r)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(e=0){this._locationStrategy.historyGo?.(e)}onUrlChange(e){return this._urlChangeListeners.push(e),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(n=>{this._notifyUrlChangeListeners(n.url,n.state)})),()=>{const n=this._urlChangeListeners.indexOf(e);this._urlChangeListeners.splice(n,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(e="",n){this._urlChangeListeners.forEach(r=>r(e,n))}subscribe(e,n,r){return this._subject.subscribe({next:e,error:n,complete:r})}}return i.normalizeQueryParams=Je,i.joinWithSlash=Ke,i.stripTrailingSlash=ye,i.\u0275fac=function(e){return new(e||i)(s.LFG(tt))},i.\u0275prov=s.Yz7({token:i,factory:function(){return function Le(){return new He((0,s.LFG)(tt))}()},providedIn:"root"}),i})();function be(i){return i.replace(/\/index.html$/,"")}function Nn(i,t){t=encodeURIComponent(t);for(const e of i.split(";")){const n=e.indexOf("="),[r,o]=-1==n?[e,""]:[e.slice(0,n),e.slice(n+1)];if(r.trim()===t)return decodeURIComponent(o)}return null}class _s{constructor(t,e,n,r){this.$implicit=t,this.ngForOf=e,this.index=n,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Ln=(()=>{class i{set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}constructor(e,n,r){this._viewContainer=e,this._template=n,this._differs=r,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const e=this._ngForOf;!this._differ&&e&&(this._differ=this._differs.find(e).create(this.ngForTrackBy))}if(this._differ){const e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){const n=this._viewContainer;e.forEachOperation((r,o,d)=>{if(null==r.previousIndex)n.createEmbeddedView(this._template,new _s(r.item,this._ngForOf,-1,-1),null===d?void 0:d);else if(null==d)n.remove(null===o?void 0:o);else if(null!==o){const h=n.get(o);n.move(h,d),vs(h,r)}});for(let r=0,o=n.length;r<o;r++){const h=n.get(r).context;h.index=r,h.count=o,h.ngForOf=this._ngForOf}e.forEachIdentityChange(r=>{vs(n.get(r.currentIndex),r)})}static ngTemplateContextGuard(e,n){return!0}}return i.\u0275fac=function(e){return new(e||i)(s.Y36(s.s_b),s.Y36(s.Rgc),s.Y36(s.ZZ4))},i.\u0275dir=s.lG2({type:i,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),i})();function vs(i,t){i.context.$implicit=t.item}let ir=(()=>{class i{constructor(e,n){this._viewContainer=e,this._context=new bs,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=n}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){ai("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){ai("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(e,n){return!0}}return i.\u0275fac=function(e){return new(e||i)(s.Y36(s.s_b),s.Y36(s.Rgc))},i.\u0275dir=s.lG2({type:i,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),i})();class bs{constructor(){this.$implicit=null,this.ngIf=null}}function ai(i,t){if(t&&!t.createEmbeddedView)throw new Error(`${i} must be a TemplateRef, but received '${(0,s.AaK)(t)}'.`)}class Eo{constructor(t,e){this._viewContainerRef=t,this._templateRef=e,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(t){t&&!this._created?this.create():!t&&this._created&&this.destroy()}}let ko=(()=>{class i{constructor(){this._defaultViews=[],this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(e){this._ngSwitch=e,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(e){this._defaultViews.push(e)}_matchCase(e){const n=e==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||n,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),n}_updateDefaultCases(e){if(this._defaultViews.length>0&&e!==this._defaultUsed){this._defaultUsed=e;for(const n of this._defaultViews)n.enforceState(e)}}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275dir=s.lG2({type:i,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"},standalone:!0}),i})(),wa=(()=>{class i{constructor(e,n,r){this.ngSwitch=r,r._addCase(),this._view=new Eo(e,n)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return i.\u0275fac=function(e){return new(e||i)(s.Y36(s.s_b),s.Y36(s.Rgc),s.Y36(ko,9))},i.\u0275dir=s.lG2({type:i,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"},standalone:!0}),i})(),Io=(()=>{class i{constructor(e){this._viewContainerRef=e,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(e){if(e.ngTemplateOutlet||e.ngTemplateOutletInjector){const n=this._viewContainerRef;if(this._viewRef&&n.remove(n.indexOf(this._viewRef)),this.ngTemplateOutlet){const{ngTemplateOutlet:r,ngTemplateOutletContext:o,ngTemplateOutletInjector:d}=this;this._viewRef=n.createEmbeddedView(r,o,d?{injector:d}:void 0)}else this._viewRef=null}else this._viewRef&&e.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return i.\u0275fac=function(e){return new(e||i)(s.Y36(s.s_b))},i.\u0275dir=s.lG2({type:i,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[s.TTD]}),i})();class Ap{createSubscription(t,e){return t.subscribe({next:e,error:n=>{throw n}})}dispose(t){t.unsubscribe()}}class Ca{createSubscription(t,e){return t.then(e,n=>{throw n})}dispose(t){}}const cc=new Ca,Da=new Ap;let ys=(()=>{class i{constructor(e){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=e}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(e){return this._obj?e!==this._obj?(this._dispose(),this.transform(e)):this._latestValue:(e&&this._subscribe(e),this._latestValue)}_subscribe(e){this._obj=e,this._strategy=this._selectStrategy(e),this._subscription=this._strategy.createSubscription(e,n=>this._updateLatestValue(e,n))}_selectStrategy(e){if((0,s.QGY)(e))return cc;if((0,s.F4k)(e))return Da;throw function _i(i,t){return new s.vHH(2100,!1)}()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(e,n){e===this._obj&&(this._latestValue=n,this._ref.markForCheck())}}return i.\u0275fac=function(e){return new(e||i)(s.Y36(s.sBO,16))},i.\u0275pipe=s.Yjl({name:"async",type:i,pure:!1,standalone:!0}),i})(),Ni=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=s.oAB({type:i}),i.\u0275inj=s.cJS({}),i})();const Op="browser",al="server";function Sa(i){return i===al}let le=(()=>{class i{}return i.\u0275prov=(0,s.Yz7)({token:i,providedIn:"root",factory:()=>new De((0,s.LFG)(K),window)}),i})();class De{constructor(t,e){this.document=t,this.window=e,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(!this.supportsScrolling())return;const e=function yt(i,t){const e=i.getElementById(t)||i.getElementsByName(t)[0];if(e)return e;if("function"==typeof i.createTreeWalker&&i.body&&(i.body.createShadowRoot||i.body.attachShadow)){const n=i.createTreeWalker(i.body,NodeFilter.SHOW_ELEMENT);let r=n.currentNode;for(;r;){const o=r.shadowRoot;if(o){const d=o.getElementById(t)||o.querySelector(`[name="${t}"]`);if(d)return d}r=n.nextNode()}}return null}(this.document,t);e&&(this.scrollToElement(e),e.focus())}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}scrollToElement(t){const e=t.getBoundingClientRect(),n=e.left+this.window.pageXOffset,r=e.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(n-o[0],r-o[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const t=Ve(this.window.history)||Ve(Object.getPrototypeOf(this.window.history));return!(!t||!t.writable&&!t.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function Ve(i){return Object.getOwnPropertyDescriptor(i,"scrollRestoration")}class Xt{}class gh extends re{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class hl extends gh{static makeCurrent(){!function oe(i){J||(J=i)}(new hl)}onAndCancel(t,e,n){return t.addEventListener(e,n,!1),()=>{t.removeEventListener(e,n,!1)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getBaseHref(t){const e=function iw(){return pc=pc||document.querySelector("base"),pc?pc.getAttribute("href"):null}();return null==e?null:function Id(i){Zs=Zs||document.createElement("a"),Zs.setAttribute("href",i);const t=Zs.pathname;return"/"===t.charAt(0)?t:`/${t}`}(e)}resetBaseElement(){pc=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return Nn(document.cookie,t)}}let Zs,pc=null;const Y_=new s.OlP("TRANSITION_ID"),ml=[{provide:s.ip1,useFactory:function Ok(i,t,e){return()=>{e.get(s.CZH).donePromise.then(()=>{const n=N(),r=t.querySelectorAll(`style[ng-transition="${i}"]`);for(let o=0;o<r.length;o++)n.remove(r[o])})}},deps:[Y_,K,s.zs3],multi:!0}];let _h=(()=>{class i{build(){return new XMLHttpRequest}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=s.Yz7({token:i,factory:i.\u0275fac}),i})();const Sd=new s.OlP("EventManagerPlugins");let vh=(()=>{class i{constructor(e,n){this._zone=n,this._eventNameToPlugin=new Map,e.forEach(r=>{r.manager=this}),this._plugins=e.slice().reverse()}addEventListener(e,n,r){return this._findPluginFor(n).addEventListener(e,n,r)}addGlobalEventListener(e,n,r){return this._findPluginFor(n).addGlobalEventListener(e,n,r)}getZone(){return this._zone}_findPluginFor(e){const n=this._eventNameToPlugin.get(e);if(n)return n;const r=this._plugins;for(let o=0;o<r.length;o++){const d=r[o];if(d.supports(e))return this._eventNameToPlugin.set(e,d),d}throw new Error(`No event manager plugin found for event ${e}`)}}return i.\u0275fac=function(e){return new(e||i)(s.LFG(Sd),s.LFG(s.R0b))},i.\u0275prov=s.Yz7({token:i,factory:i.\u0275fac}),i})();class q_{constructor(t){this._doc=t}addGlobalEventListener(t,e,n){const r=N().getGlobalEventTarget(this._doc,t);if(!r)throw new Error(`Unsupported event target ${r} for event ${e}`);return this.addEventListener(r,e,n)}}let bh=(()=>{class i{constructor(){this.usageCount=new Map}addStyles(e){for(const n of e)1===this.changeUsageCount(n,1)&&this.onStyleAdded(n)}removeStyles(e){for(const n of e)0===this.changeUsageCount(n,-1)&&this.onStyleRemoved(n)}onStyleRemoved(e){}onStyleAdded(e){}getAllStyles(){return this.usageCount.keys()}changeUsageCount(e,n){const r=this.usageCount;let o=r.get(e)??0;return o+=n,o>0?r.set(e,o):r.delete(e),o}ngOnDestroy(){for(const e of this.getAllStyles())this.onStyleRemoved(e);this.usageCount.clear()}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=s.Yz7({token:i,factory:i.\u0275fac}),i})(),gc=(()=>{class i extends bh{constructor(e){super(),this.doc=e,this.styleRef=new Map,this.hostNodes=new Set,this.resetHostNodes()}onStyleAdded(e){for(const n of this.hostNodes)this.addStyleToHost(n,e)}onStyleRemoved(e){const n=this.styleRef;n.get(e)?.forEach(o=>o.remove()),n.delete(e)}ngOnDestroy(){super.ngOnDestroy(),this.styleRef.clear(),this.resetHostNodes()}addHost(e){this.hostNodes.add(e);for(const n of this.getAllStyles())this.addStyleToHost(e,n)}removeHost(e){this.hostNodes.delete(e)}addStyleToHost(e,n){const r=this.doc.createElement("style");r.textContent=n,e.appendChild(r);const o=this.styleRef.get(n);o?o.push(r):this.styleRef.set(n,[r])}resetHostNodes(){const e=this.hostNodes;e.clear(),e.add(this.doc.head)}}return i.\u0275fac=function(e){return new(e||i)(s.LFG(K))},i.\u0275prov=s.Yz7({token:i,factory:i.\u0275fac}),i})();const Td={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Ds=/%COMP%/g,Rd=new s.OlP("RemoveStylesOnCompDestory",{providedIn:"root",factory:()=>!1});function _c(i,t){return t.flat(100).map(e=>e.replace(Ds,i))}function Gp(i){return t=>{if("__ngUnwrap__"===t)return i;!1===i(t)&&(t.preventDefault(),t.returnValue=!1)}}let Ro=(()=>{class i{constructor(e,n,r,o){this.eventManager=e,this.sharedStylesHost=n,this.appId=r,this.removeStylesOnCompDestory=o,this.rendererByCompId=new Map,this.defaultRenderer=new co(e)}createRenderer(e,n){if(!e||!n)return this.defaultRenderer;const r=this.getOrCreateRenderer(e,n);return r instanceof vc?r.applyToHost(e):r instanceof fl&&r.applyStyles(),r}getOrCreateRenderer(e,n){const r=this.rendererByCompId;let o=r.get(n.id);if(!o){const d=this.eventManager,h=this.sharedStylesHost,g=this.removeStylesOnCompDestory;switch(n.encapsulation){case s.ifc.Emulated:o=new vc(d,h,n,this.appId,g);break;case s.ifc.ShadowDom:return new wn(d,h,e,n);default:o=new fl(d,h,n,g)}o.onDestroy=()=>r.delete(n.id),r.set(n.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}begin(){}end(){}}return i.\u0275fac=function(e){return new(e||i)(s.LFG(vh),s.LFG(gc),s.LFG(s.AFp),s.LFG(Rd))},i.\u0275prov=s.Yz7({token:i,factory:i.\u0275fac}),i})();class co{constructor(t){this.eventManager=t,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(t,e){return e?document.createElementNS(Td[e]||e,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,e){(Pd(t)?t.content:t).appendChild(e)}insertBefore(t,e,n){t&&(Pd(t)?t.content:t).insertBefore(e,n)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let n="string"==typeof t?document.querySelector(t):t;if(!n)throw new Error(`The selector "${t}" did not match any elements`);return e||(n.textContent=""),n}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,n,r){if(r){e=r+":"+e;const o=Td[r];o?t.setAttributeNS(o,e,n):t.setAttribute(e,n)}else t.setAttribute(e,n)}removeAttribute(t,e,n){if(n){const r=Td[n];r?t.removeAttributeNS(r,e):t.removeAttribute(`${n}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,n,r){r&(s.JOm.DashCase|s.JOm.Important)?t.style.setProperty(e,n,r&s.JOm.Important?"important":""):t.style[e]=n}removeStyle(t,e,n){n&s.JOm.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,n){t[e]=n}setValue(t,e){t.nodeValue=e}listen(t,e,n){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,Gp(n)):this.eventManager.addEventListener(t,e,Gp(n))}}function Pd(i){return"TEMPLATE"===i.tagName&&void 0!==i.content}class wn extends co{constructor(t,e,n,r){super(t),this.sharedStylesHost=e,this.hostEl=n,this.shadowRoot=n.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const o=_c(r.id,r.styles);for(const d of o){const h=document.createElement("style");h.textContent=d,this.shadowRoot.appendChild(h)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,n){return super.insertBefore(this.nodeOrShadowRoot(t),e,n)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class fl extends co{constructor(t,e,n,r,o=n.id){super(t),this.sharedStylesHost=e,this.removeStylesOnCompDestory=r,this.rendererUsageCount=0,this.styles=_c(o,n.styles)}applyStyles(){this.sharedStylesHost.addStyles(this.styles),this.rendererUsageCount++}destroy(){this.removeStylesOnCompDestory&&(this.sharedStylesHost.removeStyles(this.styles),this.rendererUsageCount--,0===this.rendererUsageCount&&this.onDestroy?.())}}class vc extends fl{constructor(t,e,n,r,o){const d=r+"-"+n.id;super(t,e,n,o,d),this.contentAttr=function Od(i){return"_ngcontent-%COMP%".replace(Ds,i)}(d),this.hostAttr=function Pk(i){return"_nghost-%COMP%".replace(Ds,i)}(d)}applyToHost(t){this.applyStyles(),this.setAttribute(t,this.hostAttr,"")}createElement(t,e){const n=super.createElement(t,e);return super.setAttribute(n,this.contentAttr,""),n}}let Z_=(()=>{class i extends q_{constructor(e){super(e)}supports(e){return!0}addEventListener(e,n,r){return e.addEventListener(n,r,!1),()=>this.removeEventListener(e,n,r)}removeEventListener(e,n,r){return e.removeEventListener(n,r)}}return i.\u0275fac=function(e){return new(e||i)(s.LFG(K))},i.\u0275prov=s.Yz7({token:i,factory:i.\u0275fac}),i})();const gl=["alt","control","meta","shift"],$p={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Yp={alt:i=>i.altKey,control:i=>i.ctrlKey,meta:i=>i.metaKey,shift:i=>i.shiftKey};let wh=(()=>{class i extends q_{constructor(e){super(e)}supports(e){return null!=i.parseEventName(e)}addEventListener(e,n,r){const o=i.parseEventName(n),d=i.eventCallback(o.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>N().onAndCancel(e,o.domEventName,d))}static parseEventName(e){const n=e.toLowerCase().split("."),r=n.shift();if(0===n.length||"keydown"!==r&&"keyup"!==r)return null;const o=i._normalizeKey(n.pop());let d="",h=n.indexOf("code");if(h>-1&&(n.splice(h,1),d="code."),gl.forEach(b=>{const x=n.indexOf(b);x>-1&&(n.splice(x,1),d+=b+".")}),d+=o,0!=n.length||0===o.length)return null;const g={};return g.domEventName=r,g.fullKey=d,g}static matchEventFullKeyCode(e,n){let r=$p[e.key]||e.key,o="";return n.indexOf("code.")>-1&&(r=e.code,o="code."),!(null==r||!r)&&(r=r.toLowerCase()," "===r?r="space":"."===r&&(r="dot"),gl.forEach(d=>{d!==r&&(0,Yp[d])(e)&&(o+=d+".")}),o+=r,o===n)}static eventCallback(e,n,r){return o=>{i.matchEventFullKeyCode(o,e)&&r.runGuarded(()=>n(o))}}static _normalizeKey(e){return"esc"===e?"escape":e}}return i.\u0275fac=function(e){return new(e||i)(s.LFG(K))},i.\u0275prov=s.Yz7({token:i,factory:i.\u0275fac}),i})();const Ch=(0,s.eFA)(s._c5,"browser",[{provide:s.Lbi,useValue:Op},{provide:s.g9A,useValue:function qp(){hl.makeCurrent()},multi:!0},{provide:K,useFactory:function Wp(){return(0,s.RDi)(document),document},deps:[]}]),Nd=new s.OlP(""),Ld=[{provide:s.rWj,useClass:class fc{addToWindow(t){s.dqk.getAngularTestability=(n,r=!0)=>{const o=t.findTestabilityInTree(n,r);if(null==o)throw new Error("Could not find testability for element.");return o},s.dqk.getAllAngularTestabilities=()=>t.getAllTestabilities(),s.dqk.getAllAngularRootElements=()=>t.getAllRootElements(),s.dqk.frameworkStabilizers||(s.dqk.frameworkStabilizers=[]),s.dqk.frameworkStabilizers.push(n=>{const r=s.dqk.getAllAngularTestabilities();let o=r.length,d=!1;const h=function(g){d=d||g,o--,0==o&&n(d)};r.forEach(function(g){g.whenStable(h)})})}findTestabilityInTree(t,e,n){return null==e?null:t.getTestability(e)??(n?N().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null)}},deps:[]},{provide:s.lri,useClass:s.dDg,deps:[s.R0b,s.eoX,s.rWj]},{provide:s.dDg,useClass:s.dDg,deps:[s.R0b,s.eoX,s.rWj]}],Bd=[{provide:s.zSh,useValue:"root"},{provide:s.qLn,useFactory:function Ks(){return new s.qLn},deps:[]},{provide:Sd,useClass:Z_,multi:!0,deps:[K,s.R0b,s.Lbi]},{provide:Sd,useClass:wh,multi:!0,deps:[K]},{provide:Ro,useClass:Ro,deps:[vh,gc,s.AFp,Rd]},{provide:s.FYo,useExisting:Ro},{provide:bh,useExisting:gc},{provide:gc,useClass:gc,deps:[K]},{provide:vh,useClass:vh,deps:[Sd,s.R0b]},{provide:Xt,useClass:_h,deps:[]},[]];let Ra=(()=>{class i{constructor(e){}static withServerTransition(e){return{ngModule:i,providers:[{provide:s.AFp,useValue:e.appId},{provide:Y_,useExisting:s.AFp},ml]}}}return i.\u0275fac=function(e){return new(e||i)(s.LFG(Nd,12))},i.\u0275mod=s.oAB({type:i}),i.\u0275inj=s.cJS({providers:[...Bd,...Ld],imports:[Ni,s.hGG]}),i})(),Oa=(()=>{class i{constructor(e){this._doc=e}getTitle(){return this._doc.title}setTitle(e){this._doc.title=e||""}}return i.\u0275fac=function(e){return new(e||i)(s.LFG(K))},i.\u0275prov=s.Yz7({token:i,factory:function(e){let n=null;return n=e?new e:function Dh(){return new Oa((0,s.LFG)(K))}(),n},providedIn:"root"}),i})();typeof window<"u"&&window;let yl=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=s.Yz7({token:i,factory:function(e){let n=null;return n=e?new(e||i):s.LFG(zd),n},providedIn:"root"}),i})(),zd=(()=>{class i extends yl{constructor(e){super(),this._doc=e}sanitize(e,n){if(null==n)return null;switch(e){case s.q3G.NONE:return n;case s.q3G.HTML:return(0,s.qzn)(n,"HTML")?(0,s.z3N)(n):(0,s.EiD)(this._doc,String(n)).toString();case s.q3G.STYLE:return(0,s.qzn)(n,"Style")?(0,s.z3N)(n):n;case s.q3G.SCRIPT:if((0,s.qzn)(n,"Script"))return(0,s.z3N)(n);throw new Error("unsafe value used in a script context");case s.q3G.URL:return(0,s.qzn)(n,"URL")?(0,s.z3N)(n):(0,s.mCW)(String(n));case s.q3G.RESOURCE_URL:if((0,s.qzn)(n,"ResourceURL"))return(0,s.z3N)(n);throw new Error(`unsafe value used in a resource URL context (see ${s.JZr})`);default:throw new Error(`Unexpected SecurityContext ${e} (see ${s.JZr})`)}}bypassSecurityTrustHtml(e){return(0,s.JVY)(e)}bypassSecurityTrustStyle(e){return(0,s.L6k)(e)}bypassSecurityTrustScript(e){return(0,s.eBb)(e)}bypassSecurityTrustUrl(e){return(0,s.LAX)(e)}bypassSecurityTrustResourceUrl(e){return(0,s.pB0)(e)}}return i.\u0275fac=function(e){return new(e||i)(s.LFG(K))},i.\u0275prov=s.Yz7({token:i,factory:function(e){let n=null;return n=e?new e:function Eh(i){return new zd(i.get(K))}(s.LFG(s.zs3)),n},providedIn:"root"}),i})();var mi=R(8996),lo=R(3269);function it(...i){const t=(0,lo.yG)(i);return(0,mi.D)(i,t)}var nt=R(7579);class Tr extends nt.x{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return!e.closed&&t.next(this._value),e}getValue(){const{hasError:t,thrownError:e,_value:n}=this;if(t)throw e;return this._throwIfClosed(),n}next(t){super.next(this._value=t)}}const wl=(0,R(3888).d)(i=>function(){i(this),this.name="EmptyError",this.message="no elements in sequence"});var vn=R(9751);const{isArray:Xp}=Array,{getPrototypeOf:iv,prototype:nv,keys:xl}=Object;function Cl(i){if(1===i.length){const t=i[0];if(Xp(t))return{args:t,keys:null};if(function wc(i){return i&&"object"==typeof i&&iv(i)===nv}(t)){const e=xl(t);return{args:e.map(n=>t[n]),keys:e}}}return{args:i,keys:null}}var ks=R(4671),kt=R(4004);const{isArray:Pa}=Array;function Js(i){return(0,kt.U)(t=>function rv(i,t){return Pa(t)?i(...t):i(t)}(i,t))}function xc(i,t){return i.reduce((e,n,r)=>(e[n]=t[r],e),{})}var rn=R(5403),jd=R(9672);function Dl(...i){const t=(0,lo.yG)(i),e=(0,lo.jO)(i),{args:n,keys:r}=Cl(i);if(0===n.length)return(0,mi.D)([],t);const o=new vn.y(function kh(i,t,e=ks.y){return n=>{Fa(t,()=>{const{length:r}=i,o=new Array(r);let d=r,h=r;for(let g=0;g<r;g++)Fa(t,()=>{const b=(0,mi.D)(i[g],t);let x=!1;b.subscribe((0,rn.x)(n,k=>{o[g]=k,x||(x=!0,h--),h||n.next(e(o.slice()))},()=>{--d||n.complete()}))},n)},n)}}(n,t,r?d=>xc(r,d):ks.y));return e?o.pipe(Js(e)):o}function Fa(i,t,e){i?(0,jd.f)(e,i,t):t()}var Fo=R(8189);function El(...i){return function Jp(){return(0,Fo.J)(1)}()((0,mi.D)(i,(0,lo.yG)(i)))}var Ms=R(8421);function kl(i){return new vn.y(t=>{(0,Ms.Xf)(i()).subscribe(t)})}var ef=R(9635),uo=R(576);function Cc(i,t){const e=(0,uo.m)(i)?i:()=>i,n=r=>r.error(e());return new vn.y(t?r=>t.schedule(n,0,r):n)}var No=R(515),xn=R(727),Sn=R(4482);function Ml(){return(0,Sn.e)((i,t)=>{let e=null;i._refCount++;const n=(0,rn.x)(t,void 0,void 0,void 0,()=>{if(!i||i._refCount<=0||0<--i._refCount)return void(e=null);const r=i._connection,o=e;e=null,r&&(!o||r===o)&&r.unsubscribe(),t.unsubscribe()});i.subscribe(n),n.closed||(e=i.connect())})}class Gd extends vn.y{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._subject=null,this._refCount=0,this._connection=null,(0,Sn.A)(t)&&(this.lift=t.lift)}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:t}=this;this._subject=this._connection=null,t?.unsubscribe()}connect(){let t=this._connection;if(!t){t=this._connection=new xn.w0;const e=this.getSubject();t.add(this.source.subscribe((0,rn.x)(e,void 0,()=>{this._teardown(),e.complete()},n=>{this._teardown(),e.error(n)},()=>this._teardown()))),t.closed&&(this._connection=null,t=xn.w0.EMPTY)}return t}refCount(){return Ml()(this)}}function on(i,t){return(0,Sn.e)((e,n)=>{let r=null,o=0,d=!1;const h=()=>d&&!r&&n.complete();e.subscribe((0,rn.x)(n,g=>{r?.unsubscribe();let b=0;const x=o++;(0,Ms.Xf)(i(g,x)).subscribe(r=(0,rn.x)(n,k=>n.next(t?t(g,k,x,b++):k),()=>{r=null,h()}))},()=>{d=!0,h()}))})}function Gi(i){return i<=0?()=>No.E:(0,Sn.e)((t,e)=>{let n=0;t.subscribe((0,rn.x)(e,r=>{++n<=i&&(e.next(r),i<=n&&e.complete())}))})}function sr(...i){const t=(0,lo.yG)(i);return(0,Sn.e)((e,n)=>{(t?El(i,e,t):El(i,e)).subscribe(n)})}function sn(i,t){return(0,Sn.e)((e,n)=>{let r=0;e.subscribe((0,rn.x)(n,o=>i.call(t,o,r++)&&n.next(o)))})}var Hn=R(5577);function Dc(i){return(0,Sn.e)((t,e)=>{let n=!1;t.subscribe((0,rn.x)(e,r=>{n=!0,e.next(r)},()=>{n||e.next(i),e.complete()}))})}function tf(i=ov){return(0,Sn.e)((t,e)=>{let n=!1;t.subscribe((0,rn.x)(e,r=>{n=!0,e.next(r)},()=>n?e.complete():e.error(i())))})}function ov(){return new wl}function ho(i,t){const e=arguments.length>=2;return n=>n.pipe(i?sn((r,o)=>i(r,o,n)):ks.y,Gi(1),e?Dc(t):tf(()=>new wl))}function Na(i,t){return(0,uo.m)(t)?(0,Hn.z)(i,t,1):(0,Hn.z)(i,1)}var bn=R(8505);function es(i){return(0,Sn.e)((t,e)=>{let o,n=null,r=!1;n=t.subscribe((0,rn.x)(e,void 0,void 0,d=>{o=(0,Ms.Xf)(i(d,es(i)(t))),n?(n.unsubscribe(),n=null,o.subscribe(e)):r=!0})),r&&(n.unsubscribe(),n=null,o.subscribe(e))})}function $d(i,t){return(0,Sn.e)(function sw(i,t,e,n,r){return(o,d)=>{let h=e,g=t,b=0;o.subscribe((0,rn.x)(d,x=>{const k=b++;g=h?i(g,x,k):(h=!0,x),n&&d.next(g)},r&&(()=>{h&&d.next(g),d.complete()})))}}(i,t,arguments.length>=2,!0))}function Mh(i){return i<=0?()=>No.E:(0,Sn.e)((t,e)=>{let n=[];t.subscribe((0,rn.x)(e,r=>{n.push(r),i<n.length&&n.shift()},()=>{for(const r of n)e.next(r);e.complete()},void 0,()=>{n=null}))})}function Il(i,t){const e=arguments.length>=2;return n=>n.pipe(i?sn((r,o)=>i(r,o,n)):ks.y,Mh(1),e?Dc(t):tf(()=>new wl))}function Ec(i){return(0,Sn.e)((t,e)=>{try{t.subscribe(e)}finally{e.add(i)}})}const ti="primary",ar=Symbol("RouteTitle");class sv{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function kc(i){return new sv(i)}function av(i,t,e){const n=e.path.split("/");if(n.length>i.length||"full"===e.pathMatch&&(t.hasChildren()||n.length<i.length))return null;const r={};for(let o=0;o<n.length;o++){const d=n[o],h=i[o];if(d.startsWith(":"))r[d.substring(1)]=h;else if(d!==h.path)return null}return{consumed:i.slice(0,n.length),posParams:r}}function mo(i,t){const e=i?Object.keys(i):void 0,n=t?Object.keys(t):void 0;if(!e||!n||e.length!=n.length)return!1;let r;for(let o=0;o<e.length;o++)if(r=e[o],!rf(i[r],t[r]))return!1;return!0}function rf(i,t){if(Array.isArray(i)&&Array.isArray(t)){if(i.length!==t.length)return!1;const e=[...i].sort(),n=[...t].sort();return e.every((r,o)=>n[o]===r)}return i===t}function sf(i){return Array.prototype.concat.apply([],i)}function af(i){return i.length>0?i[i.length-1]:null}function cr(i,t){for(const e in i)i.hasOwnProperty(e)&&t(i[e],e)}function ea(i){return(0,s.CqO)(i)?i:(0,s.QGY)(i)?(0,mi.D)(Promise.resolve(i)):it(i)}const lr=!1,Ah={exact:function Mc(i,t,e){if(!ta(i.segments,t.segments)||!La(i.segments,t.segments,e)||i.numberOfChildren!==t.numberOfChildren)return!1;for(const n in t.children)if(!i.children[n]||!Mc(i.children[n],t.children[n],e))return!1;return!0},subset:Oh},Rh={exact:function wr(i,t){return mo(i,t)},subset:function cf(i,t){return Object.keys(t).length<=Object.keys(i).length&&Object.keys(t).every(e=>rf(i[e],t[e]))},ignored:()=>!0};function Sl(i,t,e){return Ah[e.paths](i.root,t.root,e.matrixParams)&&Rh[e.queryParams](i.queryParams,t.queryParams)&&!("exact"===e.fragment&&i.fragment!==t.fragment)}function Oh(i,t,e){return lf(i,t,t.segments,e)}function lf(i,t,e,n){if(i.segments.length>e.length){const r=i.segments.slice(0,e.length);return!(!ta(r,e)||t.hasChildren()||!La(r,e,n))}if(i.segments.length===e.length){if(!ta(i.segments,e)||!La(i.segments,e,n))return!1;for(const r in t.children)if(!i.children[r]||!Oh(i.children[r],t.children[r],n))return!1;return!0}{const r=e.slice(0,i.segments.length),o=e.slice(i.segments.length);return!!(ta(i.segments,r)&&La(i.segments,r,n)&&i.children[ti])&&lf(i.children[ti],t,o,n)}}function La(i,t,e){return t.every((n,r)=>Rh[e](i[r].parameters,n.parameters))}class ts{constructor(t=new pi([],{}),e={},n=null){this.root=t,this.queryParams=e,this.fragment=n}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=kc(this.queryParams)),this._queryParamMap}toString(){return aw.serialize(this)}}class pi{constructor(t,e){this.segments=t,this.children=e,this.parent=null,cr(e,(n,r)=>n.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return is(this)}}class Ba{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=kc(this.parameters)),this._parameterMap}toString(){return Ph(this)}}function ta(i,t){return i.length===t.length&&i.every((e,n)=>e.path===t[n].path)}let Is=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=s.Yz7({token:i,factory:function(){return new Tl},providedIn:"root"}),i})();class Tl{parse(t){const e=new uf(t);return new ts(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){const e=`/${Ic(t.root,!0)}`,n=function Zd(i){const t=Object.keys(i).map(e=>{const n=i[e];return Array.isArray(n)?n.map(r=>`${Va(e)}=${Va(r)}`).join("&"):`${Va(e)}=${Va(n)}`}).filter(e=>!!e);return t.length?`?${t.join("&")}`:""}(t.queryParams);return`${e}${n}${"string"==typeof t.fragment?`#${function Yd(i){return encodeURI(i)}(t.fragment)}`:""}`}}const aw=new Tl;function is(i){return i.segments.map(t=>Ph(t)).join("/")}function Ic(i,t){if(!i.hasChildren())return is(i);if(t){const e=i.children[ti]?Ic(i.children[ti],!1):"",n=[];return cr(i.children,(r,o)=>{o!==ti&&n.push(`${o}:${Ic(r,!1)}`)}),n.length>0?`${e}(${n.join("//")})`:e}{const e=function cv(i,t){let e=[];return cr(i.children,(n,r)=>{r===ti&&(e=e.concat(t(n,r)))}),cr(i.children,(n,r)=>{r!==ti&&(e=e.concat(t(n,r)))}),e}(i,(n,r)=>r===ti?[Ic(i.children[ti],!1)]:[`${r}:${Ic(n,!1)}`]);return 1===Object.keys(i.children).length&&null!=i.children[ti]?`${is(i)}/${e[0]}`:`${is(i)}/(${e.join("//")})`}}function Al(i){return encodeURIComponent(i).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Va(i){return Al(i).replace(/%3B/gi,";")}function qd(i){return Al(i).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Ss(i){return decodeURIComponent(i)}function Wd(i){return Ss(i.replace(/\+/g,"%20"))}function Ph(i){return`${qd(i.path)}${function lv(i){return Object.keys(i).map(t=>`;${qd(t)}=${qd(i[t])}`).join("")}(i.parameters)}`}const dv=/^[^\/()?;=#]+/;function Fh(i){const t=i.match(dv);return t?t[0]:""}const Ha=/^[^=?&#]+/,hv=/^[^&#]+/;class uf{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new pi([],{}):new pi([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(n[ti]=new pi(t,e)),n}parseSegment(){const t=Fh(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new s.vHH(4009,lr);return this.capture(t),new Ba(Ss(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=Fh(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){const r=Fh(this.remaining);r&&(n=r,this.capture(n))}t[Ss(e)]=Ss(n)}parseQueryParam(t){const e=function uv(i){const t=i.match(Ha);return t?t[0]:""}(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){const d=function Nh(i){const t=i.match(hv);return t?t[0]:""}(this.remaining);d&&(n=d,this.capture(n))}const r=Wd(e),o=Wd(n);if(t.hasOwnProperty(r)){let d=t[r];Array.isArray(d)||(d=[d],t[r]=d),d.push(o)}else t[r]=o}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const n=Fh(this.remaining),r=this.remaining[n.length];if("/"!==r&&")"!==r&&";"!==r)throw new s.vHH(4010,lr);let o;n.indexOf(":")>-1?(o=n.slice(0,n.indexOf(":")),this.capture(o),this.capture(":")):t&&(o=ti);const d=this.parseChildren();e[o]=1===Object.keys(d).length?d[ti]:new pi([],d),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new s.vHH(4011,lr)}}function Ua(i){return i.segments.length>0?new pi([],{[ti]:i}):i}function Rl(i){const t={};for(const n of Object.keys(i.children)){const o=Rl(i.children[n]);(o.segments.length>0||o.hasChildren())&&(t[n]=o)}return function Lh(i){if(1===i.numberOfChildren&&i.children[ti]){const t=i.children[ti];return new pi(i.segments.concat(t.segments),t.children)}return i}(new pi(i.segments,t))}function Ts(i){return i instanceof ts}const Bh=!1;function hf(i,t,e,n,r){if(0===e.length)return Fl(t.root,t.root,t.root,n,r);const o=function Vh(i){if("string"==typeof i[0]&&1===i.length&&"/"===i[0])return new Kd(!0,0,i);let t=0,e=!1;const n=i.reduce((r,o,d)=>{if("object"==typeof o&&null!=o){if(o.outlets){const h={};return cr(o.outlets,(g,b)=>{h[b]="string"==typeof g?g.split("/"):g}),[...r,{outlets:h}]}if(o.segmentPath)return[...r,o.segmentPath]}return"string"!=typeof o?[...r,o]:0===d?(o.split("/").forEach((h,g)=>{0==g&&"."===h||(0==g&&""===h?e=!0:".."===h?t++:""!=h&&r.push(h))}),r):[...r,o]},[]);return new Kd(e,t,n)}(e);return o.toRoot()?Fl(t.root,t.root,new pi([],{}),n,r):function d(g){const b=function Nl(i,t,e,n){if(i.isAbsolute)return new za(t.root,!0,0);if(-1===n)return new za(e,e===t.root,0);return function Hh(i,t,e){let n=i,r=t,o=e;for(;o>r;){if(o-=r,n=n.parent,!n)throw new s.vHH(4005,Bh&&"Invalid number of '../'");r=n.segments.length}return new za(n,!1,r-o)}(e,n+(Sc(i.commands[0])?0:1),i.numberOfDoubleDots)}(o,t,i.snapshot?._urlSegment,g),x=b.processChildren?ja(b.segmentGroup,b.index,o.commands):As(b.segmentGroup,b.index,o.commands);return Fl(t.root,b.segmentGroup,x,n,r)}(i.snapshot?._lastPathIndex)}function Sc(i){return"object"==typeof i&&null!=i&&!i.outlets&&!i.segmentPath}function Pl(i){return"object"==typeof i&&null!=i&&i.outlets}function Fl(i,t,e,n,r){let d,o={};n&&cr(n,(g,b)=>{o[b]=Array.isArray(g)?g.map(x=>`${x}`):`${g}`}),d=i===t?e:Tc(i,t,e);const h=Ua(Rl(d));return new ts(h,o,r)}function Tc(i,t,e){const n={};return cr(i.children,(r,o)=>{n[o]=r===t?e:Tc(r,t,e)}),new pi(i.segments,n)}class Kd{constructor(t,e,n){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=n,t&&n.length>0&&Sc(n[0]))throw new s.vHH(4003,Bh&&"Root segment cannot have matrix parameters");const r=n.find(Pl);if(r&&r!==af(n))throw new s.vHH(4004,Bh&&"{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class za{constructor(t,e,n){this.segmentGroup=t,this.processChildren=e,this.index=n}}function As(i,t,e){if(i||(i=new pi([],{})),0===i.segments.length&&i.hasChildren())return ja(i,t,e);const n=function Uh(i,t,e){let n=0,r=t;const o={match:!1,pathIndex:0,commandIndex:0};for(;r<i.segments.length;){if(n>=e.length)return o;const d=i.segments[r],h=e[n];if(Pl(h))break;const g=`${h}`,b=n<e.length-1?e[n+1]:null;if(r>0&&void 0===g)break;if(g&&b&&"object"==typeof b&&void 0===b.outlets){if(!mf(g,b,d))return o;n+=2}else{if(!mf(g,{},d))return o;n++}r++}return{match:!0,pathIndex:r,commandIndex:n}}(i,t,e),r=e.slice(n.commandIndex);if(n.match&&n.pathIndex<i.segments.length){const o=new pi(i.segments.slice(0,n.pathIndex),{});return o.children[ti]=new pi(i.segments.slice(n.pathIndex),i.children),ja(o,0,r)}return n.match&&0===r.length?new pi(i.segments,{}):n.match&&!i.hasChildren()?Ll(i,t,e):n.match?ja(i,0,r):Ll(i,t,e)}function ja(i,t,e){if(0===e.length)return new pi(i.segments,{});{const n=function Xd(i){return Pl(i[0])?i[0].outlets:{[ti]:i}}(e),r={};if(!n[ti]&&i.children[ti]&&1===i.numberOfChildren&&0===i.children[ti].segments.length){const o=ja(i.children[ti],t,e);return new pi(i.segments,o.children)}return cr(n,(o,d)=>{"string"==typeof o&&(o=[o]),null!==o&&(r[d]=As(i.children[d],t,o))}),cr(i.children,(o,d)=>{void 0===n[d]&&(r[d]=o)}),new pi(i.segments,r)}}function Ll(i,t,e){const n=i.segments.slice(0,t);let r=0;for(;r<e.length;){const o=e[r];if(Pl(o)){const g=Jd(o.outlets);return new pi(n,g)}if(0===r&&Sc(e[0])){n.push(new Ba(i.segments[t].path,Ac(e[0]))),r++;continue}const d=Pl(o)?o.outlets[ti]:`${o}`,h=r<e.length-1?e[r+1]:null;d&&h&&Sc(h)?(n.push(new Ba(d,Ac(h))),r+=2):(n.push(new Ba(d,{})),r++)}return new pi(n,{})}function Jd(i){const t={};return cr(i,(e,n)=>{"string"==typeof e&&(e=[e]),null!==e&&(t[n]=Ll(new pi([],{}),0,e))}),t}function Ac(i){const t={};return cr(i,(e,n)=>t[n]=`${e}`),t}function mf(i,t,e){return i==e.path&&mo(t,e.parameters)}const Rc="imperative";class ns{constructor(t,e){this.id=t,this.url=e}}class Ga extends ns{constructor(t,e,n="imperative",r=null){super(t,e),this.type=0,this.navigationTrigger=n,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class $a extends ns{constructor(t,e,n){super(t,e),this.urlAfterRedirects=n,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Oc extends ns{constructor(t,e,n,r){super(t,e),this.reason=n,this.code=r,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Bl extends ns{constructor(t,e,n,r){super(t,e),this.reason=n,this.code=r,this.type=16}}class Pc extends ns{constructor(t,e,n,r){super(t,e),this.error=n,this.target=r,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class zh extends ns{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Fc extends ns{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class pf extends ns{constructor(t,e,n,r,o){super(t,e),this.urlAfterRedirects=n,this.state=r,this.shouldActivate=o,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class jh extends ns{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ff extends ns{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class gf{constructor(t){this.route=t,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Gh{constructor(t){this.route=t,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class $h{constructor(t){this.snapshot=t,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class _f{constructor(t){this.snapshot=t,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class xr{constructor(t){this.snapshot=t,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ya{constructor(t){this.snapshot=t,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class eu{constructor(t,e,n){this.routerEvent=t,this.position=e,this.anchor=n,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}let Rs=(()=>{class i{createUrlTree(e,n,r,o,d,h){return hf(e||n.root,r,o,d,h)}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=s.Yz7({token:i,factory:i.\u0275fac}),i})(),bf=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=s.Yz7({token:i,factory:function(t){return Rs.\u0275fac(t)},providedIn:"root"}),i})();class yf{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=rs(t,this._root);return e?e.children.map(n=>n.value):[]}firstChild(t){const e=rs(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=iu(t,this._root);return e.length<2?[]:e[e.length-2].children.map(r=>r.value).filter(r=>r!==t)}pathFromRoot(t){return iu(t,this._root).map(e=>e.value)}}function rs(i,t){if(i===t.value)return t;for(const e of t.children){const n=rs(i,e);if(n)return n}return null}function iu(i,t){if(i===t.value)return[t];for(const e of t.children){const n=iu(i,e);if(n.length)return n.unshift(t),n}return[]}class dr{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function Lo(i){const t={};return i&&i.children.forEach(e=>t[e.value.outlet]=e),t}class wf extends yf{constructor(t,e){super(t),this.snapshot=e,ru(this,t)}toString(){return this.snapshot.toString()}}function Yh(i,t){const e=function Lr(i,t){const d=new Kr([],{},{},"",{},ti,t,null,i.root,-1,{});return new Nc("",new dr(d,[]))}(i,t),n=new Tr([new Ba("",{})]),r=new Tr({}),o=new Tr({}),d=new Tr({}),h=new Tr(""),g=new na(n,r,d,h,o,ti,t,e.root);return g.snapshot=e.root,new wf(new dr(g,[]),e)}class na{constructor(t,e,n,r,o,d,h,g){this.url=t,this.params=e,this.queryParams=n,this.fragment=r,this.data=o,this.outlet=d,this.component=h,this.title=this.data?.pipe((0,kt.U)(b=>b[ar]))??it(void 0),this._futureSnapshot=g}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,kt.U)(t=>kc(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,kt.U)(t=>kc(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function nu(i,t="emptyOnly"){const e=i.pathFromRoot;let n=0;if("always"!==t)for(n=e.length-1;n>=1;){const r=e[n],o=e[n-1];if(r.routeConfig&&""===r.routeConfig.path)n--;else{if(o.component)break;n--}}return function fv(i){return i.reduce((t,e)=>({params:{...t.params,...e.params},data:{...t.data,...e.data},resolve:{...e.data,...t.resolve,...e.routeConfig?.data,...e._resolvedData}}),{params:{},data:{},resolve:{}})}(e.slice(n))}class Kr{get title(){return this.data?.[ar]}constructor(t,e,n,r,o,d,h,g,b,x,k){this.url=t,this.params=e,this.queryParams=n,this.fragment=r,this.data=o,this.outlet=d,this.component=h,this.routeConfig=g,this._urlSegment=b,this._lastPathIndex=x,this._resolve=k}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=kc(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=kc(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(n=>n.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Nc extends yf{constructor(t,e){super(e),this.url=t,ru(this,e)}toString(){return qh(this._root)}}function ru(i,t){t.value._routerState=i,t.children.forEach(e=>ru(i,e))}function qh(i){const t=i.children.length>0?` { ${i.children.map(qh).join(", ")} } `:"";return`${i.value}${t}`}function Wh(i){if(i.snapshot){const t=i.snapshot,e=i._futureSnapshot;i.snapshot=e,mo(t.queryParams,e.queryParams)||i.queryParams.next(e.queryParams),t.fragment!==e.fragment&&i.fragment.next(e.fragment),mo(t.params,e.params)||i.params.next(e.params),function nf(i,t){if(i.length!==t.length)return!1;for(let e=0;e<i.length;++e)if(!mo(i[e],t[e]))return!1;return!0}(t.url,e.url)||i.url.next(e.url),mo(t.data,e.data)||i.data.next(e.data)}else i.snapshot=i._futureSnapshot,i.data.next(i._futureSnapshot.data)}function ra(i,t){const e=mo(i.params,t.params)&&function df(i,t){return ta(i,t)&&i.every((e,n)=>mo(e.parameters,t[n].parameters))}(i.url,t.url);return e&&!(!i.parent!=!t.parent)&&(!i.parent||ra(i.parent,t.parent))}function Ps(i,t,e){if(e&&i.shouldReuseRoute(t.value,e.value.snapshot)){const n=e.value;n._futureSnapshot=t.value;const r=function xf(i,t,e){return t.children.map(n=>{for(const r of e.children)if(i.shouldReuseRoute(n.value,r.value.snapshot))return Ps(i,n,r);return Ps(i,n)})}(i,t,e);return new dr(n,r)}{if(i.shouldAttach(t.value)){const o=i.retrieve(t.value);if(null!==o){const d=o.route;return d.value._futureSnapshot=t.value,d.children=t.children.map(h=>Ps(i,h)),d}}const n=function Cf(i){return new na(new Tr(i.url),new Tr(i.params),new Tr(i.queryParams),new Tr(i.fragment),new Tr(i.data),i.outlet,i.component,i)}(t.value),r=t.children.map(o=>Ps(i,o));return new dr(n,r)}}const v="ngNavigationCancelingError";function p(i,t){const{redirectTo:e,navigationBehaviorOptions:n}=Ts(t)?{redirectTo:t,navigationBehaviorOptions:void 0}:t,r=f(!1,0,t);return r.url=e,r.navigationBehaviorOptions=n,r}function f(i,t,e){const n=new Error("NavigationCancelingError: "+(i||""));return n[v]=!0,n.cancellationCode=t,e&&(n.url=e),n}function w(i){return E(i)&&Ts(i.url)}function E(i){return i&&i[v]}class I{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new z,this.attachRef=null}}let z=(()=>{class i{constructor(){this.contexts=new Map}onChildOutletCreated(e,n){const r=this.getOrCreateContext(e);r.outlet=n,this.contexts.set(e,r)}onChildOutletDestroyed(e){const n=this.getContext(e);n&&(n.outlet=null,n.attachRef=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let n=this.getContext(e);return n||(n=new I,this.contexts.set(e,n)),n}getContext(e){return this.contexts.get(e)||null}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=s.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();const ee=!1;let Re=(()=>{class i{constructor(){this.activated=null,this._activatedRoute=null,this.name=ti,this.activateEvents=new s.vpe,this.deactivateEvents=new s.vpe,this.attachEvents=new s.vpe,this.detachEvents=new s.vpe,this.parentContexts=(0,s.f3M)(z),this.location=(0,s.f3M)(s.s_b),this.changeDetector=(0,s.f3M)(s.sBO),this.environmentInjector=(0,s.f3M)(s.lqb)}ngOnChanges(e){if(e.name){const{firstChange:n,previousValue:r}=e.name;if(n)return;this.isTrackedInParentContexts(r)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(r)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name)}isTrackedInParentContexts(e){return this.parentContexts.getContext(e)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const e=this.parentContexts.getContext(this.name);e?.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new s.vHH(4012,ee);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new s.vHH(4012,ee);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new s.vHH(4012,ee);this.location.detach();const e=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(e.instance),e}attach(e,n){this.activated=e,this._activatedRoute=n,this.location.insert(e.hostView),this.attachEvents.emit(e.instance)}deactivate(){if(this.activated){const e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,n){if(this.isActivated)throw new s.vHH(4013,ee);this._activatedRoute=e;const r=this.location,d=e.snapshot.component,h=this.parentContexts.getOrCreateContext(this.name).children,g=new Xe(e,h,r.injector);if(n&&function gt(i){return!!i.resolveComponentFactory}(n)){const b=n.resolveComponentFactory(d);this.activated=r.createComponent(b,r.length,g)}else this.activated=r.createComponent(d,{index:r.length,injector:g,environmentInjector:n??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275dir=s.lG2({type:i,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[s.TTD]}),i})();class Xe{constructor(t,e,n){this.route=t,this.childContexts=e,this.parent=n}get(t,e){return t===na?this.route:t===z?this.childContexts:this.parent.get(t,e)}}let ht=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275cmp=s.Xpm({type:i,selectors:[["ng-component"]],standalone:!0,features:[s.jDz],decls:1,vars:0,template:function(e,n){1&e&&s._UZ(0,"router-outlet")},dependencies:[Re],encapsulation:2}),i})();function an(i,t){return i.providers&&!i._injector&&(i._injector=(0,s.MMx)(i.providers,t,`Route: ${i.path}`)),i._injector??t}function Vl(i){const t=i.children&&i.children.map(Vl),e=t?{...i,children:t}:{...i};return!e.component&&!e.loadComponent&&(t||e.loadChildren)&&e.outlet&&e.outlet!==ti&&(e.component=ht),e}function Ar(i){return i.outlet||ti}function Kh(i,t){const e=i.filter(n=>Ar(n)===t);return e.push(...i.filter(n=>Ar(n)!==t)),e}function Hl(i){if(!i)return null;if(i.routeConfig?._injector)return i.routeConfig._injector;for(let t=i.parent;t;t=t.parent){const e=t.routeConfig;if(e?._loadedInjector)return e._loadedInjector;if(e?._injector)return e._injector}return null}class gv{constructor(t,e,n,r){this.routeReuseStrategy=t,this.futureState=e,this.currState=n,this.forwardEvent=r}activate(t){const e=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,n,t),Wh(this.futureState.root),this.activateChildRoutes(e,n,t)}deactivateChildRoutes(t,e,n){const r=Lo(e);t.children.forEach(o=>{const d=o.value.outlet;this.deactivateRoutes(o,r[d],n),delete r[d]}),cr(r,(o,d)=>{this.deactivateRouteAndItsChildren(o,n)})}deactivateRoutes(t,e,n){const r=t.value,o=e?e.value:null;if(r===o)if(r.component){const d=n.getContext(r.outlet);d&&this.deactivateChildRoutes(t,e,d.children)}else this.deactivateChildRoutes(t,e,n);else o&&this.deactivateRouteAndItsChildren(e,n)}deactivateRouteAndItsChildren(t,e){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const n=e.getContext(t.value.outlet),r=n&&t.value.component?n.children:e,o=Lo(t);for(const d of Object.keys(o))this.deactivateRouteAndItsChildren(o[d],r);if(n&&n.outlet){const d=n.outlet.detach(),h=n.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:d,route:t,contexts:h})}}deactivateRouteAndOutlet(t,e){const n=e.getContext(t.value.outlet),r=n&&t.value.component?n.children:e,o=Lo(t);for(const d of Object.keys(o))this.deactivateRouteAndItsChildren(o[d],r);n&&(n.outlet&&(n.outlet.deactivate(),n.children.onOutletDeactivated()),n.attachRef=null,n.resolver=null,n.route=null)}activateChildRoutes(t,e,n){const r=Lo(e);t.children.forEach(o=>{this.activateRoutes(o,r[o.value.outlet],n),this.forwardEvent(new Ya(o.value.snapshot))}),t.children.length&&this.forwardEvent(new _f(t.value.snapshot))}activateRoutes(t,e,n){const r=t.value,o=e?e.value:null;if(Wh(r),r===o)if(r.component){const d=n.getOrCreateContext(r.outlet);this.activateChildRoutes(t,e,d.children)}else this.activateChildRoutes(t,e,n);else if(r.component){const d=n.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const h=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),d.children.onOutletReAttached(h.contexts),d.attachRef=h.componentRef,d.route=h.route.value,d.outlet&&d.outlet.attach(h.componentRef,h.route.value),Wh(h.route.value),this.activateChildRoutes(t,null,d.children)}else{const h=Hl(r.snapshot),g=h?.get(s._Vd)??null;d.attachRef=null,d.route=r,d.resolver=g,d.injector=h,d.outlet&&d.outlet.activateWith(r,d.injector),this.activateChildRoutes(t,null,d.children)}}else this.activateChildRoutes(t,null,n)}}class _v{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class vv{constructor(t,e){this.component=t,this.route=e}}function CO(i,t,e){const n=i._root;return au(n,t?t._root:null,e,[n.value])}function Bc(i,t){const e=Symbol(),n=t.get(i,e);return n===e?"function"!=typeof i||(0,s.Z0I)(i)?t.get(i):i:n}function au(i,t,e,n,r={canDeactivateChecks:[],canActivateChecks:[]}){const o=Lo(t);return i.children.forEach(d=>{(function cw(i,t,e,n,r={canDeactivateChecks:[],canActivateChecks:[]}){const o=i.value,d=t?t.value:null,h=e?e.getContext(i.value.outlet):null;if(d&&o.routeConfig===d.routeConfig){const g=function lw(i,t,e){if("function"==typeof e)return e(i,t);switch(e){case"pathParamsChange":return!ta(i.url,t.url);case"pathParamsOrQueryParamsChange":return!ta(i.url,t.url)||!mo(i.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!ra(i,t)||!mo(i.queryParams,t.queryParams);default:return!ra(i,t)}}(d,o,o.routeConfig.runGuardsAndResolvers);g?r.canActivateChecks.push(new _v(n)):(o.data=d.data,o._resolvedData=d._resolvedData),au(i,t,o.component?h?h.children:null:e,n,r),g&&h&&h.outlet&&h.outlet.isActivated&&r.canDeactivateChecks.push(new vv(h.outlet.component,d))}else d&&Jh(t,h,r),r.canActivateChecks.push(new _v(n)),au(i,null,o.component?h?h.children:null:e,n,r)})(d,o[d.value.outlet],e,n.concat([d.value]),r),delete o[d.value.outlet]}),cr(o,(d,h)=>Jh(d,e.getContext(h),r)),r}function Jh(i,t,e){const n=Lo(i),r=i.value;cr(n,(o,d)=>{Jh(o,r.component?t?t.children.getContext(d):null:t,e)}),e.canDeactivateChecks.push(new vv(r.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,r))}function em(i){return"function"==typeof i}function kf(i){return i instanceof wl||"EmptyError"===i?.name}const oa=Symbol("INITIAL_VALUE");function cu(){return on(i=>Dl(i.map(t=>t.pipe(Gi(1),sr(oa)))).pipe((0,kt.U)(t=>{for(const e of t)if(!0!==e){if(e===oa)return oa;if(!1===e||e instanceof ts)return e}return!0}),sn(t=>t!==oa),Gi(1)))}function fw(i){return(0,ef.z)((0,bn.b)(t=>{if(Ts(t))throw p(0,t)}),(0,kt.U)(t=>!0===t))}const Vc={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function _w(i,t,e,n,r){const o=Dv(i,t,e);return o.matched?function gw(i,t,e,n){const r=t.canMatch;return r&&0!==r.length?it(r.map(d=>{const h=Bc(d,i);return ea(function Vk(i){return i&&em(i.canMatch)}(h)?h.canMatch(t,e):i.runInContext(()=>h(t,e)))})).pipe(cu(),fw()):it(!0)}(n=an(t,n),t,e).pipe((0,kt.U)(d=>!0===d?o:{...Vc})):it(o)}function Dv(i,t,e){if(""===t.path)return"full"===t.pathMatch&&(i.hasChildren()||e.length>0)?{...Vc}:{matched:!0,consumedSegments:[],remainingSegments:e,parameters:{},positionalParamSegments:{}};const r=(t.matcher||av)(e,i,t);if(!r)return{...Vc};const o={};cr(r.posParams,(h,g)=>{o[g]=h.path});const d=r.consumed.length>0?{...o,...r.consumed[r.consumed.length-1].parameters}:o;return{matched:!0,consumedSegments:r.consumed,remainingSegments:e.slice(r.consumed.length),parameters:d,positionalParamSegments:r.posParams??{}}}function Sf(i,t,e,n){if(e.length>0&&function vw(i,t,e){return e.some(n=>tm(i,t,n)&&Ar(n)!==ti)}(i,e,n)){const o=new pi(t,function zk(i,t,e,n){const r={};r[ti]=n,n._sourceSegment=i,n._segmentIndexShift=t.length;for(const o of e)if(""===o.path&&Ar(o)!==ti){const d=new pi([],{});d._sourceSegment=i,d._segmentIndexShift=t.length,r[Ar(o)]=d}return r}(i,t,n,new pi(e,i.children)));return o._sourceSegment=i,o._segmentIndexShift=t.length,{segmentGroup:o,slicedSegments:[]}}if(0===e.length&&function jk(i,t,e){return e.some(n=>tm(i,t,n))}(i,e,n)){const o=new pi(i.segments,function Ev(i,t,e,n,r){const o={};for(const d of n)if(tm(i,e,d)&&!r[Ar(d)]){const h=new pi([],{});h._sourceSegment=i,h._segmentIndexShift=t.length,o[Ar(d)]=h}return{...r,...o}}(i,t,e,n,i.children));return o._sourceSegment=i,o._segmentIndexShift=t.length,{segmentGroup:o,slicedSegments:e}}const r=new pi(i.segments,i.children);return r._sourceSegment=i,r._segmentIndexShift=t.length,{segmentGroup:r,slicedSegments:e}}function tm(i,t,e){return(!(i.hasChildren()||t.length>0)||"full"!==e.pathMatch)&&""===e.path}function Gk(i,t,e,n){return!!(Ar(i)===n||n!==ti&&tm(t,e,i))&&("**"===i.path||Dv(t,i,e).matched)}function bw(i,t,e){return 0===t.length&&!i.children[e]}const Hc=!1;class Tf{constructor(t){this.segmentGroup=t||null}}class zl{constructor(t){this.urlTree=t}}function qa(i){return Cc(new Tf(i))}function yw(i){return Cc(new zl(i))}class qk{constructor(t,e,n,r,o){this.injector=t,this.configLoader=e,this.urlSerializer=n,this.urlTree=r,this.config=o,this.allowRedirects=!0}apply(){const t=Sf(this.urlTree.root,[],[],this.config).segmentGroup,e=new pi(t.segments,t.children);return this.expandSegmentGroup(this.injector,this.config,e,ti).pipe((0,kt.U)(o=>this.createUrlTree(Rl(o),this.urlTree.queryParams,this.urlTree.fragment))).pipe(es(o=>{if(o instanceof zl)return this.allowRedirects=!1,this.match(o.urlTree);throw o instanceof Tf?this.noMatchError(o):o}))}match(t){return this.expandSegmentGroup(this.injector,this.config,t.root,ti).pipe((0,kt.U)(r=>this.createUrlTree(Rl(r),t.queryParams,t.fragment))).pipe(es(r=>{throw r instanceof Tf?this.noMatchError(r):r}))}noMatchError(t){return new s.vHH(4002,Hc)}createUrlTree(t,e,n){const r=Ua(t);return new ts(r,e,n)}expandSegmentGroup(t,e,n,r){return 0===n.segments.length&&n.hasChildren()?this.expandChildren(t,e,n).pipe((0,kt.U)(o=>new pi([],o))):this.expandSegment(t,n,e,n.segments,r,!0)}expandChildren(t,e,n){const r=[];for(const o of Object.keys(n.children))"primary"===o?r.unshift(o):r.push(o);return(0,mi.D)(r).pipe(Na(o=>{const d=n.children[o],h=Kh(e,o);return this.expandSegmentGroup(t,h,d,o).pipe((0,kt.U)(g=>({segment:g,outlet:o})))}),$d((o,d)=>(o[d.outlet]=d.segment,o),{}),Il())}expandSegment(t,e,n,r,o,d){return(0,mi.D)(n).pipe(Na(h=>this.expandSegmentAgainstRoute(t,e,n,h,r,o,d).pipe(es(b=>{if(b instanceof Tf)return it(null);throw b}))),ho(h=>!!h),es((h,g)=>{if(kf(h))return bw(e,r,o)?it(new pi([],{})):qa(e);throw h}))}expandSegmentAgainstRoute(t,e,n,r,o,d,h){return Gk(r,e,o,d)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(t,e,r,o,d):h&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,n,r,o,d):qa(e):qa(e)}expandSegmentAgainstRouteUsingRedirect(t,e,n,r,o,d){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,n,r,d):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,r,o,d)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,n,r){const o=this.applyRedirectCommands([],n.redirectTo,{});return n.redirectTo.startsWith("/")?yw(o):this.lineralizeSegments(n,o).pipe((0,Hn.z)(d=>{const h=new pi(d,{});return this.expandSegment(t,h,e,d,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,r,o,d){const{matched:h,consumedSegments:g,remainingSegments:b,positionalParamSegments:x}=Dv(e,r,o);if(!h)return qa(e);const k=this.applyRedirectCommands(g,r.redirectTo,x);return r.redirectTo.startsWith("/")?yw(k):this.lineralizeSegments(r,k).pipe((0,Hn.z)(T=>this.expandSegment(t,e,n,T.concat(b),d,!1)))}matchSegmentAgainstRoute(t,e,n,r,o){return"**"===n.path?(t=an(n,t),n.loadChildren?(n._loadedRoutes?it({routes:n._loadedRoutes,injector:n._loadedInjector}):this.configLoader.loadChildren(t,n)).pipe((0,kt.U)(h=>(n._loadedRoutes=h.routes,n._loadedInjector=h.injector,new pi(r,{})))):it(new pi(r,{}))):_w(e,n,r,t).pipe(on(({matched:d,consumedSegments:h,remainingSegments:g})=>d?this.getChildConfig(t=n._injector??t,n,r).pipe((0,Hn.z)(x=>{const k=x.injector??t,T=x.routes,{segmentGroup:F,slicedSegments:H}=Sf(e,h,g,T),X=new pi(F.segments,F.children);if(0===H.length&&X.hasChildren())return this.expandChildren(k,T,X).pipe((0,kt.U)(wt=>new pi(h,wt)));if(0===T.length&&0===H.length)return it(new pi(h,{}));const ne=Ar(n)===o;return this.expandSegment(k,X,T,H,ne?ti:o,!0).pipe((0,kt.U)(Ct=>new pi(h.concat(Ct.segments),Ct.children)))})):qa(e)))}getChildConfig(t,e,n){return e.children?it({routes:e.children,injector:t}):e.loadChildren?void 0!==e._loadedRoutes?it({routes:e._loadedRoutes,injector:e._loadedInjector}):function Uk(i,t,e,n){const r=t.canLoad;return void 0===r||0===r.length?it(!0):it(r.map(d=>{const h=Bc(d,i);return ea(function uw(i){return i&&em(i.canLoad)}(h)?h.canLoad(t,e):i.runInContext(()=>h(t,e)))})).pipe(cu(),fw())}(t,e,n).pipe((0,Hn.z)(r=>r?this.configLoader.loadChildren(t,e).pipe((0,bn.b)(o=>{e._loadedRoutes=o.routes,e._loadedInjector=o.injector})):function $k(i){return Cc(f(Hc,3))}())):it({routes:[],injector:t})}lineralizeSegments(t,e){let n=[],r=e.root;for(;;){if(n=n.concat(r.segments),0===r.numberOfChildren)return it(n);if(r.numberOfChildren>1||!r.children[ti])return t.redirectTo,Cc(new s.vHH(4e3,Hc));r=r.children[ti]}}applyRedirectCommands(t,e,n){return this.applyRedirectCreateUrlTree(e,this.urlSerializer.parse(e),t,n)}applyRedirectCreateUrlTree(t,e,n,r){const o=this.createSegmentGroup(t,e.root,n,r);return new ts(o,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const n={};return cr(t,(r,o)=>{if("string"==typeof r&&r.startsWith(":")){const h=r.substring(1);n[o]=e[h]}else n[o]=r}),n}createSegmentGroup(t,e,n,r){const o=this.createSegments(t,e.segments,n,r);let d={};return cr(e.children,(h,g)=>{d[g]=this.createSegmentGroup(t,h,n,r)}),new pi(o,d)}createSegments(t,e,n,r){return e.map(o=>o.path.startsWith(":")?this.findPosParam(t,o,r):this.findOrReturn(o,n))}findPosParam(t,e,n){const r=n[e.path.substring(1)];if(!r)throw new s.vHH(4001,Hc);return r}findOrReturn(t,e){let n=0;for(const r of e){if(r.path===t.path)return e.splice(n),r;n++}return t}}class Mv{}class Sv{constructor(t,e,n,r,o,d,h){this.injector=t,this.rootComponentType=e,this.config=n,this.urlTree=r,this.url=o,this.paramsInheritanceStrategy=d,this.urlSerializer=h}recognize(){const t=Sf(this.urlTree.root,[],[],this.config.filter(e=>void 0===e.redirectTo)).segmentGroup;return this.processSegmentGroup(this.injector,this.config,t,ti).pipe((0,kt.U)(e=>{if(null===e)return null;const n=new Kr([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},ti,this.rootComponentType,null,this.urlTree.root,-1,{}),r=new dr(n,e),o=new Nc(this.url,r);return this.inheritParamsAndData(o._root),o}))}inheritParamsAndData(t){const e=t.value,n=nu(e,this.paramsInheritanceStrategy);e.params=Object.freeze(n.params),e.data=Object.freeze(n.data),t.children.forEach(r=>this.inheritParamsAndData(r))}processSegmentGroup(t,e,n,r){return 0===n.segments.length&&n.hasChildren()?this.processChildren(t,e,n):this.processSegment(t,e,n,n.segments,r)}processChildren(t,e,n){return(0,mi.D)(Object.keys(n.children)).pipe(Na(r=>{const o=n.children[r],d=Kh(e,r);return this.processSegmentGroup(t,d,o,r)}),$d((r,o)=>r&&o?(r.push(...o),r):null),function Ih(i,t=!1){return(0,Sn.e)((e,n)=>{let r=0;e.subscribe((0,rn.x)(n,o=>{const d=i(o,r++);(d||t)&&n.next(o),!d&&n.complete()}))})}(r=>null!==r),Dc(null),Il(),(0,kt.U)(r=>{if(null===r)return null;const o=Cw(r);return function im(i){i.sort((t,e)=>t.value.outlet===ti?-1:e.value.outlet===ti?1:t.value.outlet.localeCompare(e.value.outlet))}(o),o}))}processSegment(t,e,n,r,o){return(0,mi.D)(e).pipe(Na(d=>this.processSegmentAgainstRoute(d._injector??t,d,n,r,o)),ho(d=>!!d),es(d=>{if(kf(d))return bw(n,r,o)?it([]):it(null);throw d}))}processSegmentAgainstRoute(t,e,n,r,o){if(e.redirectTo||!Gk(e,n,r,o))return it(null);let d;if("**"===e.path){const h=r.length>0?af(r).parameters:{},g=Ew(n)+r.length;d=it({snapshot:new Kr(r,h,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,jl(e),Ar(e),e.component??e._loadedComponent??null,e,Dw(n),g,sa(e)),consumedSegments:[],remainingSegments:[]})}else d=_w(n,e,r,t).pipe((0,kt.U)(({matched:h,consumedSegments:g,remainingSegments:b,parameters:x})=>{if(!h)return null;const k=Ew(n)+g.length;return{snapshot:new Kr(g,x,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,jl(e),Ar(e),e.component??e._loadedComponent??null,e,Dw(n),k,sa(e)),consumedSegments:g,remainingSegments:b}}));return d.pipe(on(h=>{if(null===h)return it(null);const{snapshot:g,consumedSegments:b,remainingSegments:x}=h;t=e._injector??t;const k=e._loadedInjector??t,T=function Zk(i){return i.children?i.children:i.loadChildren?i._loadedRoutes:[]}(e),{segmentGroup:F,slicedSegments:H}=Sf(n,b,x,T.filter(ne=>void 0===ne.redirectTo));if(0===H.length&&F.hasChildren())return this.processChildren(k,T,F).pipe((0,kt.U)(ne=>null===ne?null:[new dr(g,ne)]));if(0===T.length&&0===H.length)return it([new dr(g,[])]);const X=Ar(e)===o;return this.processSegment(k,T,F,H,X?ti:o).pipe((0,kt.U)(ne=>null===ne?null:[new dr(g,ne)]))}))}}function Kk(i){const t=i.value.routeConfig;return t&&""===t.path&&void 0===t.redirectTo}function Cw(i){const t=[],e=new Set;for(const n of i){if(!Kk(n)){t.push(n);continue}const r=t.find(o=>n.value.routeConfig===o.value.routeConfig);void 0!==r?(r.children.push(...n.children),e.add(r)):t.push(n)}for(const n of e){const r=Cw(n.children);t.push(new dr(n.value,r))}return t.filter(n=>!e.has(n))}function Dw(i){let t=i;for(;t._sourceSegment;)t=t._sourceSegment;return t}function Ew(i){let t=i,e=t._segmentIndexShift??0;for(;t._sourceSegment;)t=t._sourceSegment,e+=t._segmentIndexShift??0;return e-1}function jl(i){return i.data||{}}function sa(i){return i.resolve||{}}function Jk(i,t){return(0,Hn.z)(e=>{const{targetSnapshot:n,guards:{canActivateChecks:r}}=e;if(!r.length)return it(e);let o=0;return(0,mi.D)(r).pipe(Na(d=>function kO(i,t,e,n){const r=i.routeConfig,o=i._resolve;return void 0!==r?.title&&!Tv(r)&&(o[ar]=r.title),function MO(i,t,e,n){const r=function kw(i){return[...Object.keys(i),...Object.getOwnPropertySymbols(i)]}(i);if(0===r.length)return it({});const o={};return(0,mi.D)(r).pipe((0,Hn.z)(d=>function IO(i,t,e,n){const r=Hl(t)??n,o=Bc(i,r);return ea(o.resolve?o.resolve(t,e):r.runInContext(()=>o(t,e)))}(i[d],t,e,n).pipe(ho(),(0,bn.b)(h=>{o[d]=h}))),Mh(1),function Sh(i){return(0,kt.U)(()=>i)}(o),es(d=>kf(d)?No.E:Cc(d)))}(o,i,t,n).pipe((0,kt.U)(d=>(i._resolvedData=d,i.data=nu(i,e).resolve,r&&Tv(r)&&(i.data[ar]=r.title),null)))}(d.route,n,i,t)),(0,bn.b)(()=>o++),Mh(1),(0,Hn.z)(d=>o===r.length?it(e):No.E))})}function Tv(i){return"string"==typeof i.title||null===i.title}function Af(i){return on(t=>{const e=i(t);return e?(0,mi.D)(e).pipe((0,kt.U)(()=>t)):it(t)})}const Gl=new s.OlP("ROUTES");let Av=(()=>{class i{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,s.f3M)(s.Sil)}loadComponent(e){if(this.componentLoaders.get(e))return this.componentLoaders.get(e);if(e._loadedComponent)return it(e._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(e);const n=ea(e.loadComponent()).pipe((0,kt.U)(os),(0,bn.b)(o=>{this.onLoadEndListener&&this.onLoadEndListener(e),e._loadedComponent=o}),Ec(()=>{this.componentLoaders.delete(e)})),r=new Gd(n,()=>new nt.x).pipe(Ml());return this.componentLoaders.set(e,r),r}loadChildren(e,n){if(this.childrenLoaders.get(n))return this.childrenLoaders.get(n);if(n._loadedRoutes)return it({routes:n._loadedRoutes,injector:n._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(n);const o=this.loadModuleFactoryOrRoutes(n.loadChildren).pipe((0,kt.U)(h=>{this.onLoadEndListener&&this.onLoadEndListener(n);let g,b,x=!1;Array.isArray(h)?b=h:(g=h.create(e).injector,b=sf(g.get(Gl,[],s.XFs.Self|s.XFs.Optional)));return{routes:b.map(Vl),injector:g}}),Ec(()=>{this.childrenLoaders.delete(n)})),d=new Gd(o,()=>new nt.x).pipe(Ml());return this.childrenLoaders.set(n,d),d}loadModuleFactoryOrRoutes(e){return ea(e()).pipe((0,kt.U)(os),(0,Hn.z)(n=>n instanceof s.YKP||Array.isArray(n)?it(n):(0,mi.D)(this.compiler.compileModuleAsync(n))))}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=s.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();function os(i){return function eM(i){return i&&"object"==typeof i&&"default"in i}(i)?i.default:i}let nm=(()=>{class i{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.lastSuccessfulNavigation=null,this.events=new nt.x,this.configLoader=(0,s.f3M)(Av),this.environmentInjector=(0,s.f3M)(s.lqb),this.urlSerializer=(0,s.f3M)(Is),this.rootContexts=(0,s.f3M)(z),this.navigationId=0,this.afterPreactivation=()=>it(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=r=>this.events.next(new Gh(r)),this.configLoader.onLoadStartListener=r=>this.events.next(new gf(r))}complete(){this.transitions?.complete()}handleNavigationRequest(e){const n=++this.navigationId;this.transitions?.next({...this.transitions.value,...e,id:n})}setupNavigations(e){return this.transitions=new Tr({id:0,targetPageId:0,currentUrlTree:e.currentUrlTree,currentRawUrl:e.currentUrlTree,extractedUrl:e.urlHandlingStrategy.extract(e.currentUrlTree),urlAfterRedirects:e.urlHandlingStrategy.extract(e.currentUrlTree),rawUrl:e.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Rc,restoredState:null,currentSnapshot:e.routerState.snapshot,targetSnapshot:null,currentRouterState:e.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(sn(n=>0!==n.id),(0,kt.U)(n=>({...n,extractedUrl:e.urlHandlingStrategy.extract(n.rawUrl)})),on(n=>{let r=!1,o=!1;return it(n).pipe((0,bn.b)(d=>{this.currentNavigation={id:d.id,initialUrl:d.rawUrl,extractedUrl:d.extractedUrl,trigger:d.source,extras:d.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),on(d=>{const h=e.browserUrlTree.toString(),g=!e.navigated||d.extractedUrl.toString()!==h||h!==e.currentUrlTree.toString();if(!g&&"reload"!==(d.extras.onSameUrlNavigation??e.onSameUrlNavigation)){const x="";return this.events.next(new Bl(d.id,e.serializeUrl(n.rawUrl),x,0)),e.rawUrlTree=d.rawUrl,d.resolve(null),No.E}if(e.urlHandlingStrategy.shouldProcessUrl(d.rawUrl))return Iw(d.source)&&(e.browserUrlTree=d.extractedUrl),it(d).pipe(on(x=>{const k=this.transitions?.getValue();return this.events.next(new Ga(x.id,this.urlSerializer.serialize(x.extractedUrl),x.source,x.restoredState)),k!==this.transitions?.getValue()?No.E:Promise.resolve(x)}),function xw(i,t,e,n){return on(r=>function Yk(i,t,e,n,r){return new qk(i,t,e,n,r).apply()}(i,t,e,r.extractedUrl,n).pipe((0,kt.U)(o=>({...r,urlAfterRedirects:o}))))}(this.environmentInjector,this.configLoader,this.urlSerializer,e.config),(0,bn.b)(x=>{this.currentNavigation={...this.currentNavigation,finalUrl:x.urlAfterRedirects},n.urlAfterRedirects=x.urlAfterRedirects}),function Xk(i,t,e,n,r){return(0,Hn.z)(o=>function Wk(i,t,e,n,r,o,d="emptyOnly"){return new Sv(i,t,e,n,r,d,o).recognize().pipe(on(h=>null===h?function Iv(i){return new vn.y(t=>t.error(i))}(new Mv):it(h)))}(i,t,e,o.urlAfterRedirects,n.serialize(o.urlAfterRedirects),n,r).pipe((0,kt.U)(d=>({...o,targetSnapshot:d}))))}(this.environmentInjector,this.rootComponentType,e.config,this.urlSerializer,e.paramsInheritanceStrategy),(0,bn.b)(x=>{if(n.targetSnapshot=x.targetSnapshot,"eager"===e.urlUpdateStrategy){if(!x.extras.skipLocationChange){const T=e.urlHandlingStrategy.merge(x.urlAfterRedirects,x.rawUrl);e.setBrowserUrl(T,x)}e.browserUrlTree=x.urlAfterRedirects}const k=new zh(x.id,this.urlSerializer.serialize(x.extractedUrl),this.urlSerializer.serialize(x.urlAfterRedirects),x.targetSnapshot);this.events.next(k)}));if(g&&e.urlHandlingStrategy.shouldProcessUrl(e.rawUrlTree)){const{id:x,extractedUrl:k,source:T,restoredState:F,extras:H}=d,X=new Ga(x,this.urlSerializer.serialize(k),T,F);this.events.next(X);const ne=Yh(k,this.rootComponentType).snapshot;return it(n={...d,targetSnapshot:ne,urlAfterRedirects:k,extras:{...H,skipLocationChange:!1,replaceUrl:!1}})}{const x="";return this.events.next(new Bl(d.id,e.serializeUrl(n.extractedUrl),x,1)),e.rawUrlTree=d.rawUrl,d.resolve(null),No.E}}),(0,bn.b)(d=>{const h=new Fc(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot);this.events.next(h)}),(0,kt.U)(d=>n={...d,guards:CO(d.targetSnapshot,d.currentSnapshot,this.rootContexts)}),function wv(i,t){return(0,Hn.z)(e=>{const{targetSnapshot:n,currentSnapshot:r,guards:{canActivateChecks:o,canDeactivateChecks:d}}=e;return 0===d.length&&0===o.length?it({...e,guardsResult:!0}):function Mf(i,t,e,n){return(0,mi.D)(i).pipe((0,Hn.z)(r=>function Cv(i,t,e,n,r){const o=t&&t.routeConfig?t.routeConfig.canDeactivate:null;return o&&0!==o.length?it(o.map(h=>{const g=Hl(t)??r,b=Bc(h,g);return ea(function yv(i){return i&&em(i.canDeactivate)}(b)?b.canDeactivate(i,t,e,n):g.runInContext(()=>b(i,t,e,n))).pipe(ho())})).pipe(cu()):it(!0)}(r.component,r.route,e,t,n)),ho(r=>!0!==r,!0))}(d,n,r,i).pipe((0,Hn.z)(h=>h&&function dw(i){return"boolean"==typeof i}(h)?function Hk(i,t,e,n){return(0,mi.D)(t).pipe(Na(r=>El(function If(i,t){return null!==i&&t&&t(new $h(i)),it(!0)}(r.route.parent,n),function xv(i,t){return null!==i&&t&&t(new xr(i)),it(!0)}(r.route,n),function pw(i,t,e){const n=t[t.length-1],o=t.slice(0,t.length-1).reverse().map(d=>function Xh(i){const t=i.routeConfig?i.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:i,guards:t}:null}(d)).filter(d=>null!==d).map(d=>kl(()=>it(d.guards.map(g=>{const b=Hl(d.node)??e,x=Bc(g,b);return ea(function DO(i){return i&&em(i.canActivateChild)}(x)?x.canActivateChild(n,i):b.runInContext(()=>x(n,i))).pipe(ho())})).pipe(cu())));return it(o).pipe(cu())}(i,r.path,e),function Ul(i,t,e){const n=t.routeConfig?t.routeConfig.canActivate:null;if(!n||0===n.length)return it(!0);const r=n.map(o=>kl(()=>{const d=Hl(t)??e,h=Bc(o,d);return ea(function bv(i){return i&&em(i.canActivate)}(h)?h.canActivate(t,i):d.runInContext(()=>h(t,i))).pipe(ho())}));return it(r).pipe(cu())}(i,r.route,e))),ho(r=>!0!==r,!0))}(n,o,i,t):it(h)),(0,kt.U)(h=>({...e,guardsResult:h})))})}(this.environmentInjector,d=>this.events.next(d)),(0,bn.b)(d=>{if(n.guardsResult=d.guardsResult,Ts(d.guardsResult))throw p(0,d.guardsResult);const h=new pf(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot,!!d.guardsResult);this.events.next(h)}),sn(d=>!!d.guardsResult||(e.restoreHistory(d),this.cancelNavigationTransition(d,"",3),!1)),Af(d=>{if(d.guards.canActivateChecks.length)return it(d).pipe((0,bn.b)(h=>{const g=new jh(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot);this.events.next(g)}),on(h=>{let g=!1;return it(h).pipe(Jk(e.paramsInheritanceStrategy,this.environmentInjector),(0,bn.b)({next:()=>g=!0,complete:()=>{g||(e.restoreHistory(h),this.cancelNavigationTransition(h,"",2))}}))}),(0,bn.b)(h=>{const g=new ff(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot);this.events.next(g)}))}),Af(d=>{const h=g=>{const b=[];g.routeConfig?.loadComponent&&!g.routeConfig._loadedComponent&&b.push(this.configLoader.loadComponent(g.routeConfig).pipe((0,bn.b)(x=>{g.component=x}),(0,kt.U)(()=>{})));for(const x of g.children)b.push(...h(x));return b};return Dl(h(d.targetSnapshot.root)).pipe(Dc(),Gi(1))}),Af(()=>this.afterPreactivation()),(0,kt.U)(d=>{const h=function Os(i,t,e){const n=Ps(i,t._root,e?e._root:void 0);return new wf(n,t)}(e.routeReuseStrategy,d.targetSnapshot,d.currentRouterState);return n={...d,targetRouterState:h}}),(0,bn.b)(d=>{e.currentUrlTree=d.urlAfterRedirects,e.rawUrlTree=e.urlHandlingStrategy.merge(d.urlAfterRedirects,d.rawUrl),e.routerState=d.targetRouterState,"deferred"===e.urlUpdateStrategy&&(d.extras.skipLocationChange||e.setBrowserUrl(e.rawUrlTree,d),e.browserUrlTree=d.urlAfterRedirects)}),((i,t,e)=>(0,kt.U)(n=>(new gv(t,n.targetRouterState,n.currentRouterState,e).activate(i),n)))(this.rootContexts,e.routeReuseStrategy,d=>this.events.next(d)),Gi(1),(0,bn.b)({next:d=>{r=!0,this.lastSuccessfulNavigation=this.currentNavigation,e.navigated=!0,this.events.next(new $a(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(e.currentUrlTree))),e.titleStrategy?.updateTitle(d.targetRouterState.snapshot),d.resolve(!0)},complete:()=>{r=!0}}),Ec(()=>{r||o||this.cancelNavigationTransition(n,"",1),this.currentNavigation?.id===n.id&&(this.currentNavigation=null)}),es(d=>{if(o=!0,E(d)){w(d)||(e.navigated=!0,e.restoreHistory(n,!0));const h=new Oc(n.id,this.urlSerializer.serialize(n.extractedUrl),d.message,d.cancellationCode);if(this.events.next(h),w(d)){const g=e.urlHandlingStrategy.merge(d.url,e.rawUrlTree),b={skipLocationChange:n.extras.skipLocationChange,replaceUrl:"eager"===e.urlUpdateStrategy||Iw(n.source)};e.scheduleNavigation(g,Rc,null,b,{resolve:n.resolve,reject:n.reject,promise:n.promise})}else n.resolve(!1)}else{e.restoreHistory(n,!0);const h=new Pc(n.id,this.urlSerializer.serialize(n.extractedUrl),d,n.targetSnapshot??void 0);this.events.next(h);try{n.resolve(e.errorHandler(d))}catch(g){n.reject(g)}}return No.E}))}))}cancelNavigationTransition(e,n,r){const o=new Oc(e.id,this.urlSerializer.serialize(e.extractedUrl),n,r);this.events.next(o),e.resolve(!1)}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=s.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();function Iw(i){return i!==Rc}let Sw=(()=>{class i{buildTitle(e){let n,r=e.root;for(;void 0!==r;)n=this.getResolvedTitleForRoute(r)??n,r=r.children.find(o=>o.outlet===ti);return n}getResolvedTitleForRoute(e){return e.data[ar]}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=s.Yz7({token:i,factory:function(){return(0,s.f3M)(tM)},providedIn:"root"}),i})(),tM=(()=>{class i extends Sw{constructor(e){super(),this.title=e}updateTitle(e){const n=this.buildTitle(e);void 0!==n&&this.title.setTitle(n)}}return i.\u0275fac=function(e){return new(e||i)(s.LFG(Oa))},i.\u0275prov=s.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),iM=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=s.Yz7({token:i,factory:function(){return(0,s.f3M)(nM)},providedIn:"root"}),i})();class Tw{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}let nM=(()=>{class i extends Tw{}return i.\u0275fac=function(){let t;return function(n){return(t||(t=s.n5z(i)))(n||i)}}(),i.\u0275prov=s.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();const Of=new s.OlP("",{providedIn:"root",factory:()=>({})});let ci=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=s.Yz7({token:i,factory:function(){return(0,s.f3M)(Aw)},providedIn:"root"}),i})(),Aw=(()=>{class i{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,n){return e}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=s.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();function Rw(i){throw i}function oM(i,t,e){return t.parse("/")}const sM={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Ow={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Qr=(()=>{class i{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return this.location.getState()?.\u0275routerPageId}get events(){return this.navigationTransitions.events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=(0,s.f3M)(s.c2e),this.isNgZoneEnabled=!1,this.options=(0,s.f3M)(Of,{optional:!0})||{},this.errorHandler=this.options.errorHandler||Rw,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||oM,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=(0,s.f3M)(ci),this.routeReuseStrategy=(0,s.f3M)(iM),this.urlCreationStrategy=(0,s.f3M)(bf),this.titleStrategy=(0,s.f3M)(Sw),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=sf((0,s.f3M)(Gl,{optional:!0})??[]),this.navigationTransitions=(0,s.f3M)(nm),this.urlSerializer=(0,s.f3M)(Is),this.location=(0,s.f3M)(He),this.isNgZoneEnabled=(0,s.f3M)(s.R0b)instanceof s.R0b&&s.R0b.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new ts,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=Yh(this.currentUrlTree,null),this.navigationTransitions.setupNavigations(this).subscribe(e=>{this.lastSuccessfulId=e.id,this.currentPageId=e.targetPageId},e=>{this.console.warn(`Unhandled Navigation Error: ${e}`)})}resetRootComponentType(e){this.routerState.root.component=e,this.navigationTransitions.rootComponentType=e}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const e=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),Rc,e)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(e=>{const n="popstate"===e.type?"popstate":"hashchange";"popstate"===n&&setTimeout(()=>{this.navigateToSyncWithBrowser(e.url,n,e.state)},0)}))}navigateToSyncWithBrowser(e,n,r){const o={replaceUrl:!0},d=r?.navigationId?r:null;if(r){const g={...r};delete g.navigationId,delete g.\u0275routerPageId,0!==Object.keys(g).length&&(o.state=g)}const h=this.parseUrl(e);this.scheduleNavigation(h,n,d,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}resetConfig(e){this.config=e.map(Vl),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(e,n={}){const{relativeTo:r,queryParams:o,fragment:d,queryParamsHandling:h,preserveFragment:g}=n,b=g?this.currentUrlTree.fragment:d;let x=null;switch(h){case"merge":x={...this.currentUrlTree.queryParams,...o};break;case"preserve":x=this.currentUrlTree.queryParams;break;default:x=o||null}return null!==x&&(x=this.removeEmptyProps(x)),this.urlCreationStrategy.createUrlTree(r,this.routerState,this.currentUrlTree,e,x,b??null)}navigateByUrl(e,n={skipLocationChange:!1}){const r=Ts(e)?e:this.parseUrl(e),o=this.urlHandlingStrategy.merge(r,this.rawUrlTree);return this.scheduleNavigation(o,Rc,null,n)}navigate(e,n={skipLocationChange:!1}){return function Pw(i){for(let t=0;t<i.length;t++){const e=i[t];if(null==e)throw new s.vHH(4008,false)}}(e),this.navigateByUrl(this.createUrlTree(e,n),n)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){let n;try{n=this.urlSerializer.parse(e)}catch(r){n=this.malformedUriErrorHandler(r,this.urlSerializer,e)}return n}isActive(e,n){let r;if(r=!0===n?{...sM}:!1===n?{...Ow}:n,Ts(e))return Sl(this.currentUrlTree,e,r);const o=this.parseUrl(e);return Sl(this.currentUrlTree,o,r)}removeEmptyProps(e){return Object.keys(e).reduce((n,r)=>{const o=e[r];return null!=o&&(n[r]=o),n},{})}scheduleNavigation(e,n,r,o,d){if(this.disposed)return Promise.resolve(!1);let h,g,b,x;return d?(h=d.resolve,g=d.reject,b=d.promise):b=new Promise((k,T)=>{h=k,g=T}),x="computed"===this.canceledNavigationResolution?r&&r.\u0275routerPageId?r.\u0275routerPageId:o.replaceUrl||o.skipLocationChange?this.browserPageId??0:(this.browserPageId??0)+1:0,this.navigationTransitions.handleNavigationRequest({targetPageId:x,source:n,restoredState:r,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:e,extras:o,resolve:h,reject:g,promise:b,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),b.catch(k=>Promise.reject(k))}setBrowserUrl(e,n){const r=this.urlSerializer.serialize(e),o={...n.extras.state,...this.generateNgRouterState(n.id,n.targetPageId)};this.location.isCurrentPathEqualTo(r)||n.extras.replaceUrl?this.location.replaceState(r,"",o):this.location.go(r,"",o)}restoreHistory(e,n=!1){if("computed"===this.canceledNavigationResolution){const r=this.currentPageId-e.targetPageId;"popstate"!==e.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==this.getCurrentNavigation()?.finalUrl||0===r?this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===r&&(this.resetState(e),this.browserUrlTree=e.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(r)}else"replace"===this.canceledNavigationResolution&&(n&&this.resetState(e),this.resetUrlToCurrentUrlTree())}resetState(e){this.routerState=e.currentRouterState,this.currentUrlTree=e.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(e,n){return"computed"===this.canceledNavigationResolution?{navigationId:e,\u0275routerPageId:n}:{navigationId:e}}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=s.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),rm=(()=>{class i{constructor(e,n,r,o,d,h){this.router=e,this.route=n,this.tabIndexAttribute=r,this.renderer=o,this.el=d,this.locationStrategy=h,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.href=null,this.commands=null,this.onChanges=new nt.x;const g=d.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===g||"area"===g,this.isAnchorElement?this.subscription=e.events.subscribe(b=>{b instanceof $a&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}set preserveFragment(e){this._preserveFragment=(0,s.D6c)(e)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(e){this._skipLocationChange=(0,s.D6c)(e)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(e){this._replaceUrl=(0,s.D6c)(e)}get replaceUrl(){return this._replaceUrl}setTabIndexIfNotOnNativeEl(e){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",e)}ngOnChanges(e){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(e){null!=e?(this.commands=Array.isArray(e)?e:[e],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(e,n,r,o,d){return!!(null===this.urlTree||this.isAnchorElement&&(0!==e||n||r||o||d||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const e=null===this.href?null:(0,s.P3R)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",e)}applyAttributeValue(e,n){const r=this.renderer,o=this.el.nativeElement;null!==n?r.setAttribute(o,e,n):r.removeAttribute(o,e)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return i.\u0275fac=function(e){return new(e||i)(s.Y36(Qr),s.Y36(na),s.$8M("tabindex"),s.Y36(s.Qsj),s.Y36(s.SBq),s.Y36(tt))},i.\u0275dir=s.lG2({type:i,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(e,n){1&e&&s.NdJ("click",function(o){return n.onClick(o.button,o.ctrlKey,o.shiftKey,o.altKey,o.metaKey)}),2&e&&s.uIk("target",n.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[s.TTD]}),i})();class Rv{}let lM=(()=>{class i{constructor(e,n,r,o,d){this.router=e,this.injector=r,this.preloadingStrategy=o,this.loader=d}setUpPreloading(){this.subscription=this.router.events.pipe(sn(e=>e instanceof $a),Na(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(e,n){const r=[];for(const o of n){o.providers&&!o._injector&&(o._injector=(0,s.MMx)(o.providers,e,`Route: ${o.path}`));const d=o._injector??e,h=o._loadedInjector??d;(o.loadChildren&&!o._loadedRoutes&&void 0===o.canLoad||o.loadComponent&&!o._loadedComponent)&&r.push(this.preloadConfig(d,o)),(o.children||o._loadedRoutes)&&r.push(this.processRoutes(h,o.children??o._loadedRoutes))}return(0,mi.D)(r).pipe((0,Fo.J)())}preloadConfig(e,n){return this.preloadingStrategy.preload(n,()=>{let r;r=n.loadChildren&&void 0===n.canLoad?this.loader.loadChildren(e,n):it(null);const o=r.pipe((0,Hn.z)(d=>null===d?it(void 0):(n._loadedRoutes=d.routes,n._loadedInjector=d.injector,this.processRoutes(d.injector??e,d.routes))));if(n.loadComponent&&!n._loadedComponent){const d=this.loader.loadComponent(n);return(0,mi.D)([o,d]).pipe((0,Fo.J)())}return o})}}return i.\u0275fac=function(e){return new(e||i)(s.LFG(Qr),s.LFG(s.Sil),s.LFG(s.lqb),s.LFG(Rv),s.LFG(Av))},i.\u0275prov=s.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();const om=new s.OlP("");let Ff=(()=>{class i{constructor(e,n,r,o,d={}){this.urlSerializer=e,this.transitions=n,this.viewportScroller=r,this.zone=o,this.options=d,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},d.scrollPositionRestoration=d.scrollPositionRestoration||"disabled",d.anchorScrolling=d.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(e=>{e instanceof Ga?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof $a&&(this.lastId=e.id,this.scheduleScrollEvent(e,this.urlSerializer.parse(e.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(e=>{e instanceof eu&&(e.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,n){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new eu(e,"popstate"===this.lastSource?this.store[this.restoredId]:null,n))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}}return i.\u0275fac=function(e){s.$Z()},i.\u0275prov=s.Yz7({token:i,factory:i.\u0275fac}),i})();var Vo=(()=>((Vo=Vo||{})[Vo.COMPLETE=0]="COMPLETE",Vo[Vo.FAILED=1]="FAILED",Vo[Vo.REDIRECTING=2]="REDIRECTING",Vo))();const sm=!1;function Wa(i,t){return{\u0275kind:i,\u0275providers:t}}const Nw=new s.OlP("",{providedIn:"root",factory:()=>!1});function Ov(){const i=(0,s.f3M)(s.zs3);return t=>{const e=i.get(s.z2F);if(t!==e.components[0])return;const n=i.get(Qr),r=i.get(cm);1===i.get(Pv)&&n.initialNavigation(),i.get(Bw,null,s.XFs.Optional)?.setUpPreloading(),i.get(om,null,s.XFs.Optional)?.init(),n.resetRootComponentType(e.componentTypes[0]),r.closed||(r.next(),r.complete(),r.unsubscribe())}}const cm=new s.OlP(sm?"bootstrap done indicator":"",{factory:()=>new nt.x}),Pv=new s.OlP(sm?"initial navigation":"",{providedIn:"root",factory:()=>1});function hM(){let i=[];return i=sm?[{provide:s.Xts,multi:!0,useFactory:()=>{const t=(0,s.f3M)(Qr);return()=>t.events.subscribe(e=>{console.group?.(`Router Event: ${e.constructor.name}`),console.log(function vf(i){if(!("type"in i))return`Unknown Router Event: ${i.constructor.name}`;switch(i.type){case 14:return`ActivationEnd(path: '${i.snapshot.routeConfig?.path||""}')`;case 13:return`ActivationStart(path: '${i.snapshot.routeConfig?.path||""}')`;case 12:return`ChildActivationEnd(path: '${i.snapshot.routeConfig?.path||""}')`;case 11:return`ChildActivationStart(path: '${i.snapshot.routeConfig?.path||""}')`;case 8:return`GuardsCheckEnd(id: ${i.id}, url: '${i.url}', urlAfterRedirects: '${i.urlAfterRedirects}', state: ${i.state}, shouldActivate: ${i.shouldActivate})`;case 7:return`GuardsCheckStart(id: ${i.id}, url: '${i.url}', urlAfterRedirects: '${i.urlAfterRedirects}', state: ${i.state})`;case 2:return`NavigationCancel(id: ${i.id}, url: '${i.url}')`;case 16:return`NavigationSkipped(id: ${i.id}, url: '${i.url}')`;case 1:return`NavigationEnd(id: ${i.id}, url: '${i.url}', urlAfterRedirects: '${i.urlAfterRedirects}')`;case 3:return`NavigationError(id: ${i.id}, url: '${i.url}', error: ${i.error})`;case 0:return`NavigationStart(id: ${i.id}, url: '${i.url}')`;case 6:return`ResolveEnd(id: ${i.id}, url: '${i.url}', urlAfterRedirects: '${i.urlAfterRedirects}', state: ${i.state})`;case 5:return`ResolveStart(id: ${i.id}, url: '${i.url}', urlAfterRedirects: '${i.urlAfterRedirects}', state: ${i.state})`;case 10:return`RouteConfigLoadEnd(path: ${i.route.path})`;case 9:return`RouteConfigLoadStart(path: ${i.route.path})`;case 4:return`RoutesRecognized(id: ${i.id}, url: '${i.url}', urlAfterRedirects: '${i.urlAfterRedirects}', state: ${i.state})`;case 15:return`Scroll(anchor: '${i.anchor}', position: '${i.position?`${i.position[0]}, ${i.position[1]}`:null}')`}}(e)),console.log(e),console.groupEnd?.()})}}]:[],Wa(1,i)}const Bw=new s.OlP(sm?"router preloader":"");function mM(i){return Wa(0,[{provide:Bw,useExisting:lM},{provide:Rv,useExisting:i}])}const du=!1,Nf=new s.OlP(du?"router duplicate forRoot guard":"ROUTER_FORROOT_GUARD"),PO=[He,{provide:Is,useClass:Tl},Qr,z,{provide:na,useFactory:function Fw(i){return i.routerState.root},deps:[Qr]},Av,du?{provide:Nw,useValue:!0}:[]];function Fv(){return new s.PXZ("Router",Qr)}let gM=(()=>{class i{constructor(e){}static forRoot(e,n){return{ngModule:i,providers:[PO,du&&n?.enableTracing?hM().\u0275providers:[],{provide:Gl,multi:!0,useValue:e},{provide:Nf,useFactory:_M,deps:[[Qr,new s.FiY,new s.tp0]]},{provide:Of,useValue:n||{}},n?.useHash?{provide:tt,useClass:Te}:{provide:tt,useClass:Me},{provide:om,useFactory:()=>{const i=(0,s.f3M)(le),t=(0,s.f3M)(s.R0b),e=(0,s.f3M)(Of),n=(0,s.f3M)(nm),r=(0,s.f3M)(Is);return e.scrollOffset&&i.setOffset(e.scrollOffset),new Ff(r,n,i,t,e)}},n?.preloadingStrategy?mM(n.preloadingStrategy).\u0275providers:[],{provide:s.PXZ,multi:!0,useFactory:Fv},n?.initialNavigation?Hw(n):[],[{provide:Uw,useFactory:Ov},{provide:s.tb,multi:!0,useExisting:Uw}]]}}static forChild(e){return{ngModule:i,providers:[{provide:Gl,multi:!0,useValue:e}]}}}return i.\u0275fac=function(e){return new(e||i)(s.LFG(Nf,8))},i.\u0275mod=s.oAB({type:i}),i.\u0275inj=s.cJS({imports:[ht]}),i})();function _M(i){if(du&&i)throw new s.vHH(4007,"The Router was provided more than once. This can happen if 'forRoot' is used outside of the root injector. Lazy loaded modules should use RouterModule.forChild() instead.");return"guarded"}function Hw(i){return["disabled"===i.initialNavigation?Wa(3,[{provide:s.ip1,multi:!0,useFactory:()=>{const t=(0,s.f3M)(Qr);return()=>{t.setUpLocationChangeListener()}}},{provide:Pv,useValue:2}]).\u0275providers:[],"enabledBlocking"===i.initialNavigation?Wa(2,[{provide:Pv,useValue:0},{provide:s.ip1,multi:!0,deps:[s.zs3],useFactory:t=>{const e=t.get(he,Promise.resolve());return()=>e.then(()=>new Promise(n=>{const r=t.get(Qr),o=t.get(cm);(function TO(i,t){i.events.pipe(sn(e=>e instanceof $a||e instanceof Oc||e instanceof Pc||e instanceof Bl),(0,kt.U)(e=>e instanceof $a||e instanceof Bl?Vo.COMPLETE:e instanceof Oc&&(0===e.code||1===e.code)?Vo.REDIRECTING:Vo.FAILED),sn(e=>e!==Vo.REDIRECTING),Gi(1)).subscribe(()=>{t()})})(r,()=>{n(!0)}),t.get(nm).afterPreactivation=()=>(n(!0),o.closed?it(void 0):o),r.initialNavigation()}))}}]).\u0275providers:[]]}const Uw=new s.OlP(du?"Router Initializer":"");var Za=R(751);const lm_firebase={apiKey:"AIzaSyCrzjrRQwmYbRke7Dkzqcp6ZZ945qeFfUg",authDomain:"mini2-fdd47.firebaseapp.com",projectId:"mini2-fdd47",storageBucket:"mini2-fdd47.appspot.com",messagingSenderId:"601657685204",appId:"1:601657685204:web:e7487007b5e0bc0949b741",measurementId:"G-6BSEGF3K4R",vapidKey:"BFaPd793GpnhBMFlxjxE2UkH7_28YJ9K7uFr80YZv9fWySMrFrsQ_qzdbqYvy_WVwOp51n3SbjUUJacpCINtlWw"};let Fs=(()=>{class i{constructor(){}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=s.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();function Lv(i,t){if(1&i&&(s.TgZ(0,"div")(1,"p"),s._uU(2),s.qZA()()),2&i){const e=s.oxw();s.xp6(2),s.AsE("",e.message.notification.title," ",e.message.notification.body,"")}}let Lf=(()=>{class i{constructor(e){this.relaySvc=e,this.message=null}ngOnInit(){this.requestPermission(),this.listen()}requestPermission(){const e=(0,Za.KL)();(0,Za.LP)(e,{vapidKey:lm_firebase.vapidKey}).then(n=>{n?(this.relaySvc.webToken=n,console.log("Hurraaa!!! we got the token....."),console.log(this.relaySvc.webToken)):console.log("No registration token available. Request permission to generate one.")}).catch(n=>{console.log("An error occurred while retrieving token. ",n)})}listen(){const e=(0,Za.KL)();(0,Za.ps)(e,n=>{console.log("Message received. ",n),this.message=n})}}return i.\u0275fac=function(e){return new(e||i)(s.Y36(Fs))},i.\u0275cmp=s.Xpm({type:i,selectors:[["app-notification"]],decls:1,vars:1,consts:[[4,"ngIf"]],template:function(e,n){1&e&&s.YNc(0,Lv,3,2,"div",0),2&e&&s.Q6J("ngIf",n.message)},dependencies:[ir]}),i})(),zw=(()=>{class i{constructor(){this.title="CHOREZILLA"}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275cmp=s.Xpm({type:i,selectors:[["app-root"]],decls:2,vars:0,template:function(e,n){1&e&&s._UZ(0,"app-notification")(1,"router-outlet")},dependencies:[Re,Lf]}),i})();class Bf{}class Bv{}const Ns="*";function un(i,t){return{type:7,name:i,definitions:t,options:{}}}function vi(i,t=null){return{type:4,styles:t,timings:i}}function jw(i,t=null){return{type:2,steps:i,options:t}}function _t(i){return{type:6,styles:i,offset:null}}function fi(i,t,e){return{type:0,name:i,styles:t,options:e}}function bi(i,t,e=null){return{type:1,expr:i,animation:t,options:e}}function bM(i){Promise.resolve().then(i)}class Yl{constructor(t=0,e=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=t+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}onStart(t){this._originalOnStartFns.push(t),this._onStartFns.push(t)}onDone(t){this._originalOnDoneFns.push(t),this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){bM(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(t){this._position=this.totalTime?t*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(n=>n()),e.length=0}}class Vv{constructor(t){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=t;let e=0,n=0,r=0;const o=this.players.length;0==o?bM(()=>this._onFinish()):this.players.forEach(d=>{d.onDone(()=>{++e==o&&this._onFinish()}),d.onDestroy(()=>{++n==o&&this._onDestroy()}),d.onStart(()=>{++r==o&&this._onStart()})}),this.totalTime=this.players.reduce((d,h)=>Math.max(d,h.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this.players.forEach(t=>t.init())}onStart(t){this._onStartFns.push(t)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(t=>t()),this._onStartFns=[])}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(t=>t.play())}pause(){this.players.forEach(t=>t.pause())}restart(){this.players.forEach(t=>t.restart())}finish(){this._onFinish(),this.players.forEach(t=>t.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(t=>t.destroy()),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this.players.forEach(t=>t.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(t){const e=t*this.totalTime;this.players.forEach(n=>{const r=n.totalTime?Math.min(1,e/n.totalTime):1;n.setPosition(r)})}getPosition(){const t=this.players.reduce((e,n)=>null===e||n.totalTime>e.totalTime?n:e,null);return null!=t?t.getPosition():0}beforeDestroy(){this.players.forEach(t=>{t.beforeDestroy&&t.beforeDestroy()})}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(n=>n()),e.length=0}}const Hv="!";function Gw(i){return new s.vHH(3e3,!1)}function Xw(){return typeof window<"u"&&typeof window.document<"u"}function jf(){return typeof process<"u"&&"[object process]"==={}.toString.call(process)}function Uc(i){switch(i.length){case 0:return new Yl;case 1:return i[0];default:return new Vv(i)}}function Jw(i,t,e,n,r=new Map,o=new Map){const d=[],h=[];let g=-1,b=null;if(n.forEach(x=>{const k=x.get("offset"),T=k==g,F=T&&b||new Map;x.forEach((H,X)=>{let ne=X,je=H;if("offset"!==X)switch(ne=t.normalizePropertyName(ne,d),je){case Hv:je=r.get(X);break;case Ns:je=o.get(X);break;default:je=t.normalizeStyleValue(X,ne,je,d)}F.set(ne,je)}),T||h.push(F),b=F,g=k}),d.length)throw function VO(i){return new s.vHH(3502,!1)}();return h}function ql(i,t,e,n){switch(t){case"start":i.onStart(()=>n(e&&Yv(e,"start",i)));break;case"done":i.onDone(()=>n(e&&Yv(e,"done",i)));break;case"destroy":i.onDestroy(()=>n(e&&Yv(e,"destroy",i)))}}function Yv(i,t,e){const o=ex(i.element,i.triggerName,i.fromState,i.toState,t||i.phaseName,e.totalTime??i.totalTime,!!e.disabled),d=i._data;return null!=d&&(o._data=d),o}function ex(i,t,e,n,r="",o=0,d){return{element:i,triggerName:t,fromState:e,toState:n,phaseName:r,totalTime:o,disabled:!!d}}function Ho(i,t,e){let n=i.get(t);return n||i.set(t,n=e),n}function tx(i){const t=i.indexOf(":");return[i.substring(1,t),i.slice(t+1)]}let qv=(i,t)=>!1,ix=(i,t,e)=>[],nx=null;function Wv(i){const t=i.parentNode||i.host;return t===nx?null:t}(jf()||typeof Element<"u")&&(Xw()?(nx=(()=>document.documentElement)(),qv=(i,t)=>{for(;t;){if(t===i)return!0;t=Wv(t)}return!1}):qv=(i,t)=>i.contains(t),ix=(i,t,e)=>{if(e)return Array.from(i.querySelectorAll(t));const n=i.querySelector(t);return n?[n]:[]});let Qa=null,ox=!1;const sx=qv,ax=ix;let cx=(()=>{class i{validateStyleProperty(e){return function Zv(i){Qa||(Qa=function FM(){return typeof document<"u"?document.body:null}()||{},ox=!!Qa.style&&"WebkitAppearance"in Qa.style);let t=!0;return Qa.style&&!function rx(i){return"ebkit"==i.substring(1,6)}(i)&&(t=i in Qa.style,!t&&ox&&(t="Webkit"+i.charAt(0).toUpperCase()+i.slice(1)in Qa.style)),t}(e)}matchesElement(e,n){return!1}containsElement(e,n){return sx(e,n)}getParentElement(e){return Wv(e)}query(e,n,r){return ax(e,n,r)}computeStyle(e,n,r){return r||""}animate(e,n,r,o,d,h=[],g){return new Yl(r,o)}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=s.Yz7({token:i,factory:i.\u0275fac}),i})(),Kv=(()=>{class i{}return i.NOOP=new cx,i})();const lx=1e3,dx="ng-enter",hm="ng-leave",Xv="ng-trigger",Wl=".ng-trigger",ux="ng-animating",Jv=".ng-animating";function Ls(i){if("number"==typeof i)return i;const t=i.match(/^(-?[\.\d]+)(m?s)/);return!t||t.length<2?0:eb(parseFloat(t[1]),t[2])}function eb(i,t){return"s"===t?i*lx:i}function Uo(i,t,e){return i.hasOwnProperty("duration")?i:function mm(i,t,e){let r,o=0,d="";if("string"==typeof i){const h=i.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===h)return t.push(Gw()),{duration:0,delay:0,easing:""};r=eb(parseFloat(h[1]),h[2]);const g=h[3];null!=g&&(o=eb(parseFloat(g),h[4]));const b=h[5];b&&(d=b)}else r=i;if(!e){let h=!1,g=t.length;r<0&&(t.push(function $w(){return new s.vHH(3100,!1)}()),h=!0),o<0&&(t.push(function yM(){return new s.vHH(3101,!1)}()),h=!0),h&&t.splice(g,0,Gw())}return{duration:r,delay:o,easing:d}}(i,t,e)}function Wn(i,t={}){return Object.keys(i).forEach(e=>{t[e]=i[e]}),t}function zc(i){const t=new Map;return Object.keys(i).forEach(e=>{t.set(e,i[e])}),t}function ca(i,t=new Map,e){if(e)for(let[n,r]of e)t.set(n,r);for(let[n,r]of i)t.set(n,r);return t}function Zl(i,t,e){return e?t+":"+e+";":""}function Kl(i){let t="";for(let e=0;e<i.style.length;e++){const n=i.style.item(e);t+=Zl(0,n,i.style.getPropertyValue(n))}for(const e in i.style)i.style.hasOwnProperty(e)&&!e.startsWith("_")&&(t+=Zl(0,mx(e),i.style[e]));i.setAttribute("style",t)}function Xr(i,t,e){i.style&&(t.forEach((n,r)=>{const o=$f(r);e&&!e.has(r)&&e.set(r,i.style[o]),i.style[o]=n}),jf()&&Kl(i))}function as(i,t){i.style&&(t.forEach((e,n)=>{const r=$f(n);i.style[r]=""}),jf()&&Kl(i))}function la(i){return Array.isArray(i)?1==i.length?i[0]:jw(i):i}const jc=new RegExp("{{\\s*(.+?)\\s*}}","g");function Ql(i){let t=[];if("string"==typeof i){let e;for(;e=jc.exec(i);)t.push(e[1]);jc.lastIndex=0}return t}function da(i,t,e){const n=i.toString(),r=n.replace(jc,(o,d)=>{let h=t[d];return null==h&&(e.push(function Uv(i){return new s.vHH(3003,!1)}()),h=""),h.toString()});return r==n?i:r}function pm(i){const t=[];let e=i.next();for(;!e.done;)t.push(e.value),e=i.next();return t}const hx=/-+([a-z0-9])/g;function $f(i){return i.replace(hx,(...t)=>t[1].toUpperCase())}function mx(i){return i.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function po(i,t,e){switch(t.type){case 7:return i.visitTrigger(t,e);case 0:return i.visitState(t,e);case 1:return i.visitTransition(t,e);case 2:return i.visitSequence(t,e);case 3:return i.visitGroup(t,e);case 4:return i.visitAnimate(t,e);case 5:return i.visitKeyframes(t,e);case 6:return i.visitStyle(t,e);case 8:return i.visitReference(t,e);case 9:return i.visitAnimateChild(t,e);case 10:return i.visitAnimateRef(t,e);case 11:return i.visitQuery(t,e);case 12:return i.visitStagger(t,e);default:throw function xM(i){return new s.vHH(3004,!1)}()}}function tb(i,t){return window.getComputedStyle(i)[t]}const fu="*";function HM(i,t){const e=[];return"string"==typeof i?i.split(/\s*,\s*/).forEach(n=>function qf(i,t,e){if(":"==i[0]){const g=function Wf(i,t){switch(i){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(e,n)=>parseFloat(n)>parseFloat(e);case":decrement":return(e,n)=>parseFloat(n)<parseFloat(e);default:return t.push(function OM(i){return new s.vHH(3016,!1)}()),"* => *"}}(i,e);if("function"==typeof g)return void t.push(g);i=g}const n=i.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==n||n.length<4)return e.push(function RM(i){return new s.vHH(3015,!1)}()),t;const r=n[1],o=n[2],d=n[3];t.push(gm(r,d));"<"==o[0]&&!(r==fu&&d==fu)&&t.push(gm(d,r))}(n,e,t)):e.push(i),e}const gu=new Set(["true","1"]),Zf=new Set(["false","0"]);function gm(i,t){const e=gu.has(i)||Zf.has(i),n=gu.has(t)||Zf.has(t);return(r,o)=>{let d=i==fu||i==r,h=t==fu||t==o;return!d&&e&&"boolean"==typeof r&&(d=r?gu.has(i):Zf.has(i)),!h&&n&&"boolean"==typeof o&&(h=o?gu.has(t):Zf.has(t)),d&&h}}const ib=new RegExp("s*:selfs*,?","g");function Kf(i,t,e,n){return new vx(i).build(t,e,n)}class vx{constructor(t){this._driver=t}build(t,e,n){const r=new yx(e);return this._resetContextStyleTimingState(r),po(this,la(t),r)}_resetContextStyleTimingState(t){t.currentQuerySelector="",t.collectedStyles=new Map,t.collectedStyles.set("",new Map),t.currentTime=0}visitTrigger(t,e){let n=e.queryCount=0,r=e.depCount=0;const o=[],d=[];return"@"==t.name.charAt(0)&&e.errors.push(function DM(){return new s.vHH(3006,!1)}()),t.definitions.forEach(h=>{if(this._resetContextStyleTimingState(e),0==h.type){const g=h,b=g.name;b.toString().split(/\s*,\s*/).forEach(x=>{g.name=x,o.push(this.visitState(g,e))}),g.name=b}else if(1==h.type){const g=this.visitTransition(h,e);n+=g.queryCount,r+=g.depCount,d.push(g)}else e.errors.push(function EM(){return new s.vHH(3007,!1)}())}),{type:7,name:t.name,states:o,transitions:d,queryCount:n,depCount:r,options:null}}visitState(t,e){const n=this.visitStyle(t.styles,e),r=t.options&&t.options.params||null;if(n.containsDynamicStyles){const o=new Set,d=r||{};n.styles.forEach(h=>{h instanceof Map&&h.forEach(g=>{Ql(g).forEach(b=>{d.hasOwnProperty(b)||o.add(b)})})}),o.size&&(pm(o.values()),e.errors.push(function kM(i,t){return new s.vHH(3008,!1)}()))}return{type:0,name:t.name,style:n,options:r?{params:r}:null}}visitTransition(t,e){e.queryCount=0,e.depCount=0;const n=po(this,la(t.animation),e);return{type:1,matchers:HM(t.expr,e.errors),animation:n,queryCount:e.queryCount,depCount:e.depCount,options:Gc(t.options)}}visitSequence(t,e){return{type:2,steps:t.steps.map(n=>po(this,n,e)),options:Gc(t.options)}}visitGroup(t,e){const n=e.currentTime;let r=0;const o=t.steps.map(d=>{e.currentTime=n;const h=po(this,d,e);return r=Math.max(r,e.currentTime),h});return e.currentTime=r,{type:3,steps:o,options:Gc(t.options)}}visitAnimate(t,e){const n=function wx(i,t){if(i.hasOwnProperty("duration"))return i;if("number"==typeof i)return Xf(Uo(i,t).duration,0,"");const e=i;if(e.split(/\s+/).some(o=>"{"==o.charAt(0)&&"{"==o.charAt(1))){const o=Xf(0,0,"");return o.dynamic=!0,o.strValue=e,o}const r=Uo(e,t);return Xf(r.duration,r.delay,r.easing)}(t.timings,e.errors);e.currentAnimateTimings=n;let r,o=t.styles?t.styles:_t({});if(5==o.type)r=this.visitKeyframes(o,e);else{let d=t.styles,h=!1;if(!d){h=!0;const b={};n.easing&&(b.easing=n.easing),d=_t(b)}e.currentTime+=n.duration+n.delay;const g=this.visitStyle(d,e);g.isEmptyStep=h,r=g}return e.currentAnimateTimings=null,{type:4,timings:n,style:r,options:null}}visitStyle(t,e){const n=this._makeStyleAst(t,e);return this._validateStyleAst(n,e),n}_makeStyleAst(t,e){const n=[],r=Array.isArray(t.styles)?t.styles:[t.styles];for(let h of r)"string"==typeof h?h===Ns?n.push(h):e.errors.push(new s.vHH(3002,!1)):n.push(zc(h));let o=!1,d=null;return n.forEach(h=>{if(h instanceof Map&&(h.has("easing")&&(d=h.get("easing"),h.delete("easing")),!o))for(let g of h.values())if(g.toString().indexOf("{{")>=0){o=!0;break}}),{type:6,styles:n,easing:d,offset:t.offset,containsDynamicStyles:o,options:null}}_validateStyleAst(t,e){const n=e.currentAnimateTimings;let r=e.currentTime,o=e.currentTime;n&&o>0&&(o-=n.duration+n.delay),t.styles.forEach(d=>{"string"!=typeof d&&d.forEach((h,g)=>{const b=e.collectedStyles.get(e.currentQuerySelector),x=b.get(g);let k=!0;x&&(o!=r&&o>=x.startTime&&r<=x.endTime&&(e.errors.push(function MM(i,t,e,n,r){return new s.vHH(3010,!1)}()),k=!1),o=x.startTime),k&&b.set(g,{startTime:o,endTime:r}),e.options&&function pu(i,t,e){const n=t.params||{},r=Ql(i);r.length&&r.forEach(o=>{n.hasOwnProperty(o)||e.push(function wM(i){return new s.vHH(3001,!1)}())})}(h,e.options,e.errors)})})}visitKeyframes(t,e){const n={type:5,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push(function IM(){return new s.vHH(3011,!1)}()),n;let o=0;const d=[];let h=!1,g=!1,b=0;const x=t.steps.map(je=>{const Ct=this._makeStyleAst(je,e);let wt=null!=Ct.offset?Ct.offset:function UM(i){if("string"==typeof i)return null;let t=null;if(Array.isArray(i))i.forEach(e=>{if(e instanceof Map&&e.has("offset")){const n=e;t=parseFloat(n.get("offset")),n.delete("offset")}});else if(i instanceof Map&&i.has("offset")){const e=i;t=parseFloat(e.get("offset")),e.delete("offset")}return t}(Ct.styles),Rt=0;return null!=wt&&(o++,Rt=Ct.offset=wt),g=g||Rt<0||Rt>1,h=h||Rt<b,b=Rt,d.push(Rt),Ct});g&&e.errors.push(function qw(){return new s.vHH(3012,!1)}()),h&&e.errors.push(function SM(){return new s.vHH(3200,!1)}());const k=t.steps.length;let T=0;o>0&&o<k?e.errors.push(function TM(){return new s.vHH(3202,!1)}()):0==o&&(T=1/(k-1));const F=k-1,H=e.currentTime,X=e.currentAnimateTimings,ne=X.duration;return x.forEach((je,Ct)=>{const wt=T>0?Ct==F?1:T*Ct:d[Ct],Rt=wt*ne;e.currentTime=H+X.delay+Rt,X.duration=Rt,this._validateStyleAst(je,e),je.offset=wt,n.styles.push(je)}),n}visitReference(t,e){return{type:8,animation:po(this,la(t.animation),e),options:Gc(t.options)}}visitAnimateChild(t,e){return e.depCount++,{type:9,options:Gc(t.options)}}visitAnimateRef(t,e){return{type:10,animation:this.visitReference(t.animation,e),options:Gc(t.options)}}visitQuery(t,e){const n=e.currentQuerySelector,r=t.options||{};e.queryCount++,e.currentQuery=t;const[o,d]=function bx(i){const t=!!i.split(/\s*,\s*/).find(e=>":self"==e);return t&&(i=i.replace(ib,"")),i=i.replace(/@\*/g,Wl).replace(/@\w+/g,e=>Wl+"-"+e.slice(1)).replace(/:animating/g,Jv),[i,t]}(t.selector);e.currentQuerySelector=n.length?n+" "+o:o,Ho(e.collectedStyles,e.currentQuerySelector,new Map);const h=po(this,la(t.animation),e);return e.currentQuery=null,e.currentQuerySelector=n,{type:11,selector:o,limit:r.limit||0,optional:!!r.optional,includeSelf:d,animation:h,originalSelector:t.selector,options:Gc(t.options)}}visitStagger(t,e){e.currentQuery||e.errors.push(function AM(){return new s.vHH(3013,!1)}());const n="full"===t.timings?{duration:0,delay:0,easing:"full"}:Uo(t.timings,e.errors,!0);return{type:12,animation:po(this,la(t.animation),e),timings:n,options:null}}}class yx{constructor(t){this.errors=t,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function Gc(i){return i?(i=Wn(i)).params&&(i.params=function nb(i){return i?Wn(i):null}(i.params)):i={},i}function Xf(i,t,e){return{duration:i,delay:t,easing:e}}function Jf(i,t,e,n,r,o,d=null,h=!1){return{type:1,element:i,keyframes:t,preStyleProps:e,postStyleProps:n,duration:r,delay:o,totalTime:r+o,easing:d,subTimeline:h}}class eg{constructor(){this._map=new Map}get(t){return this._map.get(t)||[]}append(t,e){let n=this._map.get(t);n||this._map.set(t,n=[]),n.push(...e)}has(t){return this._map.has(t)}clear(){this._map.clear()}}const Dx=new RegExp(":enter","g"),Ex=new RegExp(":leave","g");function tg(i,t,e,n,r,o=new Map,d=new Map,h,g,b=[]){return(new kx).buildKeyframes(i,t,e,n,r,o,d,h,g,b)}class kx{buildKeyframes(t,e,n,r,o,d,h,g,b,x=[]){b=b||new eg;const k=new ig(t,e,b,r,o,x,[]);k.options=g;const T=g.delay?Ls(g.delay):0;k.currentTimeline.delayNextStep(T),k.currentTimeline.setStyles([d],null,k.errors,g),po(this,n,k);const F=k.timelines.filter(H=>H.containsAnimation());if(F.length&&h.size){let H;for(let X=F.length-1;X>=0;X--){const ne=F[X];if(ne.element===e){H=ne;break}}H&&!H.allowOnlyTimelineStyles()&&H.setStyles([h],null,k.errors,g)}return F.length?F.map(H=>H.buildKeyframes()):[Jf(e,[],[],[],0,T,"",!1)]}visitTrigger(t,e){}visitState(t,e){}visitTransition(t,e){}visitAnimateChild(t,e){const n=e.subInstructions.get(e.element);if(n){const r=e.createSubContext(t.options),o=e.currentTimeline.currentTime,d=this._visitSubInstructions(n,r,r.options);o!=d&&e.transformIntoNewTimeline(d)}e.previousNode=t}visitAnimateRef(t,e){const n=e.createSubContext(t.options);n.transformIntoNewTimeline(),this._applyAnimationRefDelays([t.options,t.animation.options],e,n),this.visitReference(t.animation,n),e.transformIntoNewTimeline(n.currentTimeline.currentTime),e.previousNode=t}_applyAnimationRefDelays(t,e,n){for(const r of t){const o=r?.delay;if(o){const d="number"==typeof o?o:Ls(da(o,r?.params??{},e.errors));n.delayNextStep(d)}}}_visitSubInstructions(t,e,n){let o=e.currentTimeline.currentTime;const d=null!=n.duration?Ls(n.duration):null,h=null!=n.delay?Ls(n.delay):null;return 0!==d&&t.forEach(g=>{const b=e.appendInstructionToTimeline(g,d,h);o=Math.max(o,b.duration+b.delay)}),o}visitReference(t,e){e.updateOptions(t.options,!0),po(this,t.animation,e),e.previousNode=t}visitSequence(t,e){const n=e.subContextCount;let r=e;const o=t.options;if(o&&(o.params||o.delay)&&(r=e.createSubContext(o),r.transformIntoNewTimeline(),null!=o.delay)){6==r.previousNode.type&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=vm);const d=Ls(o.delay);r.delayNextStep(d)}t.steps.length&&(t.steps.forEach(d=>po(this,d,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>n&&r.transformIntoNewTimeline()),e.previousNode=t}visitGroup(t,e){const n=[];let r=e.currentTimeline.currentTime;const o=t.options&&t.options.delay?Ls(t.options.delay):0;t.steps.forEach(d=>{const h=e.createSubContext(t.options);o&&h.delayNextStep(o),po(this,d,h),r=Math.max(r,h.currentTimeline.currentTime),n.push(h.currentTimeline)}),n.forEach(d=>e.currentTimeline.mergeTimelineCollectedStyles(d)),e.transformIntoNewTimeline(r),e.previousNode=t}_visitTiming(t,e){if(t.dynamic){const n=t.strValue;return Uo(e.params?da(n,e.params,e.errors):n,e.errors)}return{duration:t.duration,delay:t.delay,easing:t.easing}}visitAnimate(t,e){const n=e.currentAnimateTimings=this._visitTiming(t.timings,e),r=e.currentTimeline;n.delay&&(e.incrementTime(n.delay),r.snapshotCurrentStyles());const o=t.style;5==o.type?this.visitKeyframes(o,e):(e.incrementTime(n.duration),this.visitStyle(o,e),r.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=t}visitStyle(t,e){const n=e.currentTimeline,r=e.currentAnimateTimings;!r&&n.hasCurrentStyleProperties()&&n.forwardFrame();const o=r&&r.easing||t.easing;t.isEmptyStep?n.applyEmptyStep(o):n.setStyles(t.styles,o,e.errors,e.options),e.previousNode=t}visitKeyframes(t,e){const n=e.currentAnimateTimings,r=e.currentTimeline.duration,o=n.duration,h=e.createSubContext().currentTimeline;h.easing=n.easing,t.styles.forEach(g=>{h.forwardTime((g.offset||0)*o),h.setStyles(g.styles,g.easing,e.errors,e.options),h.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(h),e.transformIntoNewTimeline(r+o),e.previousNode=t}visitQuery(t,e){const n=e.currentTimeline.currentTime,r=t.options||{},o=r.delay?Ls(r.delay):0;o&&(6===e.previousNode.type||0==n&&e.currentTimeline.hasCurrentStyleProperties())&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=vm);let d=n;const h=e.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!r.optional,e.errors);e.currentQueryTotal=h.length;let g=null;h.forEach((b,x)=>{e.currentQueryIndex=x;const k=e.createSubContext(t.options,b);o&&k.delayNextStep(o),b===e.element&&(g=k.currentTimeline),po(this,t.animation,k),k.currentTimeline.applyStylesToKeyframe(),d=Math.max(d,k.currentTimeline.currentTime)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(d),g&&(e.currentTimeline.mergeTimelineCollectedStyles(g),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=t}visitStagger(t,e){const n=e.parentContext,r=e.currentTimeline,o=t.timings,d=Math.abs(o.duration),h=d*(e.currentQueryTotal-1);let g=d*e.currentQueryIndex;switch(o.duration<0?"reverse":o.easing){case"reverse":g=h-g;break;case"full":g=n.currentStaggerTime}const x=e.currentTimeline;g&&x.delayNextStep(g);const k=x.currentTime;po(this,t.animation,e),e.previousNode=t,n.currentStaggerTime=r.currentTime-k+(r.startTime-n.currentTimeline.startTime)}}const vm={};class ig{constructor(t,e,n,r,o,d,h,g){this._driver=t,this.element=e,this.subInstructions=n,this._enterClassName=r,this._leaveClassName=o,this.errors=d,this.timelines=h,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=vm,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=g||new bm(this._driver,e,0),h.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(t,e){if(!t)return;const n=t;let r=this.options;null!=n.duration&&(r.duration=Ls(n.duration)),null!=n.delay&&(r.delay=Ls(n.delay));const o=n.params;if(o){let d=r.params;d||(d=this.options.params={}),Object.keys(o).forEach(h=>{(!e||!d.hasOwnProperty(h))&&(d[h]=da(o[h],d,this.errors))})}}_copyOptions(){const t={};if(this.options){const e=this.options.params;if(e){const n=t.params={};Object.keys(e).forEach(r=>{n[r]=e[r]})}}return t}createSubContext(t=null,e,n){const r=e||this.element,o=new ig(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,n||0));return o.previousNode=this.previousNode,o.currentAnimateTimings=this.currentAnimateTimings,o.options=this._copyOptions(),o.updateOptions(t),o.currentQueryIndex=this.currentQueryIndex,o.currentQueryTotal=this.currentQueryTotal,o.parentContext=this,this.subContextCount++,o}transformIntoNewTimeline(t){return this.previousNode=vm,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(t,e,n){const r={duration:e??t.duration,delay:this.currentTimeline.currentTime+(n??0)+t.delay,easing:""},o=new Mx(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,r,t.stretchStartingKeyframe);return this.timelines.push(o),r}incrementTime(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}delayNextStep(t){t>0&&this.currentTimeline.delayNextStep(t)}invokeQuery(t,e,n,r,o,d){let h=[];if(r&&h.push(this.element),t.length>0){t=(t=t.replace(Dx,"."+this._enterClassName)).replace(Ex,"."+this._leaveClassName);let b=this._driver.query(this.element,t,1!=n);0!==n&&(b=n<0?b.slice(b.length+n,b.length):b.slice(0,n)),h.push(...b)}return!o&&0==h.length&&d.push(function zv(i){return new s.vHH(3014,!1)}()),h}}class bm{constructor(t,e,n,r){this._driver=t,this.element=e,this.startTime=n,this._elementTimelineStylesLookup=r,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(t){const e=1===this._keyframes.size&&this._pendingStyles.size;this.duration||e?(this.forwardTime(this.currentTime+t),e&&this.snapshotCurrentStyles()):this.startTime+=t}fork(t,e){return this.applyStylesToKeyframe(),new bm(this._driver,t,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}_updateStyle(t,e){this._localTimelineStyles.set(t,e),this._globalTimelineStyles.set(t,e),this._styleSummary.set(t,{time:this.currentTime,value:e})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(t){t&&this._previousKeyframe.set("easing",t);for(let[e,n]of this._globalTimelineStyles)this._backFill.set(e,n||Ns),this._currentKeyframe.set(e,Ns);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(t,e,n,r){e&&this._previousKeyframe.set("easing",e);const o=r&&r.params||{},d=function ng(i,t){const e=new Map;let n;return i.forEach(r=>{if("*"===r){n=n||t.keys();for(let o of n)e.set(o,Ns)}else ca(r,e)}),e}(t,this._globalTimelineStyles);for(let[h,g]of d){const b=da(g,o,n);this._pendingStyles.set(h,b),this._localTimelineStyles.has(h)||this._backFill.set(h,this._globalTimelineStyles.get(h)??Ns),this._updateStyle(h,b)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((t,e)=>{this._currentKeyframe.set(e,t)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((t,e)=>{this._currentKeyframe.has(e)||this._currentKeyframe.set(e,t)}))}snapshotCurrentStyles(){for(let[t,e]of this._localTimelineStyles)this._pendingStyles.set(t,e),this._updateStyle(t,e)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const t=[];for(let e in this._currentKeyframe)t.push(e);return t}mergeTimelineCollectedStyles(t){t._styleSummary.forEach((e,n)=>{const r=this._styleSummary.get(n);(!r||e.time>r.time)&&this._updateStyle(n,e.value)})}buildKeyframes(){this.applyStylesToKeyframe();const t=new Set,e=new Set,n=1===this._keyframes.size&&0===this.duration;let r=[];this._keyframes.forEach((h,g)=>{const b=ca(h,new Map,this._backFill);b.forEach((x,k)=>{x===Hv?t.add(k):x===Ns&&e.add(k)}),n||b.set("offset",g/this.duration),r.push(b)});const o=t.size?pm(t.values()):[],d=e.size?pm(e.values()):[];if(n){const h=r[0],g=new Map(h);h.set("offset",0),g.set("offset",1),r=[h,g]}return Jf(this.element,r,o,d,this.duration,this.startTime,this.easing,!1)}}class Mx extends bm{constructor(t,e,n,r,o,d,h=!1){super(t,e,d.delay),this.keyframes=n,this.preStyleProps=r,this.postStyleProps=o,this._stretchStartingKeyframe=h,this.timings={duration:d.duration,delay:d.delay,easing:d.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let t=this.keyframes,{delay:e,duration:n,easing:r}=this.timings;if(this._stretchStartingKeyframe&&e){const o=[],d=n+e,h=e/d,g=ca(t[0]);g.set("offset",0),o.push(g);const b=ca(t[0]);b.set("offset",ob(h)),o.push(b);const x=t.length-1;for(let k=1;k<=x;k++){let T=ca(t[k]);const F=T.get("offset");T.set("offset",ob((e+F*n)/d)),o.push(T)}n=d,e=0,r="",t=o}return Jf(this.element,t,this.preStyleProps,this.postStyleProps,n,e,r,!0)}}function ob(i,t=3){const e=Math.pow(10,t-1);return Math.round(i*e)/e}class sb{}const ab=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class Jl extends sb{normalizePropertyName(t,e){return $f(t)}normalizeStyleValue(t,e,n,r){let o="";const d=n.toString().trim();if(ab.has(e)&&0!==n&&"0"!==n)if("number"==typeof n)o="px";else{const h=n.match(/^[+-]?[\d\.]+([a-z]*)$/);h&&0==h[1].length&&r.push(function CM(i,t){return new s.vHH(3005,!1)}())}return d+o}}function rg(i,t,e,n,r,o,d,h,g,b,x,k,T){return{type:0,element:i,triggerName:t,isRemovalTransition:r,fromState:e,fromStyles:o,toState:n,toStyles:d,timelines:h,queriedElements:g,preStyleProps:b,postStyleProps:x,totalTime:k,errors:T}}const cb={};class og{constructor(t,e,n){this._triggerName=t,this.ast=e,this._stateStyles=n}match(t,e,n,r){return function $O(i,t,e,n,r){return i.some(o=>o(t,e,n,r))}(this.ast.matchers,t,e,n,r)}buildStyles(t,e,n){let r=this._stateStyles.get("*");return void 0!==t&&(r=this._stateStyles.get(t?.toString())||r),r?r.buildStyles(e,n):new Map}build(t,e,n,r,o,d,h,g,b,x){const k=[],T=this.ast.options&&this.ast.options.params||cb,H=this.buildStyles(n,h&&h.params||cb,k),X=g&&g.params||cb,ne=this.buildStyles(r,X,k),je=new Set,Ct=new Map,wt=new Map,Rt="void"===r,oi={params:zM(X,T),delay:this.ast.options?.delay},hi=x?[]:tg(t,e,this.ast.animation,o,d,H,ne,oi,b,k);let $i=0;if(hi.forEach(pd=>{$i=Math.max(pd.duration+pd.delay,$i)}),k.length)return rg(e,this._triggerName,n,r,Rt,H,ne,[],[],Ct,wt,$i,k);hi.forEach(pd=>{const fd=pd.element,Kz=Ho(Ct,fd,new Set);pd.preStyleProps.forEach(Sp=>Kz.add(Sp));const Z0=Ho(wt,fd,new Set);pd.postStyleProps.forEach(Sp=>Z0.add(Sp)),fd!==e&&je.add(fd)});const Gr=pm(je.values());return rg(e,this._triggerName,n,r,Rt,H,ne,hi,Gr,Ct,wt,$i)}}function zM(i,t){const e=Wn(t);for(const n in i)i.hasOwnProperty(n)&&null!=i[n]&&(e[n]=i[n]);return e}class jM{constructor(t,e,n){this.styles=t,this.defaultParams=e,this.normalizer=n}buildStyles(t,e){const n=new Map,r=Wn(this.defaultParams);return Object.keys(t).forEach(o=>{const d=t[o];null!==d&&(r[o]=d)}),this.styles.styles.forEach(o=>{"string"!=typeof o&&o.forEach((d,h)=>{d&&(d=da(d,r,e));const g=this.normalizer.normalizePropertyName(h,e);d=this.normalizer.normalizeStyleValue(h,g,d,e),n.set(h,d)})}),n}}class GM{constructor(t,e,n){this.name=t,this.ast=e,this._normalizer=n,this.transitionFactories=[],this.states=new Map,e.states.forEach(r=>{this.states.set(r.name,new jM(r.style,r.options&&r.options.params||{},n))}),lb(this.states,"true","1"),lb(this.states,"false","0"),e.transitions.forEach(r=>{this.transitionFactories.push(new og(t,r,this.states))}),this.fallbackTransition=function ur(i,t,e){return new og(i,{type:1,animation:{type:2,steps:[],options:null},matchers:[(d,h)=>!0],options:null,queryCount:0,depCount:0},t)}(t,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(t,e,n,r){return this.transitionFactories.find(d=>d.match(t,e,n,r))||null}matchStyles(t,e,n){return this.fallbackTransition.buildStyles(t,e,n)}}function lb(i,t,e){i.has(t)?i.has(e)||i.set(e,i.get(t)):i.has(e)&&i.set(t,i.get(e))}const $M=new eg;class YM{constructor(t,e,n){this.bodyNode=t,this._driver=e,this._normalizer=n,this._animations=new Map,this._playersById=new Map,this.players=[]}register(t,e){const n=[],r=[],o=Kf(this._driver,e,n,r);if(n.length)throw function jv(i){return new s.vHH(3503,!1)}();this._animations.set(t,o)}_buildPlayer(t,e,n){const r=t.element,o=Jw(0,this._normalizer,0,t.keyframes,e,n);return this._driver.animate(r,o,t.duration,t.delay,t.easing,[],!0)}create(t,e,n={}){const r=[],o=this._animations.get(t);let d;const h=new Map;if(o?(d=tg(this._driver,e,o,dx,hm,new Map,new Map,n,$M,r),d.forEach(x=>{const k=Ho(h,x.element,new Map);x.postStyleProps.forEach(T=>k.set(T,null))})):(r.push(function HO(){return new s.vHH(3300,!1)}()),d=[]),r.length)throw function Ww(i){return new s.vHH(3504,!1)}();h.forEach((x,k)=>{x.forEach((T,F)=>{x.set(F,this._driver.computeStyle(k,F,Ns))})});const b=Uc(d.map(x=>{const k=h.get(x.element);return this._buildPlayer(x,new Map,k)}));return this._playersById.set(t,b),b.onDestroy(()=>this.destroy(t)),this.players.push(b),b}destroy(t){const e=this._getPlayer(t);e.destroy(),this._playersById.delete(t);const n=this.players.indexOf(e);n>=0&&this.players.splice(n,1)}_getPlayer(t){const e=this._playersById.get(t);if(!e)throw function Zw(i){return new s.vHH(3301,!1)}();return e}listen(t,e,n,r){const o=ex(e,"","","");return ql(this._getPlayer(t),n,o,r),()=>{}}command(t,e,n,r){if("register"==n)return void this.register(t,r[0]);if("create"==n)return void this.create(t,e,r[0]||{});const o=this._getPlayer(t);switch(n){case"play":o.play();break;case"pause":o.pause();break;case"reset":o.reset();break;case"restart":o.restart();break;case"finish":o.finish();break;case"init":o.init();break;case"setPosition":o.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(t)}}}const db="ng-animate-queued",sg="ng-animate-disabled",ZM=[],ub={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},KM={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},jo="__ng_removed";class Tx{get params(){return this.options.params}constructor(t,e=""){this.namespaceId=e;const n=t&&t.hasOwnProperty("value");if(this.value=function Bs(i){return i??null}(n?t.value:t),n){const o=Wn(t);delete o.value,this.options=o}else this.options={};this.options.params||(this.options.params={})}absorbOptions(t){const e=t.params;if(e){const n=this.options.params;Object.keys(e).forEach(r=>{null==n[r]&&(n[r]=e[r])})}}}const ed="void",ym=new Tx(ed);class ua{constructor(t,e,n){this.id=t,this.hostElement=e,this._engine=n,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+t,cs(e,this._hostClassName)}listen(t,e,n,r){if(!this._triggers.has(e))throw function Kw(i,t){return new s.vHH(3302,!1)}();if(null==n||0==n.length)throw function Qw(i){return new s.vHH(3303,!1)}();if(!function Ax(i){return"start"==i||"done"==i}(n))throw function Gv(i,t){return new s.vHH(3400,!1)}();const o=Ho(this._elementListeners,t,[]),d={name:e,phase:n,callback:r};o.push(d);const h=Ho(this._engine.statesByElement,t,new Map);return h.has(e)||(cs(t,Xv),cs(t,Xv+"-"+e),h.set(e,ym)),()=>{this._engine.afterFlush(()=>{const g=o.indexOf(d);g>=0&&o.splice(g,1),this._triggers.has(e)||h.delete(e)})}}register(t,e){return!this._triggers.has(t)&&(this._triggers.set(t,e),!0)}_getTrigger(t){const e=this._triggers.get(t);if(!e)throw function Ka(i){return new s.vHH(3401,!1)}();return e}trigger(t,e,n,r=!0){const o=this._getTrigger(e),d=new hb(this.id,e,t);let h=this._engine.statesByElement.get(t);h||(cs(t,Xv),cs(t,Xv+"-"+e),this._engine.statesByElement.set(t,h=new Map));let g=h.get(e);const b=new Tx(n,this.id);if(!(n&&n.hasOwnProperty("value"))&&g&&b.absorbOptions(g.options),h.set(e,b),g||(g=ym),b.value!==ed&&g.value===b.value){if(!function Fx(i,t){const e=Object.keys(i),n=Object.keys(t);if(e.length!=n.length)return!1;for(let r=0;r<e.length;r++){const o=e[r];if(!t.hasOwnProperty(o)||i[o]!==t[o])return!1}return!0}(g.params,b.params)){const X=[],ne=o.matchStyles(g.value,g.params,X),je=o.matchStyles(b.value,b.params,X);X.length?this._engine.reportError(X):this._engine.afterFlush(()=>{as(t,ne),Xr(t,je)})}return}const T=Ho(this._engine.playersByElement,t,[]);T.forEach(X=>{X.namespaceId==this.id&&X.triggerName==e&&X.queued&&X.destroy()});let F=o.matchTransition(g.value,b.value,t,b.params),H=!1;if(!F){if(!r)return;F=o.fallbackTransition,H=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:e,transition:F,fromState:g,toState:b,player:d,isFallbackTransition:H}),H||(cs(t,db),d.onStart(()=>{vu(t,db)})),d.onDone(()=>{let X=this.players.indexOf(d);X>=0&&this.players.splice(X,1);const ne=this._engine.playersByElement.get(t);if(ne){let je=ne.indexOf(d);je>=0&&ne.splice(je,1)}}),this.players.push(d),T.push(d),d}deregister(t){this._triggers.delete(t),this._engine.statesByElement.forEach(e=>e.delete(t)),this._elementListeners.forEach((e,n)=>{this._elementListeners.set(n,e.filter(r=>r.name!=t))})}clearElementCache(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);const e=this._engine.playersByElement.get(t);e&&(e.forEach(n=>n.destroy()),this._engine.playersByElement.delete(t))}_signalRemovalForInnerTriggers(t,e){const n=this._engine.driver.query(t,Wl,!0);n.forEach(r=>{if(r[jo])return;const o=this._engine.fetchNamespacesByElement(r);o.size?o.forEach(d=>d.triggerLeaveAnimation(r,e,!1,!0)):this.clearElementCache(r)}),this._engine.afterFlushAnimationsDone(()=>n.forEach(r=>this.clearElementCache(r)))}triggerLeaveAnimation(t,e,n,r){const o=this._engine.statesByElement.get(t),d=new Map;if(o){const h=[];if(o.forEach((g,b)=>{if(d.set(b,g.value),this._triggers.has(b)){const x=this.trigger(t,b,ed,r);x&&h.push(x)}}),h.length)return this._engine.markElementAsRemoved(this.id,t,!0,e,d),n&&Uc(h).onDone(()=>this._engine.processLeaveNode(t)),!0}return!1}prepareLeaveAnimationListeners(t){const e=this._elementListeners.get(t),n=this._engine.statesByElement.get(t);if(e&&n){const r=new Set;e.forEach(o=>{const d=o.name;if(r.has(d))return;r.add(d);const g=this._triggers.get(d).fallbackTransition,b=n.get(d)||ym,x=new Tx(ed),k=new hb(this.id,d,t);this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:d,transition:g,fromState:b,toState:x,player:k,isFallbackTransition:!0})})}}removeNode(t,e){const n=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,e),this.triggerLeaveAnimation(t,e,!0))return;let r=!1;if(n.totalAnimations){const o=n.players.length?n.playersByQueriedElement.get(t):[];if(o&&o.length)r=!0;else{let d=t;for(;d=d.parentNode;)if(n.statesByElement.get(d)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(t),r)n.markElementAsRemoved(this.id,t,!1,e);else{const o=t[jo];(!o||o===ub)&&(n.afterFlush(()=>this.clearElementCache(t)),n.destroyInnerAnimations(t),n._onRemovalComplete(t,e))}}insertNode(t,e){cs(t,this._hostClassName)}drainQueuedTransitions(t){const e=[];return this._queue.forEach(n=>{const r=n.player;if(r.destroyed)return;const o=n.element,d=this._elementListeners.get(o);d&&d.forEach(h=>{if(h.name==n.triggerName){const g=ex(o,n.triggerName,n.fromState.value,n.toState.value);g._data=t,ql(n.player,h.phase,g,h.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):e.push(n)}),this._queue=[],e.sort((n,r)=>{const o=n.transition.ast.depCount,d=r.transition.ast.depCount;return 0==o||0==d?o-d:this._engine.driver.containsElement(n.element,r.element)?1:-1})}destroy(t){this.players.forEach(e=>e.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,t)}elementContainsData(t){let e=!1;return this._elementListeners.has(t)&&(e=!0),e=!!this._queue.find(n=>n.element===t)||e,e}}class QM{_onRemovalComplete(t,e){this.onRemovalComplete(t,e)}constructor(t,e,n){this.bodyNode=t,this.driver=e,this._normalizer=n,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(r,o)=>{}}get queuedPlayers(){const t=[];return this._namespaceList.forEach(e=>{e.players.forEach(n=>{n.queued&&t.push(n)})}),t}createNamespace(t,e){const n=new ua(t,e,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,e)?this._balanceNamespaceList(n,e):(this.newHostElements.set(e,n),this.collectEnterElement(e)),this._namespaceLookup[t]=n}_balanceNamespaceList(t,e){const n=this._namespaceList,r=this.namespacesByHostElement;if(n.length-1>=0){let d=!1,h=this.driver.getParentElement(e);for(;h;){const g=r.get(h);if(g){const b=n.indexOf(g);n.splice(b+1,0,t),d=!0;break}h=this.driver.getParentElement(h)}d||n.unshift(t)}else n.push(t);return r.set(e,t),t}register(t,e){let n=this._namespaceLookup[t];return n||(n=this.createNamespace(t,e)),n}registerTrigger(t,e,n){let r=this._namespaceLookup[t];r&&r.register(e,n)&&this.totalAnimations++}destroy(t,e){if(!t)return;const n=this._fetchNamespace(t);this.afterFlush(()=>{this.namespacesByHostElement.delete(n.hostElement),delete this._namespaceLookup[t];const r=this._namespaceList.indexOf(n);r>=0&&this._namespaceList.splice(r,1)}),this.afterFlushAnimationsDone(()=>n.destroy(e))}_fetchNamespace(t){return this._namespaceLookup[t]}fetchNamespacesByElement(t){const e=new Set,n=this.statesByElement.get(t);if(n)for(let r of n.values())if(r.namespaceId){const o=this._fetchNamespace(r.namespaceId);o&&e.add(o)}return e}trigger(t,e,n,r){if(fo(e)){const o=this._fetchNamespace(t);if(o)return o.trigger(e,n,r),!0}return!1}insertNode(t,e,n,r){if(!fo(e))return;const o=e[jo];if(o&&o.setForRemoval){o.setForRemoval=!1,o.setForMove=!0;const d=this.collectedLeaveElements.indexOf(e);d>=0&&this.collectedLeaveElements.splice(d,1)}if(t){const d=this._fetchNamespace(t);d&&d.insertNode(e,n)}r&&this.collectEnterElement(e)}collectEnterElement(t){this.collectedEnterElements.push(t)}markElementAsDisabled(t,e){e?this.disabledNodes.has(t)||(this.disabledNodes.add(t),cs(t,sg)):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),vu(t,sg))}removeNode(t,e,n,r){if(fo(e)){const o=t?this._fetchNamespace(t):null;if(o?o.removeNode(e,r):this.markElementAsRemoved(t,e,!1,r),n){const d=this.namespacesByHostElement.get(e);d&&d.id!==t&&d.removeNode(e,r)}}else this._onRemovalComplete(e,r)}markElementAsRemoved(t,e,n,r,o){this.collectedLeaveElements.push(e),e[jo]={namespaceId:t,setForRemoval:r,hasAnimation:n,removedBeforeQueried:!1,previousTriggersValues:o}}listen(t,e,n,r,o){return fo(e)?this._fetchNamespace(t).listen(e,n,r,o):()=>{}}_buildInstruction(t,e,n,r,o){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,n,r,t.fromState.options,t.toState.options,e,o)}destroyInnerAnimations(t){let e=this.driver.query(t,Wl,!0);e.forEach(n=>this.destroyActiveAnimationsForElement(n)),0!=this.playersByQueriedElement.size&&(e=this.driver.query(t,Jv,!0),e.forEach(n=>this.finishActiveQueriedAnimationOnElement(n)))}destroyActiveAnimationsForElement(t){const e=this.playersByElement.get(t);e&&e.forEach(n=>{n.queued?n.markedForDestroy=!0:n.destroy()})}finishActiveQueriedAnimationOnElement(t){const e=this.playersByQueriedElement.get(t);e&&e.forEach(n=>n.finish())}whenRenderingDone(){return new Promise(t=>{if(this.players.length)return Uc(this.players).onDone(()=>t());t()})}processLeaveNode(t){const e=t[jo];if(e&&e.setForRemoval){if(t[jo]=ub,e.namespaceId){this.destroyInnerAnimations(t);const n=this._fetchNamespace(e.namespaceId);n&&n.clearElementCache(t)}this._onRemovalComplete(t,e.setForRemoval)}t.classList?.contains(sg)&&this.markElementAsDisabled(t,!1),this.driver.query(t,".ng-animate-disabled",!0).forEach(n=>{this.markElementAsDisabled(n,!1)})}flush(t=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((n,r)=>this._balanceNamespaceList(n,r)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let n=0;n<this.collectedEnterElements.length;n++)cs(this.collectedEnterElements[n],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const n=[];try{e=this._flushAnimations(n,t)}finally{for(let r=0;r<n.length;r++)n[r]()}}else for(let n=0;n<this.collectedLeaveElements.length;n++)this.processLeaveNode(this.collectedLeaveElements[n]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(n=>n()),this._flushFns=[],this._whenQuietFns.length){const n=this._whenQuietFns;this._whenQuietFns=[],e.length?Uc(e).onDone(()=>{n.forEach(r=>r())}):n.forEach(r=>r())}}reportError(t){throw function zf(i){return new s.vHH(3402,!1)}()}_flushAnimations(t,e){const n=new eg,r=[],o=new Map,d=[],h=new Map,g=new Map,b=new Map,x=new Set;this.disabledNodes.forEach(Ot=>{x.add(Ot);const qt=this.driver.query(Ot,".ng-animate-queued",!0);for(let Jt=0;Jt<qt.length;Jt++)x.add(qt[Jt])});const k=this.bodyNode,T=Array.from(this.statesByElement.keys()),F=Ox(T,this.collectedEnterElements),H=new Map;let X=0;F.forEach((Ot,qt)=>{const Jt=dx+X++;H.set(qt,Jt),Ot.forEach(Bi=>cs(Bi,Jt))});const ne=[],je=new Set,Ct=new Set;for(let Ot=0;Ot<this.collectedLeaveElements.length;Ot++){const qt=this.collectedLeaveElements[Ot],Jt=qt[jo];Jt&&Jt.setForRemoval&&(ne.push(qt),je.add(qt),Jt.hasAnimation?this.driver.query(qt,".ng-star-inserted",!0).forEach(Bi=>je.add(Bi)):Ct.add(qt))}const wt=new Map,Rt=Ox(T,Array.from(je));Rt.forEach((Ot,qt)=>{const Jt=hm+X++;wt.set(qt,Jt),Ot.forEach(Bi=>cs(Bi,Jt))}),t.push(()=>{F.forEach((Ot,qt)=>{const Jt=H.get(qt);Ot.forEach(Bi=>vu(Bi,Jt))}),Rt.forEach((Ot,qt)=>{const Jt=wt.get(qt);Ot.forEach(Bi=>vu(Bi,Jt))}),ne.forEach(Ot=>{this.processLeaveNode(Ot)})});const oi=[],hi=[];for(let Ot=this._namespaceList.length-1;Ot>=0;Ot--)this._namespaceList[Ot].drainQueuedTransitions(e).forEach(Jt=>{const Bi=Jt.player,$r=Jt.element;if(oi.push(Bi),this.collectedEnterElements.length){const Co=$r[jo];if(Co&&Co.setForMove){if(Co.previousTriggersValues&&Co.previousTriggersValues.has(Jt.triggerName)){const Tp=Co.previousTriggersValues.get(Jt.triggerName),ya=this.statesByElement.get(Jt.element);if(ya&&ya.has(Jt.triggerName)){const Rk=ya.get(Jt.triggerName);Rk.value=Tp,ya.set(Jt.triggerName,Rk)}}return void Bi.destroy()}}const ol=!k||!this.driver.containsElement(k,$r),Gs=wt.get($r),eh=H.get($r),zn=this._buildInstruction(Jt,n,eh,Gs,ol);if(zn.errors&&zn.errors.length)return void hi.push(zn);if(ol)return Bi.onStart(()=>as($r,zn.fromStyles)),Bi.onDestroy(()=>Xr($r,zn.toStyles)),void r.push(Bi);if(Jt.isFallbackTransition)return Bi.onStart(()=>as($r,zn.fromStyles)),Bi.onDestroy(()=>Xr($r,zn.toStyles)),void r.push(Bi);const Jz=[];zn.timelines.forEach(Co=>{Co.stretchStartingKeyframe=!0,this.disabledNodes.has(Co.element)||Jz.push(Co)}),zn.timelines=Jz,n.append($r,zn.timelines),d.push({instruction:zn,player:Bi,element:$r}),zn.queriedElements.forEach(Co=>Ho(h,Co,[]).push(Bi)),zn.preStyleProps.forEach((Co,Tp)=>{if(Co.size){let ya=g.get(Tp);ya||g.set(Tp,ya=new Set),Co.forEach((Rk,xO)=>ya.add(xO))}}),zn.postStyleProps.forEach((Co,Tp)=>{let ya=b.get(Tp);ya||b.set(Tp,ya=new Set),Co.forEach((Rk,xO)=>ya.add(xO))})});if(hi.length){const Ot=[];hi.forEach(qt=>{Ot.push(function um(i,t){return new s.vHH(3505,!1)}())}),oi.forEach(qt=>qt.destroy()),this.reportError(Ot)}const $i=new Map,Gr=new Map;d.forEach(Ot=>{const qt=Ot.element;n.has(qt)&&(Gr.set(qt,qt),this._beforeAnimationBuild(Ot.player.namespaceId,Ot.instruction,$i))}),r.forEach(Ot=>{const qt=Ot.element;this._getPreviousPlayers(qt,!1,Ot.namespaceId,Ot.triggerName,null).forEach(Bi=>{Ho($i,qt,[]).push(Bi),Bi.destroy()})});const pd=ne.filter(Ot=>Nx(Ot,g,b)),fd=new Map;Rx(fd,this.driver,Ct,b,Ns).forEach(Ot=>{Nx(Ot,g,b)&&pd.push(Ot)});const Z0=new Map;F.forEach((Ot,qt)=>{Rx(Z0,this.driver,new Set(Ot),g,Hv)}),pd.forEach(Ot=>{const qt=fd.get(Ot),Jt=Z0.get(Ot);fd.set(Ot,new Map([...Array.from(qt?.entries()??[]),...Array.from(Jt?.entries()??[])]))});const Sp=[],Qz=[],Xz={};d.forEach(Ot=>{const{element:qt,player:Jt,instruction:Bi}=Ot;if(n.has(qt)){if(x.has(qt))return Jt.onDestroy(()=>Xr(qt,Bi.toStyles)),Jt.disabled=!0,Jt.overrideTotalTime(Bi.totalTime),void r.push(Jt);let $r=Xz;if(Gr.size>1){let Gs=qt;const eh=[];for(;Gs=Gs.parentNode;){const zn=Gr.get(Gs);if(zn){$r=zn;break}eh.push(Gs)}eh.forEach(zn=>Gr.set(zn,$r))}const ol=this._buildAnimation(Jt.namespaceId,Bi,$i,o,Z0,fd);if(Jt.setRealPlayer(ol),$r===Xz)Sp.push(Jt);else{const Gs=this.playersByElement.get($r);Gs&&Gs.length&&(Jt.parentPlayer=Uc(Gs)),r.push(Jt)}}else as(qt,Bi.fromStyles),Jt.onDestroy(()=>Xr(qt,Bi.toStyles)),Qz.push(Jt),x.has(qt)&&r.push(Jt)}),Qz.forEach(Ot=>{const qt=o.get(Ot.element);if(qt&&qt.length){const Jt=Uc(qt);Ot.setRealPlayer(Jt)}}),r.forEach(Ot=>{Ot.parentPlayer?Ot.syncPlayerEvents(Ot.parentPlayer):Ot.destroy()});for(let Ot=0;Ot<ne.length;Ot++){const qt=ne[Ot],Jt=qt[jo];if(vu(qt,hm),Jt&&Jt.hasAnimation)continue;let Bi=[];if(h.size){let ol=h.get(qt);ol&&ol.length&&Bi.push(...ol);let Gs=this.driver.query(qt,Jv,!0);for(let eh=0;eh<Gs.length;eh++){let zn=h.get(Gs[eh]);zn&&zn.length&&Bi.push(...zn)}}const $r=Bi.filter(ol=>!ol.destroyed);$r.length?pb(this,qt,$r):this.processLeaveNode(qt)}return ne.length=0,Sp.forEach(Ot=>{this.players.push(Ot),Ot.onDone(()=>{Ot.destroy();const qt=this.players.indexOf(Ot);this.players.splice(qt,1)}),Ot.play()}),Sp}elementContainsData(t,e){let n=!1;const r=e[jo];return r&&r.setForRemoval&&(n=!0),this.playersByElement.has(e)&&(n=!0),this.playersByQueriedElement.has(e)&&(n=!0),this.statesByElement.has(e)&&(n=!0),this._fetchNamespace(t).elementContainsData(e)||n}afterFlush(t){this._flushFns.push(t)}afterFlushAnimationsDone(t){this._whenQuietFns.push(t)}_getPreviousPlayers(t,e,n,r,o){let d=[];if(e){const h=this.playersByQueriedElement.get(t);h&&(d=h)}else{const h=this.playersByElement.get(t);if(h){const g=!o||o==ed;h.forEach(b=>{b.queued||!g&&b.triggerName!=r||d.push(b)})}}return(n||r)&&(d=d.filter(h=>!(n&&n!=h.namespaceId||r&&r!=h.triggerName))),d}_beforeAnimationBuild(t,e,n){const o=e.element,d=e.isRemovalTransition?void 0:t,h=e.isRemovalTransition?void 0:e.triggerName;for(const g of e.timelines){const b=g.element,x=b!==o,k=Ho(n,b,[]);this._getPreviousPlayers(b,x,d,h,e.toState).forEach(F=>{const H=F.getRealPlayer();H.beforeDestroy&&H.beforeDestroy(),F.destroy(),k.push(F)})}as(o,e.fromStyles)}_buildAnimation(t,e,n,r,o,d){const h=e.triggerName,g=e.element,b=[],x=new Set,k=new Set,T=e.timelines.map(H=>{const X=H.element;x.add(X);const ne=X[jo];if(ne&&ne.removedBeforeQueried)return new Yl(H.duration,H.delay);const je=X!==g,Ct=function wm(i){const t=[];return Px(i,t),t}((n.get(X)||ZM).map($i=>$i.getRealPlayer())).filter($i=>!!$i.element&&$i.element===X),wt=o.get(X),Rt=d.get(X),oi=Jw(0,this._normalizer,0,H.keyframes,wt,Rt),hi=this._buildPlayer(H,oi,Ct);if(H.subTimeline&&r&&k.add(X),je){const $i=new hb(t,h,X);$i.setRealPlayer(hi),b.push($i)}return hi});b.forEach(H=>{Ho(this.playersByQueriedElement,H.element,[]).push(H),H.onDone(()=>function ha(i,t,e){let n=i.get(t);if(n){if(n.length){const r=n.indexOf(e);n.splice(r,1)}0==n.length&&i.delete(t)}return n}(this.playersByQueriedElement,H.element,H))}),x.forEach(H=>cs(H,ux));const F=Uc(T);return F.onDestroy(()=>{x.forEach(H=>vu(H,ux)),Xr(g,e.toStyles)}),k.forEach(H=>{Ho(r,H,[]).push(F)}),F}_buildPlayer(t,e,n){return e.length>0?this.driver.animate(t.element,e,t.duration,t.delay,t.easing,n):new Yl(t.duration,t.delay)}}class hb{constructor(t,e,n){this.namespaceId=t,this.triggerName=e,this.element=n,this._player=new Yl,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(t){this._containsRealPlayer||(this._player=t,this._queuedCallbacks.forEach((e,n)=>{e.forEach(r=>ql(t,n,void 0,r))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(t){this.totalTime=t}syncPlayerEvents(t){const e=this._player;e.triggerCallback&&t.onStart(()=>e.triggerCallback("start")),t.onDone(()=>this.finish()),t.onDestroy(()=>this.destroy())}_queueEvent(t,e){Ho(this._queuedCallbacks,t,[]).push(e)}onDone(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}onStart(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}onDestroy(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(t){this.queued||this._player.setPosition(t)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(t){const e=this._player;e.triggerCallback&&e.triggerCallback(t)}}function fo(i){return i&&1===i.nodeType}function mb(i,t){const e=i.style.display;return i.style.display=t??"none",e}function Rx(i,t,e,n,r){const o=[];e.forEach(g=>o.push(mb(g)));const d=[];n.forEach((g,b)=>{const x=new Map;g.forEach(k=>{const T=t.computeStyle(b,k,r);x.set(k,T),(!T||0==T.length)&&(b[jo]=KM,d.push(b))}),i.set(b,x)});let h=0;return e.forEach(g=>mb(g,o[h++])),d}function Ox(i,t){const e=new Map;if(i.forEach(h=>e.set(h,[])),0==t.length)return e;const n=1,r=new Set(t),o=new Map;function d(h){if(!h)return n;let g=o.get(h);if(g)return g;const b=h.parentNode;return g=e.has(b)?b:r.has(b)?n:d(b),o.set(h,g),g}return t.forEach(h=>{const g=d(h);g!==n&&e.get(g).push(h)}),e}function cs(i,t){i.classList?.add(t)}function vu(i,t){i.classList?.remove(t)}function pb(i,t,e){Uc(e).onDone(()=>i.processLeaveNode(t))}function Px(i,t){for(let e=0;e<i.length;e++){const n=i[e];n instanceof Vv?Px(n.players,t):t.push(n)}}function Nx(i,t,e){const n=e.get(i);if(!n)return!1;let r=t.get(i);return r?n.forEach(o=>r.add(o)):t.set(i,n),e.delete(i),!0}class xm{constructor(t,e,n){this.bodyNode=t,this._driver=e,this._normalizer=n,this._triggerCache={},this.onRemovalComplete=(r,o)=>{},this._transitionEngine=new QM(t,e,n),this._timelineEngine=new YM(t,e,n),this._transitionEngine.onRemovalComplete=(r,o)=>this.onRemovalComplete(r,o)}registerTrigger(t,e,n,r,o){const d=t+"-"+r;let h=this._triggerCache[d];if(!h){const g=[],b=[],x=Kf(this._driver,o,g,b);if(g.length)throw function Uf(i,t){return new s.vHH(3404,!1)}();h=function Ix(i,t,e){return new GM(i,t,e)}(r,x,this._normalizer),this._triggerCache[d]=h}this._transitionEngine.registerTrigger(e,r,h)}register(t,e){this._transitionEngine.register(t,e)}destroy(t,e){this._transitionEngine.destroy(t,e)}onInsert(t,e,n,r){this._transitionEngine.insertNode(t,e,n,r)}onRemove(t,e,n,r){this._transitionEngine.removeNode(t,e,r||!1,n)}disableAnimations(t,e){this._transitionEngine.markElementAsDisabled(t,e)}process(t,e,n,r){if("@"==n.charAt(0)){const[o,d]=tx(n);this._timelineEngine.command(o,e,d,r)}else this._transitionEngine.trigger(t,e,n,r)}listen(t,e,n,r,o){if("@"==n.charAt(0)){const[d,h]=tx(n);return this._timelineEngine.listen(d,e,h,o)}return this._transitionEngine.listen(t,e,n,r,o)}flush(t=-1){this._transitionEngine.flush(t)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let ag=(()=>{class i{constructor(e,n,r){this._element=e,this._startStyles=n,this._endStyles=r,this._state=0;let o=i.initialStylesByElement.get(e);o||i.initialStylesByElement.set(e,o=new Map),this._initialStyles=o}start(){this._state<1&&(this._startStyles&&Xr(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Xr(this._element,this._initialStyles),this._endStyles&&(Xr(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(i.initialStylesByElement.delete(this._element),this._startStyles&&(as(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(as(this._element,this._endStyles),this._endStyles=null),Xr(this._element,this._initialStyles),this._state=3)}}return i.initialStylesByElement=new WeakMap,i})();function fb(i){let t=null;return i.forEach((e,n)=>{(function Bx(i){return"display"===i||"position"===i})(n)&&(t=t||new Map,t.set(n,e))}),t}class gb{constructor(t,e,n,r){this.element=t,this.keyframes=e,this.options=n,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=n.duration,this._delay=n.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(t){const e=[];return t.forEach(n=>{e.push(Object.fromEntries(n))}),e}_triggerWebAnimation(t,e,n){return t.animate(this._convertKeyframesToObject(e),n)}onStart(t){this._originalOnStartFns.push(t),this._onStartFns.push(t)}onDone(t){this._originalOnDoneFns.push(t),this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(t=>t()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}setPosition(t){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=t*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const t=new Map;this.hasStarted()&&this._finalKeyframe.forEach((n,r)=>{"offset"!==r&&t.set(r,this._finished?n:tb(this.element,r))}),this.currentSnapshot=t}triggerCallback(t){const e="start"===t?this._onStartFns:this._onDoneFns;e.forEach(n=>n()),e.length=0}}class _b{validateStyleProperty(t){return!0}validateAnimatableStyleProperty(t){return!0}matchesElement(t,e){return!1}containsElement(t,e){return sx(t,e)}getParentElement(t){return Wv(t)}query(t,e,n){return ax(t,e,n)}computeStyle(t,e,n){return window.getComputedStyle(t)[e]}animate(t,e,n,r,o,d=[]){const g={duration:n,delay:r,fill:0==r?"both":"forwards"};o&&(g.easing=o);const b=new Map,x=d.filter(F=>F instanceof gb);(function px(i,t){return 0===i||0===t})(n,r)&&x.forEach(F=>{F.currentSnapshot.forEach((H,X)=>b.set(X,H))});let k=function Gf(i){return i.length?i[0]instanceof Map?i:i.map(t=>zc(t)):[]}(e).map(F=>ca(F));k=function fx(i,t,e){if(e.size&&t.length){let n=t[0],r=[];if(e.forEach((o,d)=>{n.has(d)||r.push(d),n.set(d,o)}),r.length)for(let o=1;o<t.length;o++){let d=t[o];r.forEach(h=>d.set(h,tb(i,h)))}}return t}(t,k,b);const T=function Lx(i,t){let e=null,n=null;return Array.isArray(t)&&t.length?(e=fb(t[0]),t.length>1&&(n=fb(t[t.length-1]))):t instanceof Map&&(e=fb(t)),e||n?new ag(i,e,n):null}(t,k);return new gb(t,k,g,T)}}let cg=(()=>{class i extends Bf{constructor(e,n){super(),this._nextAnimationId=0,this._renderer=e.createRenderer(n.body,{id:"0",encapsulation:s.ifc.None,styles:[],data:{animation:[]}})}build(e){const n=this._nextAnimationId.toString();this._nextAnimationId++;const r=Array.isArray(e)?jw(e):e;return bb(this._renderer,null,n,"register",[r]),new vb(n,this._renderer)}}return i.\u0275fac=function(e){return new(e||i)(s.LFG(s.FYo),s.LFG(K))},i.\u0275prov=s.Yz7({token:i,factory:i.\u0275fac}),i})();class vb extends Bv{constructor(t,e){super(),this._id=t,this._renderer=e}create(t,e){return new Vx(this._id,t,e||{},this._renderer)}}class Vx{constructor(t,e,n,r){this.id=t,this.element=e,this._renderer=r,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",n)}_listen(t,e){return this._renderer.listen(this.element,`@@${this.id}:${t}`,e)}_command(t,...e){return bb(this._renderer,this.element,this.id,t,e)}onDone(t){this._listen("done",t)}onStart(t){this._listen("start",t)}onDestroy(t){this._listen("destroy",t)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(t){this._command("setPosition",t)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function bb(i,t,e,n,r){return i.setProperty(t,`@@${e}:${n}`,r)}const yb="@.disabled";let Hx=(()=>{class i{constructor(e,n,r){this.delegate=e,this.engine=n,this._zone=r,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),n.onRemovalComplete=(o,d)=>{const h=d?.parentNode(o);h&&d.removeChild(h,o)}}createRenderer(e,n){const o=this.delegate.createRenderer(e,n);if(!(e&&n&&n.data&&n.data.animation)){let x=this._rendererCache.get(o);return x||(x=new wb("",o,this.engine,()=>this._rendererCache.delete(o)),this._rendererCache.set(o,x)),x}const d=n.id,h=n.id+"-"+this._currentId;this._currentId++,this.engine.register(h,e);const g=x=>{Array.isArray(x)?x.forEach(g):this.engine.registerTrigger(d,h,e,x.name,x)};return n.data.animation.forEach(g),new Ux(this,h,o,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(e,n,r){e>=0&&e<this._microtaskId?this._zone.run(()=>n(r)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(o=>{const[d,h]=o;d(h)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([n,r]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return i.\u0275fac=function(e){return new(e||i)(s.LFG(s.FYo),s.LFG(xm),s.LFG(s.R0b))},i.\u0275prov=s.Yz7({token:i,factory:i.\u0275fac}),i})();class wb{constructor(t,e,n,r){this.namespaceId=t,this.delegate=e,this.engine=n,this._onDestroy=r,this.destroyNode=this.delegate.destroyNode?o=>e.destroyNode(o):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy(),this._onDestroy?.()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}appendChild(t,e){this.delegate.appendChild(t,e),this.engine.onInsert(this.namespaceId,e,t,!1)}insertBefore(t,e,n,r=!0){this.delegate.insertBefore(t,e,n),this.engine.onInsert(this.namespaceId,e,t,r)}removeChild(t,e,n){this.engine.onRemove(this.namespaceId,e,this.delegate,n)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,n,r){this.delegate.setAttribute(t,e,n,r)}removeAttribute(t,e,n){this.delegate.removeAttribute(t,e,n)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,n,r){this.delegate.setStyle(t,e,n,r)}removeStyle(t,e,n){this.delegate.removeStyle(t,e,n)}setProperty(t,e,n){"@"==e.charAt(0)&&e==yb?this.disableAnimations(t,!!n):this.delegate.setProperty(t,e,n)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,n){return this.delegate.listen(t,e,n)}disableAnimations(t,e){this.engine.disableAnimations(t,e)}}class Ux extends wb{constructor(t,e,n,r,o){super(e,n,r,o),this.factory=t,this.namespaceId=e}setProperty(t,e,n){"@"==e.charAt(0)?"."==e.charAt(1)&&e==yb?this.disableAnimations(t,n=void 0===n||!!n):this.engine.process(this.namespaceId,t,e.slice(1),n):this.delegate.setProperty(t,e,n)}listen(t,e,n){if("@"==e.charAt(0)){const r=function XM(i){switch(i){case"body":return document.body;case"document":return document;case"window":return window;default:return i}}(t);let o=e.slice(1),d="";return"@"!=o.charAt(0)&&([o,d]=function JM(i){const t=i.indexOf(".");return[i.substring(0,t),i.slice(t+1)]}(o)),this.engine.listen(this.namespaceId,r,o,d,h=>{this.factory.scheduleListenerCallback(h._data||-1,n,h)})}return this.delegate.listen(t,e,n)}}let eI=(()=>{class i extends xm{constructor(e,n,r,o){super(e.body,n,r)}ngOnDestroy(){this.flush()}}return i.\u0275fac=function(e){return new(e||i)(s.LFG(K),s.LFG(Kv),s.LFG(sb),s.LFG(s.z2F))},i.\u0275prov=s.Yz7({token:i,factory:i.\u0275fac}),i})();const zx=[{provide:Bf,useClass:cg},{provide:sb,useFactory:function tI(){return new Jl}},{provide:xm,useClass:eI},{provide:s.FYo,useFactory:function iI(i,t,e){return new Hx(i,t,e)},deps:[Ro,xm,s.R0b]}],xb=[{provide:Kv,useFactory:()=>new _b},{provide:s.QbO,useValue:"BrowserAnimations"},...zx],jx=[{provide:Kv,useClass:cx},{provide:s.QbO,useValue:"NoopAnimations"},...zx];let nI=(()=>{class i{static withConfig(e){return{ngModule:i,providers:e.disableAnimations?jx:xb}}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=s.oAB({type:i}),i.\u0275inj=s.cJS({providers:xb,imports:[Ra]}),i})();function It(i){return null!=i&&"false"!=`${i}`}function hr(i,t=0){return function rI(i){return!isNaN(parseFloat(i))&&!isNaN(Number(i))}(i)?Number(i):t}function Dm(i){return Array.isArray(i)?i:[i]}function Zn(i){return null==i?"":"string"==typeof i?i:`${i}px`}function Tn(i){return i instanceof s.SBq?i.nativeElement:i}var Gx=R(1144);const $x=["addListener","removeListener"],Yx=["addEventListener","removeEventListener"],qx=["on","off"];function $c(i,t,e,n){if((0,uo.m)(e)&&(n=e,e=void 0),n)return $c(i,t,e).pipe(Js(n));const[r,o]=function Db(i){return(0,uo.m)(i.addEventListener)&&(0,uo.m)(i.removeEventListener)}(i)?Yx.map(d=>h=>i[d](t,h,e)):function Wx(i){return(0,uo.m)(i.addListener)&&(0,uo.m)(i.removeListener)}(i)?$x.map(Cb(i,t)):function Zx(i){return(0,uo.m)(i.on)&&(0,uo.m)(i.off)}(i)?qx.map(Cb(i,t)):[];if(!r&&(0,Gx.z)(i))return(0,Hn.z)(d=>$c(d,t,e))((0,Ms.Xf)(i));if(!r)throw new TypeError("Invalid event target");return new vn.y(d=>{const h=(...g)=>d.next(1<g.length?g:g[0]);return r(h),()=>o(h)})}function Cb(i,t){return e=>n=>i[e](t,n)}var Eb=R(4408);const Vs={schedule(i){let t=requestAnimationFrame,e=cancelAnimationFrame;const{delegate:n}=Vs;n&&(t=n.requestAnimationFrame,e=n.cancelAnimationFrame);const r=t(o=>{e=void 0,i(o)});return new xn.w0(()=>e?.(r))},requestAnimationFrame(...i){const{delegate:t}=Vs;return(t?.requestAnimationFrame||requestAnimationFrame)(...i)},cancelAnimationFrame(...i){const{delegate:t}=Vs;return(t?.cancelAnimationFrame||cancelAnimationFrame)(...i)},delegate:void 0};var Kx=R(7565);const aI=new class bu extends Kx.v{flush(t){this._active=!0;const e=this._scheduled;this._scheduled=void 0;const{actions:n}=this;let r;t=t||n.shift();do{if(r=t.execute(t.state,t.delay))break}while((t=n[0])&&t.id===e&&n.shift());if(this._active=!1,r){for(;(t=n[0])&&t.id===e&&n.shift();)t.unsubscribe();throw r}}}(class sI extends Eb.o{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,n=0){return null!==n&&n>0?super.requestAsyncId(t,e,n):(t.actions.push(this),t._scheduled||(t._scheduled=Vs.requestAnimationFrame(()=>t.flush(void 0))))}recycleAsyncId(t,e,n=0){var r;if(null!=n?n>0:this.delay>0)return super.recycleAsyncId(t,e,n);const{actions:o}=t;null!=e&&(null===(r=o[o.length-1])||void 0===r?void 0:r.id)!==e&&(Vs.cancelAnimationFrame(e),t._scheduled=void 0)}});let lg,ZO=1;const Em={};function cI(i){return i in Em&&(delete Em[i],!0)}const $t={setImmediate(i){const t=ZO++;return Em[t]=!0,lg||(lg=Promise.resolve()),lg.then(()=>cI(t)&&i()),t},clearImmediate(i){cI(i)}},{setImmediate:lI,clearImmediate:dI}=$t,Xa={setImmediate(...i){const{delegate:t}=Xa;return(t?.setImmediate||lI)(...i)},clearImmediate(i){const{delegate:t}=Xa;return(t?.clearImmediate||dI)(i)},delegate:void 0},ug=new class dg extends Kx.v{flush(t){this._active=!0;const e=this._scheduled;this._scheduled=void 0;const{actions:n}=this;let r;t=t||n.shift();do{if(r=t.execute(t.state,t.delay))break}while((t=n[0])&&t.id===e&&n.shift());if(this._active=!1,r){for(;(t=n[0])&&t.id===e&&n.shift();)t.unsubscribe();throw r}}}(class uI extends Eb.o{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,n=0){return null!==n&&n>0?super.requestAsyncId(t,e,n):(t.actions.push(this),t._scheduled||(t._scheduled=Xa.setImmediate(t.flush.bind(t,void 0))))}recycleAsyncId(t,e,n=0){var r;if(null!=n?n>0:this.delay>0)return super.recycleAsyncId(t,e,n);const{actions:o}=t;null!=e&&(null===(r=o[o.length-1])||void 0===r?void 0:r.id)!==e&&(Xa.clearImmediate(e),t._scheduled=void 0)}});var km=R(4986),Jx=R(3532);function hg(i=0,t,e=km.P){let n=-1;return null!=t&&((0,Jx.K)(t)?e=t:n=t),new vn.y(r=>{let o=function hI(i){return i instanceof Date&&!isNaN(i)}(i)?+i-e.now():i;o<0&&(o=0);let d=0;return e.schedule(function(){r.closed||(r.next(d++),0<=n?this.schedule(void 0,n):r.complete())},o)})}function mg(i,t=km.z){return function Xx(i){return(0,Sn.e)((t,e)=>{let n=!1,r=null,o=null,d=!1;const h=()=>{if(o?.unsubscribe(),o=null,n){n=!1;const b=r;r=null,e.next(b)}d&&e.complete()},g=()=>{o=null,d&&e.complete()};t.subscribe((0,rn.x)(e,b=>{n=!0,r=b,o||(0,Ms.Xf)(i(b)).subscribe(o=(0,rn.x)(e,h,g))},()=>{d=!0,(!n||!o||o.closed)&&e.complete()}))})}(()=>hg(i,t))}var kb=R(5032);function Mi(i){return(0,Sn.e)((t,e)=>{(0,Ms.Xf)(i).subscribe((0,rn.x)(e,()=>e.complete(),kb.Z)),!e.closed&&t.subscribe(e)})}let Mb;try{Mb=typeof Intl<"u"&&Intl.v8BreakIterator}catch{Mb=!1}let ma,An=(()=>{class i{constructor(e){this._platformId=e,this.isBrowser=this._platformId?function Xo(i){return i===Op}(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!Mb)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return i.\u0275fac=function(e){return new(e||i)(s.LFG(s.Lbi))},i.\u0275prov=s.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();const eC=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function tC(){if(ma)return ma;if("object"!=typeof document||!document)return ma=new Set(eC),ma;let i=document.createElement("input");return ma=new Set(eC.filter(t=>(i.setAttribute("type",t),i.type===t))),ma}let Mm,Im,Yc,td;function ls(i){return function pg(){if(null==Mm&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>Mm=!0}))}finally{Mm=Mm||!1}return Mm}()?i:!!i.capture}function iC(){if(null==Yc){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return Yc=!1,Yc;if("scrollBehavior"in document.documentElement.style)Yc=!0;else{const i=Element.prototype.scrollTo;Yc=!!i&&!/\{\s*\[native code\]\s*\}/.test(i.toString())}}return Yc}function Ja(){if("object"!=typeof document||!document)return 0;if(null==Im){const i=document.createElement("div"),t=i.style;i.dir="rtl",t.width="1px",t.overflow="auto",t.visibility="hidden",t.pointerEvents="none",t.position="absolute";const e=document.createElement("div"),n=e.style;n.width="2px",n.height="1px",i.appendChild(e),document.body.appendChild(i),Im=0,0===i.scrollLeft&&(i.scrollLeft=1,Im=0===i.scrollLeft?1:2),i.remove()}return Im}function Ib(i){if(function mI(){if(null==td){const i=typeof document<"u"?document.head:null;td=!(!i||!i.createShadowRoot&&!i.attachShadow)}return td}()){const t=i.getRootNode?i.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&t instanceof ShadowRoot)return t}return null}function fg(){let i=typeof document<"u"&&document?document.activeElement:null;for(;i&&i.shadowRoot;){const t=i.shadowRoot.activeElement;if(t===i)break;i=t}return i}function go(i){return i.composedPath?i.composedPath()[0]:i.target}function gg(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}const nC=new s.OlP("cdk-dir-doc",{providedIn:"root",factory:function pI(){return(0,s.f3M)(K)}}),rC=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let _o=(()=>{class i{constructor(e){this.value="ltr",this.change=new s.vpe,e&&(this.value=function fI(i){const t=i?.toLowerCase()||"";return"auto"===t&&typeof navigator<"u"&&navigator?.language?rC.test(navigator.language)?"rtl":"ltr":"rtl"===t?"rtl":"ltr"}((e.body?e.body.dir:null)||(e.documentElement?e.documentElement.dir:null)||"ltr"))}ngOnDestroy(){this.change.complete()}}return i.\u0275fac=function(e){return new(e||i)(s.LFG(nC,8))},i.\u0275prov=s.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),Sm=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=s.oAB({type:i}),i.\u0275inj=s.cJS({}),i})();const XO=["contentWrapper"],JO=["*"],oC=new s.OlP("VIRTUAL_SCROLL_STRATEGY");let ec=(()=>{class i{constructor(e,n,r){this._ngZone=e,this._platform=n,this._scrolled=new nt.x,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=r}register(e){this.scrollContainers.has(e)||this.scrollContainers.set(e,e.elementScrolled().subscribe(()=>this._scrolled.next(e)))}deregister(e){const n=this.scrollContainers.get(e);n&&(n.unsubscribe(),this.scrollContainers.delete(e))}scrolled(e=20){return this._platform.isBrowser?new vn.y(n=>{this._globalSubscription||this._addGlobalListener();const r=e>0?this._scrolled.pipe(mg(e)).subscribe(n):this._scrolled.subscribe(n);return this._scrolledCount++,()=>{r.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):it()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((e,n)=>this.deregister(n)),this._scrolled.complete()}ancestorScrolled(e,n){const r=this.getAncestorScrollContainers(e);return this.scrolled(n).pipe(sn(o=>!o||r.indexOf(o)>-1))}getAncestorScrollContainers(e){const n=[];return this.scrollContainers.forEach((r,o)=>{this._scrollableContainsElement(o,e)&&n.push(o)}),n}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(e,n){let r=Tn(n),o=e.getElementRef().nativeElement;do{if(r==o)return!0}while(r=r.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>$c(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return i.\u0275fac=function(e){return new(e||i)(s.LFG(s.R0b),s.LFG(An),s.LFG(K,8))},i.\u0275prov=s.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),aC=(()=>{class i{constructor(e,n,r,o){this.elementRef=e,this.scrollDispatcher=n,this.ngZone=r,this.dir=o,this._destroyed=new nt.x,this._elementScrolled=new vn.y(d=>this.ngZone.runOutsideAngular(()=>$c(this.elementRef.nativeElement,"scroll").pipe(Mi(this._destroyed)).subscribe(d)))}ngOnInit(){this.scrollDispatcher.register(this)}ngOnDestroy(){this.scrollDispatcher.deregister(this),this._destroyed.next(),this._destroyed.complete()}elementScrolled(){return this._elementScrolled}getElementRef(){return this.elementRef}scrollTo(e){const n=this.elementRef.nativeElement,r=this.dir&&"rtl"==this.dir.value;null==e.left&&(e.left=r?e.end:e.start),null==e.right&&(e.right=r?e.start:e.end),null!=e.bottom&&(e.top=n.scrollHeight-n.clientHeight-e.bottom),r&&0!=Ja()?(null!=e.left&&(e.right=n.scrollWidth-n.clientWidth-e.left),2==Ja()?e.left=e.right:1==Ja()&&(e.left=e.right?-e.right:e.right)):null!=e.right&&(e.left=n.scrollWidth-n.clientWidth-e.right),this._applyScrollToOptions(e)}_applyScrollToOptions(e){const n=this.elementRef.nativeElement;iC()?n.scrollTo(e):(null!=e.top&&(n.scrollTop=e.top),null!=e.left&&(n.scrollLeft=e.left))}measureScrollOffset(e){const n="left",r="right",o=this.elementRef.nativeElement;if("top"==e)return o.scrollTop;if("bottom"==e)return o.scrollHeight-o.clientHeight-o.scrollTop;const d=this.dir&&"rtl"==this.dir.value;return"start"==e?e=d?r:n:"end"==e&&(e=d?n:r),d&&2==Ja()?e==n?o.scrollWidth-o.clientWidth-o.scrollLeft:o.scrollLeft:d&&1==Ja()?e==n?o.scrollLeft+o.scrollWidth-o.clientWidth:-o.scrollLeft:e==n?o.scrollLeft:o.scrollWidth-o.clientWidth-o.scrollLeft}}return i.\u0275fac=function(e){return new(e||i)(s.Y36(s.SBq),s.Y36(ec),s.Y36(s.R0b),s.Y36(_o,8))},i.\u0275dir=s.lG2({type:i,selectors:[["","cdk-scrollable",""],["","cdkScrollable",""]],standalone:!0}),i})(),yu=(()=>{class i{constructor(e,n,r){this._platform=e,this._change=new nt.x,this._changeListener=o=>{this._change.next(o)},this._document=r,n.runOutsideAngular(()=>{if(e.isBrowser){const o=this._getWindow();o.addEventListener("resize",this._changeListener),o.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const e=this._getWindow();e.removeEventListener("resize",this._changeListener),e.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const e={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),e}getViewportRect(){const e=this.getViewportScrollPosition(),{width:n,height:r}=this.getViewportSize();return{top:e.top,left:e.left,bottom:e.top+r,right:e.left+n,height:r,width:n}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const e=this._document,n=this._getWindow(),r=e.documentElement,o=r.getBoundingClientRect();return{top:-o.top||e.body.scrollTop||n.scrollY||r.scrollTop||0,left:-o.left||e.body.scrollLeft||n.scrollX||r.scrollLeft||0}}change(e=20){return e>0?this._change.pipe(mg(e)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const e=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:e.innerWidth,height:e.innerHeight}:{width:0,height:0}}}return i.\u0275fac=function(e){return new(e||i)(s.LFG(An),s.LFG(s.R0b),s.LFG(K,8))},i.\u0275prov=s.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();const cC=new s.OlP("VIRTUAL_SCROLLABLE");let iP=(()=>{class i extends aC{constructor(e,n,r,o){super(e,n,r,o)}measureViewportSize(e){const n=this.elementRef.nativeElement;return"horizontal"===e?n.clientWidth:n.clientHeight}}return i.\u0275fac=function(e){return new(e||i)(s.Y36(s.SBq),s.Y36(ec),s.Y36(s.R0b),s.Y36(_o,8))},i.\u0275dir=s.lG2({type:i,features:[s.qOj]}),i})();const lC=typeof requestAnimationFrame<"u"?aI:ug;let vI=(()=>{class i extends iP{get orientation(){return this._orientation}set orientation(e){this._orientation!==e&&(this._orientation=e,this._calculateSpacerSize())}get appendOnly(){return this._appendOnly}set appendOnly(e){this._appendOnly=It(e)}constructor(e,n,r,o,d,h,g,b){super(e,h,r,d),this.elementRef=e,this._changeDetectorRef=n,this._scrollStrategy=o,this.scrollable=b,this._platform=(0,s.f3M)(An),this._detachedSubject=new nt.x,this._renderedRangeSubject=new nt.x,this._orientation="vertical",this._appendOnly=!1,this.scrolledIndexChange=new vn.y(x=>this._scrollStrategy.scrolledIndexChange.subscribe(k=>Promise.resolve().then(()=>this.ngZone.run(()=>x.next(k))))),this.renderedRangeStream=this._renderedRangeSubject,this._totalContentSize=0,this._totalContentWidth="",this._totalContentHeight="",this._renderedRange={start:0,end:0},this._dataLength=0,this._viewportSize=0,this._renderedContentOffset=0,this._renderedContentOffsetNeedsRewrite=!1,this._isChangeDetectionPending=!1,this._runAfterChangeDetection=[],this._viewportChanges=xn.w0.EMPTY,this._viewportChanges=g.change().subscribe(()=>{this.checkViewportSize()}),this.scrollable||(this.elementRef.nativeElement.classList.add("cdk-virtual-scrollable"),this.scrollable=this)}ngOnInit(){this._platform.isBrowser&&(this.scrollable===this&&super.ngOnInit(),this.ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>{this._measureViewportSize(),this._scrollStrategy.attach(this),this.scrollable.elementScrolled().pipe(sr(null),mg(0,lC)).subscribe(()=>this._scrollStrategy.onContentScrolled()),this._markChangeDetectionNeeded()})))}ngOnDestroy(){this.detach(),this._scrollStrategy.detach(),this._renderedRangeSubject.complete(),this._detachedSubject.complete(),this._viewportChanges.unsubscribe(),super.ngOnDestroy()}attach(e){this.ngZone.runOutsideAngular(()=>{this._forOf=e,this._forOf.dataStream.pipe(Mi(this._detachedSubject)).subscribe(n=>{const r=n.length;r!==this._dataLength&&(this._dataLength=r,this._scrollStrategy.onDataLengthChanged()),this._doChangeDetection()})})}detach(){this._forOf=null,this._detachedSubject.next()}getDataLength(){return this._dataLength}getViewportSize(){return this._viewportSize}getRenderedRange(){return this._renderedRange}measureBoundingClientRectWithScrollOffset(e){return this.getElementRef().nativeElement.getBoundingClientRect()[e]}setTotalContentSize(e){this._totalContentSize!==e&&(this._totalContentSize=e,this._calculateSpacerSize(),this._markChangeDetectionNeeded())}setRenderedRange(e){(function _I(i,t){return i.start==t.start&&i.end==t.end})(this._renderedRange,e)||(this.appendOnly&&(e={start:0,end:Math.max(this._renderedRange.end,e.end)}),this._renderedRangeSubject.next(this._renderedRange=e),this._markChangeDetectionNeeded(()=>this._scrollStrategy.onContentRendered()))}getOffsetToRenderedContentStart(){return this._renderedContentOffsetNeedsRewrite?null:this._renderedContentOffset}setRenderedContentOffset(e,n="to-start"){e=this.appendOnly&&"to-start"===n?0:e;const o="horizontal"==this.orientation,d=o?"X":"Y";let g=`translate${d}(${Number((o&&this.dir&&"rtl"==this.dir.value?-1:1)*e)}px)`;this._renderedContentOffset=e,"to-end"===n&&(g+=` translate${d}(-100%)`,this._renderedContentOffsetNeedsRewrite=!0),this._renderedContentTransform!=g&&(this._renderedContentTransform=g,this._markChangeDetectionNeeded(()=>{this._renderedContentOffsetNeedsRewrite?(this._renderedContentOffset-=this.measureRenderedContentSize(),this._renderedContentOffsetNeedsRewrite=!1,this.setRenderedContentOffset(this._renderedContentOffset)):this._scrollStrategy.onRenderedOffsetChanged()}))}scrollToOffset(e,n="auto"){const r={behavior:n};"horizontal"===this.orientation?r.start=e:r.top=e,this.scrollable.scrollTo(r)}scrollToIndex(e,n="auto"){this._scrollStrategy.scrollToIndex(e,n)}measureScrollOffset(e){let n;return n=this.scrollable==this?r=>super.measureScrollOffset(r):r=>this.scrollable.measureScrollOffset(r),Math.max(0,n(e??("horizontal"===this.orientation?"start":"top"))-this.measureViewportOffset())}measureViewportOffset(e){let n;const r="left",o="right",d="rtl"==this.dir?.value;n="start"==e?d?o:r:"end"==e?d?r:o:e||("horizontal"===this.orientation?"left":"top");const h=this.scrollable.measureBoundingClientRectWithScrollOffset(n);return this.elementRef.nativeElement.getBoundingClientRect()[n]-h}measureRenderedContentSize(){const e=this._contentWrapper.nativeElement;return"horizontal"===this.orientation?e.offsetWidth:e.offsetHeight}measureRangeSize(e){return this._forOf?this._forOf.measureRangeSize(e,this.orientation):0}checkViewportSize(){this._measureViewportSize(),this._scrollStrategy.onDataLengthChanged()}_measureViewportSize(){this._viewportSize=this.scrollable.measureViewportSize(this.orientation)}_markChangeDetectionNeeded(e){e&&this._runAfterChangeDetection.push(e),this._isChangeDetectionPending||(this._isChangeDetectionPending=!0,this.ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>{this._doChangeDetection()})))}_doChangeDetection(){this._isChangeDetectionPending=!1,this._contentWrapper.nativeElement.style.transform=this._renderedContentTransform,this.ngZone.run(()=>this._changeDetectorRef.markForCheck());const e=this._runAfterChangeDetection;this._runAfterChangeDetection=[];for(const n of e)n()}_calculateSpacerSize(){this._totalContentHeight="horizontal"===this.orientation?"":`${this._totalContentSize}px`,this._totalContentWidth="horizontal"===this.orientation?`${this._totalContentSize}px`:""}}return i.\u0275fac=function(e){return new(e||i)(s.Y36(s.SBq),s.Y36(s.sBO),s.Y36(s.R0b),s.Y36(oC,8),s.Y36(_o,8),s.Y36(ec),s.Y36(yu),s.Y36(cC,8))},i.\u0275cmp=s.Xpm({type:i,selectors:[["cdk-virtual-scroll-viewport"]],viewQuery:function(e,n){if(1&e&&s.Gf(XO,7),2&e){let r;s.iGM(r=s.CRH())&&(n._contentWrapper=r.first)}},hostAttrs:[1,"cdk-virtual-scroll-viewport"],hostVars:4,hostBindings:function(e,n){2&e&&s.ekj("cdk-virtual-scroll-orientation-horizontal","horizontal"===n.orientation)("cdk-virtual-scroll-orientation-vertical","horizontal"!==n.orientation)},inputs:{orientation:"orientation",appendOnly:"appendOnly"},outputs:{scrolledIndexChange:"scrolledIndexChange"},standalone:!0,features:[s._Bn([{provide:aC,useFactory:(t,e)=>t||e,deps:[[new s.FiY,new s.tBr(cC)],i]}]),s.qOj,s.jDz],ngContentSelectors:JO,decls:4,vars:4,consts:[[1,"cdk-virtual-scroll-content-wrapper"],["contentWrapper",""],[1,"cdk-virtual-scroll-spacer"]],template:function(e,n){1&e&&(s.F$t(),s.TgZ(0,"div",0,1),s.Hsn(2),s.qZA(),s._UZ(3,"div",2)),2&e&&(s.xp6(3),s.Udp("width",n._totalContentWidth)("height",n._totalContentHeight))},styles:["cdk-virtual-scroll-viewport{display:block;position:relative;transform:translateZ(0)}.cdk-virtual-scrollable{overflow:auto;will-change:scroll-position;contain:strict;-webkit-overflow-scrolling:touch}.cdk-virtual-scroll-content-wrapper{position:absolute;top:0;left:0;contain:content}[dir=rtl] .cdk-virtual-scroll-content-wrapper{right:0;left:auto}.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper{min-height:100%}.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>dl:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>ol:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>table:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>ul:not([cdkVirtualFor]){padding-left:0;padding-right:0;margin-left:0;margin-right:0;border-left-width:0;border-right-width:0;outline:none}.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper{min-width:100%}.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>dl:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>ol:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>table:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>ul:not([cdkVirtualFor]){padding-top:0;padding-bottom:0;margin-top:0;margin-bottom:0;border-top-width:0;border-bottom-width:0;outline:none}.cdk-virtual-scroll-spacer{height:1px;transform-origin:0 0;flex:0 0 auto}[dir=rtl] .cdk-virtual-scroll-spacer{transform-origin:100% 0}"],encapsulation:2,changeDetection:0}),i})(),pa=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=s.oAB({type:i}),i.\u0275inj=s.cJS({}),i})(),Tm=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=s.oAB({type:i}),i.\u0275inj=s.cJS({imports:[Sm,pa,vI,Sm,pa]}),i})();function ds(i,...t){return t.length?t.some(e=>i[e]):i.altKey||i.shiftKey||i.ctrlKey||i.metaKey}function Cg(i,t=km.z){return(0,Sn.e)((e,n)=>{let r=null,o=null,d=null;const h=()=>{if(r){r.unsubscribe(),r=null;const b=o;o=null,n.next(b)}};function g(){const b=d+i,x=t.now();if(x<b)return r=this.schedule(void 0,b-x),void n.add(r);h()}e.subscribe((0,rn.x)(n,b=>{o=b,d=t.now(),r||(r=t.schedule(g,i),n.add(r))},()=>{h(),n.complete()},void 0,()=>{o=r=null}))})}function Nb(i){return sn((t,e)=>i<=e)}function SC(i,t=ks.y){return i=i??TC,(0,Sn.e)((e,n)=>{let r,o=!0;e.subscribe((0,rn.x)(n,d=>{const h=t(d);(o||!i(r,h))&&(o=!1,r=h,n.next(d))}))})}function TC(i,t){return i===t}let Lb=(()=>{class i{create(e){return typeof MutationObserver>"u"?null:new MutationObserver(e)}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=s.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),sS=(()=>{class i{constructor(e){this._mutationObserverFactory=e,this._observedElements=new Map}ngOnDestroy(){this._observedElements.forEach((e,n)=>this._cleanupObserver(n))}observe(e){const n=Tn(e);return new vn.y(r=>{const d=this._observeElement(n).subscribe(r);return()=>{d.unsubscribe(),this._unobserveElement(n)}})}_observeElement(e){if(this._observedElements.has(e))this._observedElements.get(e).count++;else{const n=new nt.x,r=this._mutationObserverFactory.create(o=>n.next(o));r&&r.observe(e,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(e,{observer:r,stream:n,count:1})}return this._observedElements.get(e).stream}_unobserveElement(e){this._observedElements.has(e)&&(this._observedElements.get(e).count--,this._observedElements.get(e).count||this._cleanupObserver(e))}_cleanupObserver(e){if(this._observedElements.has(e)){const{observer:n,stream:r}=this._observedElements.get(e);n&&n.disconnect(),r.complete(),this._observedElements.delete(e)}}}return i.\u0275fac=function(e){return new(e||i)(s.LFG(Lb))},i.\u0275prov=s.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),Bb=(()=>{class i{get disabled(){return this._disabled}set disabled(e){this._disabled=It(e),this._disabled?this._unsubscribe():this._subscribe()}get debounce(){return this._debounce}set debounce(e){this._debounce=hr(e),this._subscribe()}constructor(e,n,r){this._contentObserver=e,this._elementRef=n,this._ngZone=r,this.event=new s.vpe,this._disabled=!1,this._currentSubscription=null}ngAfterContentInit(){!this._currentSubscription&&!this.disabled&&this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();const e=this._contentObserver.observe(this._elementRef);this._ngZone.runOutsideAngular(()=>{this._currentSubscription=(this.debounce?e.pipe(Cg(this.debounce)):e).subscribe(this.event)})}_unsubscribe(){this._currentSubscription?.unsubscribe()}}return i.\u0275fac=function(e){return new(e||i)(s.Y36(sS),s.Y36(s.SBq),s.Y36(s.R0b))},i.\u0275dir=s.lG2({type:i,selectors:[["","cdkObserveContent",""]],inputs:{disabled:["cdkObserveContentDisabled","disabled"],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"]}),i})(),Am=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=s.oAB({type:i}),i.\u0275inj=s.cJS({providers:[Lb]}),i})();const nd=new Set;let Cu,aS=(()=>{class i{constructor(e){this._platform=e,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):qP}matchMedia(e){return(this._platform.WEBKIT||this._platform.BLINK)&&function YP(i){if(!nd.has(i))try{Cu||(Cu=document.createElement("style"),Cu.setAttribute("type","text/css"),document.head.appendChild(Cu)),Cu.sheet&&(Cu.sheet.insertRule(`@media ${i} {body{ }}`,0),nd.add(i))}catch(t){console.error(t)}}(e),this._matchMedia(e)}}return i.\u0275fac=function(e){return new(e||i)(s.LFG(An))},i.\u0275prov=s.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();function qP(i){return{matches:"all"===i||""===i,media:i,addListener:()=>{},removeListener:()=>{}}}let AC=(()=>{class i{constructor(e,n){this._mediaMatcher=e,this._zone=n,this._queries=new Map,this._destroySubject=new nt.x}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(e){return Dg(Dm(e)).some(r=>this._registerQuery(r).mql.matches)}observe(e){let o=Dl(Dg(Dm(e)).map(d=>this._registerQuery(d).observable));return o=El(o.pipe(Gi(1)),o.pipe(Nb(1),Cg(0))),o.pipe((0,kt.U)(d=>{const h={matches:!1,breakpoints:{}};return d.forEach(({matches:g,query:b})=>{h.matches=h.matches||g,h.breakpoints[b]=g}),h}))}_registerQuery(e){if(this._queries.has(e))return this._queries.get(e);const n=this._mediaMatcher.matchMedia(e),o={observable:new vn.y(d=>{const h=g=>this._zone.run(()=>d.next(g));return n.addListener(h),()=>{n.removeListener(h)}}).pipe(sr(n),(0,kt.U)(({matches:d})=>({query:e,matches:d})),Mi(this._destroySubject)),mql:n};return this._queries.set(e,o),o}}return i.\u0275fac=function(e){return new(e||i)(s.LFG(aS),s.LFG(s.R0b))},i.\u0275prov=s.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();function Dg(i){return i.map(t=>t.split(",")).reduce((t,e)=>t.concat(e)).map(t=>t.trim())}let Rm=(()=>{class i{constructor(e){this._platform=e}isDisabled(e){return e.hasAttribute("disabled")}isVisible(e){return function uS(i){return!!(i.offsetWidth||i.offsetHeight||"function"==typeof i.getClientRects&&i.getClientRects().length)}(e)&&"visible"===getComputedStyle(e).visibility}isTabbable(e){if(!this._platform.isBrowser)return!1;const n=function Du(i){try{return i.frameElement}catch{return null}}(function BC(i){return i.ownerDocument&&i.ownerDocument.defaultView||window}(e));if(n&&(-1===NC(n)||!this.isVisible(n)))return!1;let r=e.nodeName.toLowerCase(),o=NC(e);return e.hasAttribute("contenteditable")?-1!==o:!("iframe"===r||"object"===r||this._platform.WEBKIT&&this._platform.IOS&&!function mS(i){let t=i.nodeName.toLowerCase(),e="input"===t&&i.type;return"text"===e||"password"===e||"select"===t||"textarea"===t}(e))&&("audio"===r?!!e.hasAttribute("controls")&&-1!==o:"video"===r?-1!==o&&(null!==o||this._platform.FIREFOX||e.hasAttribute("controls")):e.tabIndex>=0)}isFocusable(e,n){return function LC(i){return!function Gb(i){return function hS(i){return"input"==i.nodeName.toLowerCase()}(i)&&"hidden"==i.type}(i)&&(function PC(i){let t=i.nodeName.toLowerCase();return"input"===t||"select"===t||"button"===t||"textarea"===t}(i)||function XP(i){return function JP(i){return"a"==i.nodeName.toLowerCase()}(i)&&i.hasAttribute("href")}(i)||i.hasAttribute("contenteditable")||FC(i))}(e)&&!this.isDisabled(e)&&(n?.ignoreVisibility||this.isVisible(e))}}return i.\u0275fac=function(e){return new(e||i)(s.LFG(An))},i.\u0275prov=s.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();function FC(i){if(!i.hasAttribute("tabindex")||void 0===i.tabIndex)return!1;let t=i.getAttribute("tabindex");return!(!t||isNaN(parseInt(t,10)))}function NC(i){if(!FC(i))return null;const t=parseInt(i.getAttribute("tabindex")||"",10);return isNaN(t)?-1:t}class pS{get enabled(){return this._enabled}set enabled(t){this._enabled=t,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}constructor(t,e,n,r,o=!1){this._element=t,this._checker=e,this._ngZone=n,this._document=r,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,o||this.attachAnchors()}destroy(){const t=this._startAnchor,e=this._endAnchor;t&&(t.removeEventListener("focus",this.startAnchorListener),t.remove()),e&&(e.removeEventListener("focus",this.endAnchorListener),e.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusInitialElement(t)))})}focusFirstTabbableElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusFirstTabbableElement(t)))})}focusLastTabbableElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusLastTabbableElement(t)))})}_getRegionBoundary(t){const e=this._element.querySelectorAll(`[cdk-focus-region-${t}], [cdkFocusRegion${t}], [cdk-focus-${t}]`);return"start"==t?e.length?e[0]:this._getFirstTabbableElement(this._element):e.length?e[e.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(t){const e=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(e){if(!this._checker.isFocusable(e)){const n=this._getFirstTabbableElement(e);return n?.focus(t),!!n}return e.focus(t),!0}return this.focusFirstTabbableElement(t)}focusFirstTabbableElement(t){const e=this._getRegionBoundary("start");return e&&e.focus(t),!!e}focusLastTabbableElement(t){const e=this._getRegionBoundary("end");return e&&e.focus(t),!!e}hasAttached(){return this._hasAttached}_getFirstTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;const e=t.children;for(let n=0;n<e.length;n++){const r=e[n].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(e[n]):null;if(r)return r}return null}_getLastTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;const e=t.children;for(let n=e.length-1;n>=0;n--){const r=e[n].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(e[n]):null;if(r)return r}return null}_createAnchor(){const t=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,t),t.classList.add("cdk-visually-hidden"),t.classList.add("cdk-focus-trap-anchor"),t.setAttribute("aria-hidden","true"),t}_toggleAnchorTabIndex(t,e){t?e.setAttribute("tabindex","0"):e.removeAttribute("tabindex")}toggleAnchors(t){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}_executeOnStable(t){this._ngZone.isStable?t():this._ngZone.onStable.pipe(Gi(1)).subscribe(t)}}let kg=(()=>{class i{constructor(e,n,r){this._checker=e,this._ngZone=n,this._document=r}create(e,n=!1){return new pS(e,this._checker,this._ngZone,this._document,n)}}return i.\u0275fac=function(e){return new(e||i)(s.LFG(Rm),s.LFG(s.R0b),s.LFG(K))},i.\u0275prov=s.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();function Mg(i){return 0===i.buttons||0===i.offsetX&&0===i.offsetY}function Ig(i){const t=i.touches&&i.touches[0]||i.changedTouches&&i.changedTouches[0];return!(!t||-1!==t.identifier||null!=t.radiusX&&1!==t.radiusX||null!=t.radiusY&&1!==t.radiusY)}const VC=new s.OlP("cdk-input-modality-detector-options"),vS={ignoreKeys:[18,17,224,91,16]},Om=ls({passive:!0,capture:!0});let UC=(()=>{class i{get mostRecentModality(){return this._modality.value}constructor(e,n,r,o){this._platform=e,this._mostRecentTarget=null,this._modality=new Tr(null),this._lastTouchMs=0,this._onKeydown=d=>{this._options?.ignoreKeys?.some(h=>h===d.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=go(d))},this._onMousedown=d=>{Date.now()-this._lastTouchMs<650||(this._modality.next(Mg(d)?"keyboard":"mouse"),this._mostRecentTarget=go(d))},this._onTouchstart=d=>{Ig(d)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=go(d))},this._options={...vS,...o},this.modalityDetected=this._modality.pipe(Nb(1)),this.modalityChanged=this.modalityDetected.pipe(SC()),e.isBrowser&&n.runOutsideAngular(()=>{r.addEventListener("keydown",this._onKeydown,Om),r.addEventListener("mousedown",this._onMousedown,Om),r.addEventListener("touchstart",this._onTouchstart,Om)})}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,Om),document.removeEventListener("mousedown",this._onMousedown,Om),document.removeEventListener("touchstart",this._onTouchstart,Om))}}return i.\u0275fac=function(e){return new(e||i)(s.LFG(An),s.LFG(s.R0b),s.LFG(K),s.LFG(VC,8))},i.\u0275prov=s.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();const rF=new s.OlP("cdk-focus-monitor-default-options"),$b=ls({passive:!0,capture:!0});let us=(()=>{class i{constructor(e,n,r,o,d){this._ngZone=e,this._platform=n,this._inputModalityDetector=r,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new nt.x,this._rootNodeFocusAndBlurListener=h=>{for(let b=go(h);b;b=b.parentElement)"focus"===h.type?this._onFocus(h,b):this._onBlur(h,b)},this._document=o,this._detectionMode=d?.detectionMode||0}monitor(e,n=!1){const r=Tn(e);if(!this._platform.isBrowser||1!==r.nodeType)return it(null);const o=Ib(r)||this._getDocument(),d=this._elementInfo.get(r);if(d)return n&&(d.checkChildren=!0),d.subject;const h={checkChildren:n,subject:new nt.x,rootNode:o};return this._elementInfo.set(r,h),this._registerGlobalListeners(h),h.subject}stopMonitoring(e){const n=Tn(e),r=this._elementInfo.get(n);r&&(r.subject.complete(),this._setClasses(n),this._elementInfo.delete(n),this._removeGlobalListeners(r))}focusVia(e,n,r){const o=Tn(e);o===this._getDocument().activeElement?this._getClosestElementsInfo(o).forEach(([h,g])=>this._originChanged(h,n,g)):(this._setOrigin(n),"function"==typeof o.focus&&o.focus(r))}ngOnDestroy(){this._elementInfo.forEach((e,n)=>this.stopMonitoring(n))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(e){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(e)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:e&&this._isLastInteractionFromInputLabel(e)?"mouse":"program"}_shouldBeAttributedToTouch(e){return 1===this._detectionMode||!!e?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(e,n){e.classList.toggle("cdk-focused",!!n),e.classList.toggle("cdk-touch-focused","touch"===n),e.classList.toggle("cdk-keyboard-focused","keyboard"===n),e.classList.toggle("cdk-mouse-focused","mouse"===n),e.classList.toggle("cdk-program-focused","program"===n)}_setOrigin(e,n=!1){this._ngZone.runOutsideAngular(()=>{this._origin=e,this._originFromTouchInteraction="touch"===e&&n,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(e,n){const r=this._elementInfo.get(n),o=go(e);!r||!r.checkChildren&&n!==o||this._originChanged(n,this._getFocusOrigin(o),r)}_onBlur(e,n){const r=this._elementInfo.get(n);!r||r.checkChildren&&e.relatedTarget instanceof Node&&n.contains(e.relatedTarget)||(this._setClasses(n),this._emitOrigin(r,null))}_emitOrigin(e,n){e.subject.observers.length&&this._ngZone.run(()=>e.subject.next(n))}_registerGlobalListeners(e){if(!this._platform.isBrowser)return;const n=e.rootNode,r=this._rootNodeFocusListenerCount.get(n)||0;r||this._ngZone.runOutsideAngular(()=>{n.addEventListener("focus",this._rootNodeFocusAndBlurListener,$b),n.addEventListener("blur",this._rootNodeFocusAndBlurListener,$b)}),this._rootNodeFocusListenerCount.set(n,r+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(Mi(this._stopInputModalityDetector)).subscribe(o=>{this._setOrigin(o,!0)}))}_removeGlobalListeners(e){const n=e.rootNode;if(this._rootNodeFocusListenerCount.has(n)){const r=this._rootNodeFocusListenerCount.get(n);r>1?this._rootNodeFocusListenerCount.set(n,r-1):(n.removeEventListener("focus",this._rootNodeFocusAndBlurListener,$b),n.removeEventListener("blur",this._rootNodeFocusAndBlurListener,$b),this._rootNodeFocusListenerCount.delete(n))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(e,n,r){this._setClasses(e,n),this._emitOrigin(r,n),this._lastFocusOrigin=n}_getClosestElementsInfo(e){const n=[];return this._elementInfo.forEach((r,o)=>{(o===e||r.checkChildren&&o.contains(e))&&n.push([o,r])}),n}_isLastInteractionFromInputLabel(e){const{_mostRecentTarget:n,mostRecentModality:r}=this._inputModalityDetector;if("mouse"!==r||!n||n===e||"INPUT"!==e.nodeName&&"TEXTAREA"!==e.nodeName||e.disabled)return!1;const o=e.labels;if(o)for(let d=0;d<o.length;d++)if(o[d].contains(n))return!0;return!1}}return i.\u0275fac=function(e){return new(e||i)(s.LFG(s.R0b),s.LFG(An),s.LFG(UC),s.LFG(K,8),s.LFG(rF,8))},i.\u0275prov=s.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();const Yb="cdk-high-contrast-black-on-white",Pm="cdk-high-contrast-white-on-black",Sg="cdk-high-contrast-active";let qb=(()=>{class i{constructor(e,n){this._platform=e,this._document=n,this._breakpointSubscription=(0,s.f3M)(AC).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const e=this._document.createElement("div");e.style.backgroundColor="rgb(1,2,3)",e.style.position="absolute",this._document.body.appendChild(e);const n=this._document.defaultView||window,r=n&&n.getComputedStyle?n.getComputedStyle(e):null,o=(r&&r.backgroundColor||"").replace(/ /g,"");switch(e.remove(),o){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return 2;case"rgb(255,255,255)":case"rgb(255,250,239)":return 1}return 0}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const e=this._document.body.classList;e.remove(Sg,Yb,Pm),this._hasCheckedHighContrastMode=!0;const n=this.getHighContrastMode();1===n?e.add(Sg,Yb):2===n&&e.add(Sg,Pm)}}}return i.\u0275fac=function(e){return new(e||i)(s.LFG(An),s.LFG(K))},i.\u0275prov=s.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),Tg=(()=>{class i{constructor(e){e._applyBodyHighContrastModeCssClasses()}}return i.\u0275fac=function(e){return new(e||i)(s.LFG(qb))},i.\u0275mod=s.oAB({type:i}),i.\u0275inj=s.cJS({imports:[Am]}),i})();var Br=R(6451);function Zb(i,t,e){for(let n in t)if(t.hasOwnProperty(n)){const r=t[n];r?i.setProperty(n,r,e?.has(n)?"important":""):i.removeProperty(n)}return i}function Fm(i,t){const e=t?"":"none";Zb(i.style,{"touch-action":t?"":"none","-webkit-user-drag":t?"":"none","-webkit-tap-highlight-color":t?"":"transparent","user-select":e,"-ms-user-select":e,"-webkit-user-select":e,"-moz-user-select":e})}function zC(i,t,e){Zb(i.style,{position:t?"":"fixed",top:t?"":"0",opacity:t?"":"0",left:t?"":"-999em"},e)}function Ag(i,t){return t&&"none"!=t?i+" "+t:i}function jC(i){const t=i.toLowerCase().indexOf("ms")>-1?1:1e3;return parseFloat(i)*t}function Kb(i,t){return i.getPropertyValue(t).split(",").map(n=>n.trim())}function GC(i){const t=i.getBoundingClientRect();return{top:t.top,right:t.right,bottom:t.bottom,left:t.left,width:t.width,height:t.height,x:t.x,y:t.y}}function $C(i,t,e){const{top:n,bottom:r,left:o,right:d}=i;return e>=n&&e<=r&&t>=o&&t<=d}function Og(i,t,e){i.top+=t,i.bottom=i.top+i.height,i.left+=e,i.right=i.left+i.width}function YC(i,t,e,n){const{top:r,right:o,bottom:d,left:h,width:g,height:b}=i,x=g*t,k=b*t;return n>r-k&&n<d+k&&e>h-x&&e<o+x}class qC{constructor(t){this._document=t,this.positions=new Map}clear(){this.positions.clear()}cache(t){this.clear(),this.positions.set(this._document,{scrollPosition:this.getViewportScrollPosition()}),t.forEach(e=>{this.positions.set(e,{scrollPosition:{top:e.scrollTop,left:e.scrollLeft},clientRect:GC(e)})})}handleScroll(t){const e=go(t),n=this.positions.get(e);if(!n)return null;const r=n.scrollPosition;let o,d;if(e===this._document){const b=this.getViewportScrollPosition();o=b.top,d=b.left}else o=e.scrollTop,d=e.scrollLeft;const h=r.top-o,g=r.left-d;return this.positions.forEach((b,x)=>{b.clientRect&&e!==x&&e.contains(x)&&Og(b.clientRect,h,g)}),r.top=o,r.left=d,{top:h,left:g}}getViewportScrollPosition(){return{top:window.scrollY,left:window.scrollX}}}function WC(i){const t=i.cloneNode(!0),e=t.querySelectorAll("[id]"),n=i.nodeName.toLowerCase();t.removeAttribute("id");for(let r=0;r<e.length;r++)e[r].removeAttribute("id");return"canvas"===n?Xb(i,t):("input"===n||"select"===n||"textarea"===n)&&Qb(i,t),bS("canvas",i,t,Xb),bS("input, textarea, select",i,t,Qb),t}function bS(i,t,e,n){const r=t.querySelectorAll(i);if(r.length){const o=e.querySelectorAll(i);for(let d=0;d<r.length;d++)n(r[d],o[d])}}let yS=0;function Qb(i,t){"file"!==t.type&&(t.value=i.value),"radio"===t.type&&t.name&&(t.name=`mat-clone-${t.name}-${yS++}`)}function Xb(i,t){const e=t.getContext("2d");if(e)try{e.drawImage(i,0,0)}catch{}}const wS=ls({passive:!0}),bo=ls({passive:!1}),Nm=new Set(["position"]);class CS{get disabled(){return this._disabled||!(!this._dropContainer||!this._dropContainer.disabled)}set disabled(t){const e=It(t);e!==this._disabled&&(this._disabled=e,this._toggleNativeDragInteractions(),this._handles.forEach(n=>Fm(n,e)))}constructor(t,e,n,r,o,d){this._config=e,this._document=n,this._ngZone=r,this._viewportRuler=o,this._dragDropRegistry=d,this._passiveTransform={x:0,y:0},this._activeTransform={x:0,y:0},this._hasStartedDragging=!1,this._moveEvents=new nt.x,this._pointerMoveSubscription=xn.w0.EMPTY,this._pointerUpSubscription=xn.w0.EMPTY,this._scrollSubscription=xn.w0.EMPTY,this._resizeSubscription=xn.w0.EMPTY,this._boundaryElement=null,this._nativeInteractionsEnabled=!0,this._handles=[],this._disabledHandles=new Set,this._direction="ltr",this.dragStartDelay=0,this._disabled=!1,this.beforeStarted=new nt.x,this.started=new nt.x,this.released=new nt.x,this.ended=new nt.x,this.entered=new nt.x,this.exited=new nt.x,this.dropped=new nt.x,this.moved=this._moveEvents,this._pointerDown=h=>{if(this.beforeStarted.next(),this._handles.length){const g=this._getTargetHandle(h);g&&!this._disabledHandles.has(g)&&!this.disabled&&this._initializeDragSequence(g,h)}else this.disabled||this._initializeDragSequence(this._rootElement,h)},this._pointerMove=h=>{const g=this._getPointerPositionOnPage(h);if(!this._hasStartedDragging){if(Math.abs(g.x-this._pickupPositionOnPage.x)+Math.abs(g.y-this._pickupPositionOnPage.y)>=this._config.dragStartThreshold){const F=Date.now()>=this._dragStartTime+this._getDragStartDelay(h),H=this._dropContainer;if(!F)return void this._endDragSequence(h);(!H||!H.isDragging()&&!H.isReceiving())&&(h.preventDefault(),this._hasStartedDragging=!0,this._ngZone.run(()=>this._startDragSequence(h)))}return}h.preventDefault();const b=this._getConstrainedPointerPosition(g);if(this._hasMoved=!0,this._lastKnownPointerPosition=g,this._updatePointerDirectionDelta(b),this._dropContainer)this._updateActiveDropContainer(b,g);else{const x=this.constrainPosition?this._initialClientRect:this._pickupPositionOnPage,k=this._activeTransform;k.x=b.x-x.x+this._passiveTransform.x,k.y=b.y-x.y+this._passiveTransform.y,this._applyRootElementTransform(k.x,k.y)}this._moveEvents.observers.length&&this._ngZone.run(()=>{this._moveEvents.next({source:this,pointerPosition:b,event:h,distance:this._getDragDistance(b),delta:this._pointerDirectionDelta})})},this._pointerUp=h=>{this._endDragSequence(h)},this._nativeDragStart=h=>{if(this._handles.length){const g=this._getTargetHandle(h);g&&!this._disabledHandles.has(g)&&!this.disabled&&h.preventDefault()}else this.disabled||h.preventDefault()},this.withRootElement(t).withParent(e.parentDragRef||null),this._parentPositions=new qC(n),d.registerDragItem(this)}getPlaceholderElement(){return this._placeholder}getRootElement(){return this._rootElement}getVisibleElement(){return this.isDragging()?this.getPlaceholderElement():this.getRootElement()}withHandles(t){this._handles=t.map(n=>Tn(n)),this._handles.forEach(n=>Fm(n,this.disabled)),this._toggleNativeDragInteractions();const e=new Set;return this._disabledHandles.forEach(n=>{this._handles.indexOf(n)>-1&&e.add(n)}),this._disabledHandles=e,this}withPreviewTemplate(t){return this._previewTemplate=t,this}withPlaceholderTemplate(t){return this._placeholderTemplate=t,this}withRootElement(t){const e=Tn(t);return e!==this._rootElement&&(this._rootElement&&this._removeRootElementListeners(this._rootElement),this._ngZone.runOutsideAngular(()=>{e.addEventListener("mousedown",this._pointerDown,bo),e.addEventListener("touchstart",this._pointerDown,wS),e.addEventListener("dragstart",this._nativeDragStart,bo)}),this._initialTransform=void 0,this._rootElement=e),typeof SVGElement<"u"&&this._rootElement instanceof SVGElement&&(this._ownerSVGElement=this._rootElement.ownerSVGElement),this}withBoundaryElement(t){return this._boundaryElement=t?Tn(t):null,this._resizeSubscription.unsubscribe(),t&&(this._resizeSubscription=this._viewportRuler.change(10).subscribe(()=>this._containInsideBoundaryOnResize())),this}withParent(t){return this._parentDragRef=t,this}dispose(){this._removeRootElementListeners(this._rootElement),this.isDragging()&&this._rootElement?.remove(),this._anchor?.remove(),this._destroyPreview(),this._destroyPlaceholder(),this._dragDropRegistry.removeDragItem(this),this._removeSubscriptions(),this.beforeStarted.complete(),this.started.complete(),this.released.complete(),this.ended.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this._moveEvents.complete(),this._handles=[],this._disabledHandles.clear(),this._dropContainer=void 0,this._resizeSubscription.unsubscribe(),this._parentPositions.clear(),this._boundaryElement=this._rootElement=this._ownerSVGElement=this._placeholderTemplate=this._previewTemplate=this._anchor=this._parentDragRef=null}isDragging(){return this._hasStartedDragging&&this._dragDropRegistry.isDragging(this)}reset(){this._rootElement.style.transform=this._initialTransform||"",this._activeTransform={x:0,y:0},this._passiveTransform={x:0,y:0}}disableHandle(t){!this._disabledHandles.has(t)&&this._handles.indexOf(t)>-1&&(this._disabledHandles.add(t),Fm(t,!0))}enableHandle(t){this._disabledHandles.has(t)&&(this._disabledHandles.delete(t),Fm(t,this.disabled))}withDirection(t){return this._direction=t,this}_withDropContainer(t){this._dropContainer=t}getFreeDragPosition(){const t=this.isDragging()?this._activeTransform:this._passiveTransform;return{x:t.x,y:t.y}}setFreeDragPosition(t){return this._activeTransform={x:0,y:0},this._passiveTransform.x=t.x,this._passiveTransform.y=t.y,this._dropContainer||this._applyRootElementTransform(t.x,t.y),this}withPreviewContainer(t){return this._previewContainer=t,this}_sortFromLastPointerPosition(){const t=this._lastKnownPointerPosition;t&&this._dropContainer&&this._updateActiveDropContainer(this._getConstrainedPointerPosition(t),t)}_removeSubscriptions(){this._pointerMoveSubscription.unsubscribe(),this._pointerUpSubscription.unsubscribe(),this._scrollSubscription.unsubscribe()}_destroyPreview(){this._preview?.remove(),this._previewRef?.destroy(),this._preview=this._previewRef=null}_destroyPlaceholder(){this._placeholder?.remove(),this._placeholderRef?.destroy(),this._placeholder=this._placeholderRef=null}_endDragSequence(t){if(this._dragDropRegistry.isDragging(this)&&(this._removeSubscriptions(),this._dragDropRegistry.stopDragging(this),this._toggleNativeDragInteractions(),this._handles&&(this._rootElement.style.webkitTapHighlightColor=this._rootElementTapHighlight),this._hasStartedDragging))if(this.released.next({source:this,event:t}),this._dropContainer)this._dropContainer._stopScrolling(),this._animatePreviewToPlaceholder().then(()=>{this._cleanupDragArtifacts(t),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)});else{this._passiveTransform.x=this._activeTransform.x;const e=this._getPointerPositionOnPage(t);this._passiveTransform.y=this._activeTransform.y,this._ngZone.run(()=>{this.ended.next({source:this,distance:this._getDragDistance(e),dropPoint:e,event:t})}),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)}}_startDragSequence(t){Lm(t)&&(this._lastTouchEventTime=Date.now()),this._toggleNativeDragInteractions();const e=this._dropContainer;if(e){const n=this._rootElement,r=n.parentNode,o=this._placeholder=this._createPlaceholderElement(),d=this._anchor=this._anchor||this._document.createComment(""),h=this._getShadowRoot();r.insertBefore(d,n),this._initialTransform=n.style.transform||"",this._preview=this._createPreviewElement(),zC(n,!1,Nm),this._document.body.appendChild(r.replaceChild(o,n)),this._getPreviewInsertionPoint(r,h).appendChild(this._preview),this.started.next({source:this,event:t}),e.start(),this._initialContainer=e,this._initialIndex=e.getItemIndex(this)}else this.started.next({source:this,event:t}),this._initialContainer=this._initialIndex=void 0;this._parentPositions.cache(e?e.getScrollableParents():[])}_initializeDragSequence(t,e){this._parentDragRef&&e.stopPropagation();const n=this.isDragging(),r=Lm(e),o=!r&&0!==e.button,d=this._rootElement,h=go(e),g=!r&&this._lastTouchEventTime&&this._lastTouchEventTime+800>Date.now(),b=r?Ig(e):Mg(e);if(h&&h.draggable&&"mousedown"===e.type&&e.preventDefault(),n||o||g||b)return;if(this._handles.length){const T=d.style;this._rootElementTapHighlight=T.webkitTapHighlightColor||"",T.webkitTapHighlightColor="transparent"}this._hasStartedDragging=this._hasMoved=!1,this._removeSubscriptions(),this._initialClientRect=this._rootElement.getBoundingClientRect(),this._pointerMoveSubscription=this._dragDropRegistry.pointerMove.subscribe(this._pointerMove),this._pointerUpSubscription=this._dragDropRegistry.pointerUp.subscribe(this._pointerUp),this._scrollSubscription=this._dragDropRegistry.scrolled(this._getShadowRoot()).subscribe(T=>this._updateOnScroll(T)),this._boundaryElement&&(this._boundaryRect=GC(this._boundaryElement));const x=this._previewTemplate;this._pickupPositionInElement=x&&x.template&&!x.matchSize?{x:0,y:0}:this._getPointerPositionInElement(this._initialClientRect,t,e);const k=this._pickupPositionOnPage=this._lastKnownPointerPosition=this._getPointerPositionOnPage(e);this._pointerDirectionDelta={x:0,y:0},this._pointerPositionAtLastDirectionChange={x:k.x,y:k.y},this._dragStartTime=Date.now(),this._dragDropRegistry.startDragging(this,e)}_cleanupDragArtifacts(t){zC(this._rootElement,!0,Nm),this._anchor.parentNode.replaceChild(this._rootElement,this._anchor),this._destroyPreview(),this._destroyPlaceholder(),this._initialClientRect=this._boundaryRect=this._previewRect=this._initialTransform=void 0,this._ngZone.run(()=>{const e=this._dropContainer,n=e.getItemIndex(this),r=this._getPointerPositionOnPage(t),o=this._getDragDistance(r),d=e._isOverContainer(r.x,r.y);this.ended.next({source:this,distance:o,dropPoint:r,event:t}),this.dropped.next({item:this,currentIndex:n,previousIndex:this._initialIndex,container:e,previousContainer:this._initialContainer,isPointerOverContainer:d,distance:o,dropPoint:r,event:t}),e.drop(this,n,this._initialIndex,this._initialContainer,d,o,r,t),this._dropContainer=this._initialContainer})}_updateActiveDropContainer({x:t,y:e},{x:n,y:r}){let o=this._initialContainer._getSiblingContainerFromPosition(this,t,e);!o&&this._dropContainer!==this._initialContainer&&this._initialContainer._isOverContainer(t,e)&&(o=this._initialContainer),o&&o!==this._dropContainer&&this._ngZone.run(()=>{this.exited.next({item:this,container:this._dropContainer}),this._dropContainer.exit(this),this._dropContainer=o,this._dropContainer.enter(this,t,e,o===this._initialContainer&&o.sortingDisabled?this._initialIndex:void 0),this.entered.next({item:this,container:o,currentIndex:o.getItemIndex(this)})}),this.isDragging()&&(this._dropContainer._startScrollingIfNecessary(n,r),this._dropContainer._sortItem(this,t,e,this._pointerDirectionDelta),this.constrainPosition?this._applyPreviewTransform(t,e):this._applyPreviewTransform(t-this._pickupPositionInElement.x,e-this._pickupPositionInElement.y))}_createPreviewElement(){const t=this._previewTemplate,e=this.previewClass,n=t?t.template:null;let r;if(n&&t){const o=t.matchSize?this._initialClientRect:null,d=t.viewContainer.createEmbeddedView(n,t.context);d.detectChanges(),r=Pg(d,this._document),this._previewRef=d,t.matchSize?ZC(r,o):r.style.transform=Jb(this._pickupPositionOnPage.x,this._pickupPositionOnPage.y)}else r=WC(this._rootElement),ZC(r,this._initialClientRect),this._initialTransform&&(r.style.transform=this._initialTransform);return Zb(r.style,{"pointer-events":"none",margin:"0",position:"fixed",top:"0",left:"0","z-index":`${this._config.zIndex||1e3}`},Nm),Fm(r,!1),r.classList.add("cdk-drag-preview"),r.setAttribute("dir",this._direction),e&&(Array.isArray(e)?e.forEach(o=>r.classList.add(o)):r.classList.add(e)),r}_animatePreviewToPlaceholder(){if(!this._hasMoved)return Promise.resolve();const t=this._placeholder.getBoundingClientRect();this._preview.classList.add("cdk-drag-animating"),this._applyPreviewTransform(t.left,t.top);const e=function Rg(i){const t=getComputedStyle(i),e=Kb(t,"transition-property"),n=e.find(h=>"transform"===h||"all"===h);if(!n)return 0;const r=e.indexOf(n),o=Kb(t,"transition-duration"),d=Kb(t,"transition-delay");return jC(o[r])+jC(d[r])}(this._preview);return 0===e?Promise.resolve():this._ngZone.runOutsideAngular(()=>new Promise(n=>{const r=d=>{(!d||go(d)===this._preview&&"transform"===d.propertyName)&&(this._preview?.removeEventListener("transitionend",r),n(),clearTimeout(o))},o=setTimeout(r,1.5*e);this._preview.addEventListener("transitionend",r)}))}_createPlaceholderElement(){const t=this._placeholderTemplate,e=t?t.template:null;let n;return e?(this._placeholderRef=t.viewContainer.createEmbeddedView(e,t.context),this._placeholderRef.detectChanges(),n=Pg(this._placeholderRef,this._document)):n=WC(this._rootElement),n.style.pointerEvents="none",n.classList.add("cdk-drag-placeholder"),n}_getPointerPositionInElement(t,e,n){const r=e===this._rootElement?null:e,o=r?r.getBoundingClientRect():t,d=Lm(n)?n.targetTouches[0]:n,h=this._getViewportScrollPosition();return{x:o.left-t.left+(d.pageX-o.left-h.left),y:o.top-t.top+(d.pageY-o.top-h.top)}}_getPointerPositionOnPage(t){const e=this._getViewportScrollPosition(),n=Lm(t)?t.touches[0]||t.changedTouches[0]||{pageX:0,pageY:0}:t,r=n.pageX-e.left,o=n.pageY-e.top;if(this._ownerSVGElement){const d=this._ownerSVGElement.getScreenCTM();if(d){const h=this._ownerSVGElement.createSVGPoint();return h.x=r,h.y=o,h.matrixTransform(d.inverse())}}return{x:r,y:o}}_getConstrainedPointerPosition(t){const e=this._dropContainer?this._dropContainer.lockAxis:null;let{x:n,y:r}=this.constrainPosition?this.constrainPosition(t,this,this._initialClientRect,this._pickupPositionInElement):t;if("x"===this.lockAxis||"x"===e?r=this._pickupPositionOnPage.y:("y"===this.lockAxis||"y"===e)&&(n=this._pickupPositionOnPage.x),this._boundaryRect){const{x:o,y:d}=this._pickupPositionInElement,h=this._boundaryRect,{width:g,height:b}=this._getPreviewRect(),x=h.top+d,k=h.bottom-(b-d);n=Go(n,h.left+o,h.right-(g-o)),r=Go(r,x,k)}return{x:n,y:r}}_updatePointerDirectionDelta(t){const{x:e,y:n}=t,r=this._pointerDirectionDelta,o=this._pointerPositionAtLastDirectionChange,d=Math.abs(e-o.x),h=Math.abs(n-o.y);return d>this._config.pointerDirectionChangeThreshold&&(r.x=e>o.x?1:-1,o.x=e),h>this._config.pointerDirectionChangeThreshold&&(r.y=n>o.y?1:-1,o.y=n),r}_toggleNativeDragInteractions(){if(!this._rootElement||!this._handles)return;const t=this._handles.length>0||!this.isDragging();t!==this._nativeInteractionsEnabled&&(this._nativeInteractionsEnabled=t,Fm(this._rootElement,t))}_removeRootElementListeners(t){t.removeEventListener("mousedown",this._pointerDown,bo),t.removeEventListener("touchstart",this._pointerDown,wS),t.removeEventListener("dragstart",this._nativeDragStart,bo)}_applyRootElementTransform(t,e){const n=Jb(t,e),r=this._rootElement.style;null==this._initialTransform&&(this._initialTransform=r.transform&&"none"!=r.transform?r.transform:""),r.transform=Ag(n,this._initialTransform)}_applyPreviewTransform(t,e){const n=this._previewTemplate?.template?void 0:this._initialTransform,r=Jb(t,e);this._preview.style.transform=Ag(r,n)}_getDragDistance(t){const e=this._pickupPositionOnPage;return e?{x:t.x-e.x,y:t.y-e.y}:{x:0,y:0}}_cleanupCachedDimensions(){this._boundaryRect=this._previewRect=void 0,this._parentPositions.clear()}_containInsideBoundaryOnResize(){let{x:t,y:e}=this._passiveTransform;if(0===t&&0===e||this.isDragging()||!this._boundaryElement)return;const n=this._rootElement.getBoundingClientRect(),r=this._boundaryElement.getBoundingClientRect();if(0===r.width&&0===r.height||0===n.width&&0===n.height)return;const o=r.left-n.left,d=n.right-r.right,h=r.top-n.top,g=n.bottom-r.bottom;r.width>n.width?(o>0&&(t+=o),d>0&&(t-=d)):t=0,r.height>n.height?(h>0&&(e+=h),g>0&&(e-=g)):e=0,(t!==this._passiveTransform.x||e!==this._passiveTransform.y)&&this.setFreeDragPosition({y:e,x:t})}_getDragStartDelay(t){const e=this.dragStartDelay;return"number"==typeof e?e:Lm(t)?e.touch:e?e.mouse:0}_updateOnScroll(t){const e=this._parentPositions.handleScroll(t);if(e){const n=go(t);this._boundaryRect&&n!==this._boundaryElement&&n.contains(this._boundaryElement)&&Og(this._boundaryRect,e.top,e.left),this._pickupPositionOnPage.x+=e.left,this._pickupPositionOnPage.y+=e.top,this._dropContainer||(this._activeTransform.x-=e.left,this._activeTransform.y-=e.top,this._applyRootElementTransform(this._activeTransform.x,this._activeTransform.y))}}_getViewportScrollPosition(){return this._parentPositions.positions.get(this._document)?.scrollPosition||this._parentPositions.getViewportScrollPosition()}_getShadowRoot(){return void 0===this._cachedShadowRoot&&(this._cachedShadowRoot=Ib(this._rootElement)),this._cachedShadowRoot}_getPreviewInsertionPoint(t,e){const n=this._previewContainer||"global";if("parent"===n)return t;if("global"===n){const r=this._document;return e||r.fullscreenElement||r.webkitFullscreenElement||r.mozFullScreenElement||r.msFullscreenElement||r.body}return Tn(n)}_getPreviewRect(){return(!this._previewRect||!this._previewRect.width&&!this._previewRect.height)&&(this._previewRect=this._preview?this._preview.getBoundingClientRect():this._initialClientRect),this._previewRect}_getTargetHandle(t){return this._handles.find(e=>t.target&&(t.target===e||e.contains(t.target)))}}function Jb(i,t){return`translate3d(${Math.round(i)}px, ${Math.round(t)}px, 0)`}function Go(i,t,e){return Math.max(t,Math.min(e,i))}function Lm(i){return"t"===i.type[0]}function Pg(i,t){const e=i.rootNodes;if(1===e.length&&e[0].nodeType===t.ELEMENT_NODE)return e[0];const n=t.createElement("div");return e.forEach(r=>n.appendChild(r)),n}function ZC(i,t){i.style.width=`${t.width}px`,i.style.height=`${t.height}px`,i.style.transform=Jb(t.left,t.top)}function Eu(i,t){return Math.max(0,Math.min(t,i))}class kS{constructor(t,e){this._element=t,this._dragDropRegistry=e,this._itemPositions=[],this.orientation="vertical",this._previousSwap={drag:null,delta:0,overlaps:!1}}start(t){this.withItems(t)}sort(t,e,n,r){const o=this._itemPositions,d=this._getItemIndexFromPointerPosition(t,e,n,r);if(-1===d&&o.length>0)return null;const h="horizontal"===this.orientation,g=o.findIndex(ne=>ne.drag===t),b=o[d],k=b.clientRect,T=g>d?1:-1,F=this._getItemOffsetPx(o[g].clientRect,k,T),H=this._getSiblingOffsetPx(g,o,T),X=o.slice();return function DS(i,t,e){const n=Eu(t,i.length-1),r=Eu(e,i.length-1);if(n===r)return;const o=i[n],d=r<n?-1:1;for(let h=n;h!==r;h+=d)i[h]=i[h+d];i[r]=o}(o,g,d),o.forEach((ne,je)=>{if(X[je]===ne)return;const Ct=ne.drag===t,wt=Ct?F:H,Rt=Ct?t.getPlaceholderElement():ne.drag.getRootElement();ne.offset+=wt,h?(Rt.style.transform=Ag(`translate3d(${Math.round(ne.offset)}px, 0, 0)`,ne.initialTransform),Og(ne.clientRect,0,wt)):(Rt.style.transform=Ag(`translate3d(0, ${Math.round(ne.offset)}px, 0)`,ne.initialTransform),Og(ne.clientRect,wt,0))}),this._previousSwap.overlaps=$C(k,e,n),this._previousSwap.drag=b.drag,this._previousSwap.delta=h?r.x:r.y,{previousIndex:g,currentIndex:d}}enter(t,e,n,r){const o=null==r||r<0?this._getItemIndexFromPointerPosition(t,e,n):r,d=this._activeDraggables,h=d.indexOf(t),g=t.getPlaceholderElement();let b=d[o];if(b===t&&(b=d[o+1]),!b&&(null==o||-1===o||o<d.length-1)&&this._shouldEnterAsFirstChild(e,n)&&(b=d[0]),h>-1&&d.splice(h,1),b&&!this._dragDropRegistry.isDragging(b)){const x=b.getRootElement();x.parentElement.insertBefore(g,x),d.splice(o,0,t)}else Tn(this._element).appendChild(g),d.push(t);g.style.transform="",this._cacheItemPositions()}withItems(t){this._activeDraggables=t.slice(),this._cacheItemPositions()}withSortPredicate(t){this._sortPredicate=t}reset(){this._activeDraggables.forEach(t=>{const e=t.getRootElement();if(e){const n=this._itemPositions.find(r=>r.drag===t)?.initialTransform;e.style.transform=n||""}}),this._itemPositions=[],this._activeDraggables=[],this._previousSwap.drag=null,this._previousSwap.delta=0,this._previousSwap.overlaps=!1}getActiveItemsSnapshot(){return this._activeDraggables}getItemIndex(t){return("horizontal"===this.orientation&&"rtl"===this.direction?this._itemPositions.slice().reverse():this._itemPositions).findIndex(n=>n.drag===t)}updateOnScroll(t,e){this._itemPositions.forEach(({clientRect:n})=>{Og(n,t,e)}),this._itemPositions.forEach(({drag:n})=>{this._dragDropRegistry.isDragging(n)&&n._sortFromLastPointerPosition()})}_cacheItemPositions(){const t="horizontal"===this.orientation;this._itemPositions=this._activeDraggables.map(e=>{const n=e.getVisibleElement();return{drag:e,offset:0,initialTransform:n.style.transform||"",clientRect:GC(n)}}).sort((e,n)=>t?e.clientRect.left-n.clientRect.left:e.clientRect.top-n.clientRect.top)}_getItemOffsetPx(t,e,n){const r="horizontal"===this.orientation;let o=r?e.left-t.left:e.top-t.top;return-1===n&&(o+=r?e.width-t.width:e.height-t.height),o}_getSiblingOffsetPx(t,e,n){const r="horizontal"===this.orientation,o=e[t].clientRect,d=e[t+-1*n];let h=o[r?"width":"height"]*n;if(d){const g=r?"left":"top",b=r?"right":"bottom";-1===n?h-=d.clientRect[g]-o[b]:h+=o[g]-d.clientRect[b]}return h}_shouldEnterAsFirstChild(t,e){if(!this._activeDraggables.length)return!1;const n=this._itemPositions,r="horizontal"===this.orientation;if(n[0].drag!==this._activeDraggables[0]){const d=n[n.length-1].clientRect;return r?t>=d.right:e>=d.bottom}{const d=n[0].clientRect;return r?t<=d.left:e<=d.top}}_getItemIndexFromPointerPosition(t,e,n,r){const o="horizontal"===this.orientation,d=this._itemPositions.findIndex(({drag:h,clientRect:g})=>h!==t&&((!r||h!==this._previousSwap.drag||!this._previousSwap.overlaps||(o?r.x:r.y)!==this._previousSwap.delta)&&(o?e>=Math.floor(g.left)&&e<Math.floor(g.right):n>=Math.floor(g.top)&&n<Math.floor(g.bottom))));return-1!==d&&this._sortPredicate(d,t)?d:-1}}const iy=.05;class MS{constructor(t,e,n,r,o){this._dragDropRegistry=e,this._ngZone=r,this._viewportRuler=o,this.disabled=!1,this.sortingDisabled=!1,this.autoScrollDisabled=!1,this.autoScrollStep=2,this.enterPredicate=()=>!0,this.sortPredicate=()=>!0,this.beforeStarted=new nt.x,this.entered=new nt.x,this.exited=new nt.x,this.dropped=new nt.x,this.sorted=new nt.x,this.receivingStarted=new nt.x,this.receivingStopped=new nt.x,this._isDragging=!1,this._draggables=[],this._siblings=[],this._activeSiblings=new Set,this._viewportScrollSubscription=xn.w0.EMPTY,this._verticalScrollDirection=0,this._horizontalScrollDirection=0,this._stopScrollTimers=new nt.x,this._cachedShadowRoot=null,this._startScrollInterval=()=>{this._stopScrolling(),function Wb(i=0,t=km.z){return i<0&&(i=0),hg(i,i,t)}(0,aI).pipe(Mi(this._stopScrollTimers)).subscribe(()=>{const d=this._scrollNode,h=this.autoScrollStep;1===this._verticalScrollDirection?d.scrollBy(0,-h):2===this._verticalScrollDirection&&d.scrollBy(0,h),1===this._horizontalScrollDirection?d.scrollBy(-h,0):2===this._horizontalScrollDirection&&d.scrollBy(h,0)})},this.element=Tn(t),this._document=n,this.withScrollableParents([this.element]),e.registerDropContainer(this),this._parentPositions=new qC(n),this._sortStrategy=new kS(this.element,e),this._sortStrategy.withSortPredicate((d,h)=>this.sortPredicate(d,h,this))}dispose(){this._stopScrolling(),this._stopScrollTimers.complete(),this._viewportScrollSubscription.unsubscribe(),this.beforeStarted.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this.sorted.complete(),this.receivingStarted.complete(),this.receivingStopped.complete(),this._activeSiblings.clear(),this._scrollNode=null,this._parentPositions.clear(),this._dragDropRegistry.removeDropContainer(this)}isDragging(){return this._isDragging}start(){this._draggingStarted(),this._notifyReceivingSiblings()}enter(t,e,n,r){this._draggingStarted(),null==r&&this.sortingDisabled&&(r=this._draggables.indexOf(t)),this._sortStrategy.enter(t,e,n,r),this._cacheParentPositions(),this._notifyReceivingSiblings(),this.entered.next({item:t,container:this,currentIndex:this.getItemIndex(t)})}exit(t){this._reset(),this.exited.next({item:t,container:this})}drop(t,e,n,r,o,d,h,g={}){this._reset(),this.dropped.next({item:t,currentIndex:e,previousIndex:n,container:this,previousContainer:r,isPointerOverContainer:o,distance:d,dropPoint:h,event:g})}withItems(t){const e=this._draggables;return this._draggables=t,t.forEach(n=>n._withDropContainer(this)),this.isDragging()&&(e.filter(r=>r.isDragging()).every(r=>-1===t.indexOf(r))?this._reset():this._sortStrategy.withItems(this._draggables)),this}withDirection(t){return this._sortStrategy.direction=t,this}connectedTo(t){return this._siblings=t.slice(),this}withOrientation(t){return this._sortStrategy.orientation=t,this}withScrollableParents(t){const e=Tn(this.element);return this._scrollableElements=-1===t.indexOf(e)?[e,...t]:t.slice(),this}getScrollableParents(){return this._scrollableElements}getItemIndex(t){return this._isDragging?this._sortStrategy.getItemIndex(t):this._draggables.indexOf(t)}isReceiving(){return this._activeSiblings.size>0}_sortItem(t,e,n,r){if(this.sortingDisabled||!this._clientRect||!YC(this._clientRect,.05,e,n))return;const o=this._sortStrategy.sort(t,e,n,r);o&&this.sorted.next({previousIndex:o.previousIndex,currentIndex:o.currentIndex,container:this,item:t})}_startScrollingIfNecessary(t,e){if(this.autoScrollDisabled)return;let n,r=0,o=0;if(this._parentPositions.positions.forEach((d,h)=>{h===this._document||!d.clientRect||n||YC(d.clientRect,.05,t,e)&&([r,o]=function ry(i,t,e,n){const r=ny(t,n),o=KC(t,e);let d=0,h=0;if(r){const g=i.scrollTop;1===r?g>0&&(d=1):i.scrollHeight-g>i.clientHeight&&(d=2)}if(o){const g=i.scrollLeft;1===o?g>0&&(h=1):i.scrollWidth-g>i.clientWidth&&(h=2)}return[d,h]}(h,d.clientRect,t,e),(r||o)&&(n=h))}),!r&&!o){const{width:d,height:h}=this._viewportRuler.getViewportSize(),g={width:d,height:h,top:0,right:d,bottom:h,left:0};r=ny(g,e),o=KC(g,t),n=window}n&&(r!==this._verticalScrollDirection||o!==this._horizontalScrollDirection||n!==this._scrollNode)&&(this._verticalScrollDirection=r,this._horizontalScrollDirection=o,this._scrollNode=n,(r||o)&&n?this._ngZone.runOutsideAngular(this._startScrollInterval):this._stopScrolling())}_stopScrolling(){this._stopScrollTimers.next()}_draggingStarted(){const t=Tn(this.element).style;this.beforeStarted.next(),this._isDragging=!0,this._initialScrollSnap=t.msScrollSnapType||t.scrollSnapType||"",t.scrollSnapType=t.msScrollSnapType="none",this._sortStrategy.start(this._draggables),this._cacheParentPositions(),this._viewportScrollSubscription.unsubscribe(),this._listenToScrollEvents()}_cacheParentPositions(){const t=Tn(this.element);this._parentPositions.cache(this._scrollableElements),this._clientRect=this._parentPositions.positions.get(t).clientRect}_reset(){this._isDragging=!1;const t=Tn(this.element).style;t.scrollSnapType=t.msScrollSnapType=this._initialScrollSnap,this._siblings.forEach(e=>e._stopReceiving(this)),this._sortStrategy.reset(),this._stopScrolling(),this._viewportScrollSubscription.unsubscribe(),this._parentPositions.clear()}_isOverContainer(t,e){return null!=this._clientRect&&$C(this._clientRect,t,e)}_getSiblingContainerFromPosition(t,e,n){return this._siblings.find(r=>r._canReceive(t,e,n))}_canReceive(t,e,n){if(!this._clientRect||!$C(this._clientRect,e,n)||!this.enterPredicate(t,this))return!1;const r=this._getShadowRoot().elementFromPoint(e,n);if(!r)return!1;const o=Tn(this.element);return r===o||o.contains(r)}_startReceiving(t,e){const n=this._activeSiblings;!n.has(t)&&e.every(r=>this.enterPredicate(r,this)||this._draggables.indexOf(r)>-1)&&(n.add(t),this._cacheParentPositions(),this._listenToScrollEvents(),this.receivingStarted.next({initiator:t,receiver:this,items:e}))}_stopReceiving(t){this._activeSiblings.delete(t),this._viewportScrollSubscription.unsubscribe(),this.receivingStopped.next({initiator:t,receiver:this})}_listenToScrollEvents(){this._viewportScrollSubscription=this._dragDropRegistry.scrolled(this._getShadowRoot()).subscribe(t=>{if(this.isDragging()){const e=this._parentPositions.handleScroll(t);e&&this._sortStrategy.updateOnScroll(e.top,e.left)}else this.isReceiving()&&this._cacheParentPositions()})}_getShadowRoot(){if(!this._cachedShadowRoot){const t=Ib(Tn(this.element));this._cachedShadowRoot=t||this._document}return this._cachedShadowRoot}_notifyReceivingSiblings(){const t=this._sortStrategy.getActiveItemsSnapshot().filter(e=>e.isDragging());this._siblings.forEach(e=>e._startReceiving(this,t))}}function ny(i,t){const{top:e,bottom:n,height:r}=i,o=r*iy;return t>=e-o&&t<=e+o?1:t>=n-o&&t<=n+o?2:0}function KC(i,t){const{left:e,right:n,width:r}=i,o=r*iy;return t>=e-o&&t<=e+o?1:t>=n-o&&t<=n+o?2:0}const hs=ls({passive:!1,capture:!0});let qc=(()=>{class i{constructor(e,n){this._ngZone=e,this._dropInstances=new Set,this._dragInstances=new Set,this._activeDragInstances=[],this._globalListeners=new Map,this._draggingPredicate=r=>r.isDragging(),this.pointerMove=new nt.x,this.pointerUp=new nt.x,this.scroll=new nt.x,this._preventDefaultWhileDragging=r=>{this._activeDragInstances.length>0&&r.preventDefault()},this._persistentTouchmoveListener=r=>{this._activeDragInstances.length>0&&(this._activeDragInstances.some(this._draggingPredicate)&&r.preventDefault(),this.pointerMove.next(r))},this._document=n}registerDropContainer(e){this._dropInstances.has(e)||this._dropInstances.add(e)}registerDragItem(e){this._dragInstances.add(e),1===this._dragInstances.size&&this._ngZone.runOutsideAngular(()=>{this._document.addEventListener("touchmove",this._persistentTouchmoveListener,hs)})}removeDropContainer(e){this._dropInstances.delete(e)}removeDragItem(e){this._dragInstances.delete(e),this.stopDragging(e),0===this._dragInstances.size&&this._document.removeEventListener("touchmove",this._persistentTouchmoveListener,hs)}startDragging(e,n){if(!(this._activeDragInstances.indexOf(e)>-1)&&(this._activeDragInstances.push(e),1===this._activeDragInstances.length)){const r=n.type.startsWith("touch");this._globalListeners.set(r?"touchend":"mouseup",{handler:o=>this.pointerUp.next(o),options:!0}).set("scroll",{handler:o=>this.scroll.next(o),options:!0}).set("selectstart",{handler:this._preventDefaultWhileDragging,options:hs}),r||this._globalListeners.set("mousemove",{handler:o=>this.pointerMove.next(o),options:hs}),this._ngZone.runOutsideAngular(()=>{this._globalListeners.forEach((o,d)=>{this._document.addEventListener(d,o.handler,o.options)})})}}stopDragging(e){const n=this._activeDragInstances.indexOf(e);n>-1&&(this._activeDragInstances.splice(n,1),0===this._activeDragInstances.length&&this._clearGlobalListeners())}isDragging(e){return this._activeDragInstances.indexOf(e)>-1}scrolled(e){const n=[this.scroll];return e&&e!==this._document&&n.push(new vn.y(r=>this._ngZone.runOutsideAngular(()=>{const d=h=>{this._activeDragInstances.length&&r.next(h)};return e.addEventListener("scroll",d,!0),()=>{e.removeEventListener("scroll",d,!0)}}))),(0,Br.T)(...n)}ngOnDestroy(){this._dragInstances.forEach(e=>this.removeDragItem(e)),this._dropInstances.forEach(e=>this.removeDropContainer(e)),this._clearGlobalListeners(),this.pointerMove.complete(),this.pointerUp.complete()}_clearGlobalListeners(){this._globalListeners.forEach((e,n)=>{this._document.removeEventListener(n,e.handler,e.options)}),this._globalListeners.clear()}}return i.\u0275fac=function(e){return new(e||i)(s.LFG(s.R0b),s.LFG(K))},i.\u0275prov=s.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();const QC={dragStartThreshold:5,pointerDirectionChangeThreshold:5};let Bm=(()=>{class i{constructor(e,n,r,o){this._document=e,this._ngZone=n,this._viewportRuler=r,this._dragDropRegistry=o}createDrag(e,n=QC){return new CS(e,n,this._document,this._ngZone,this._viewportRuler,this._dragDropRegistry)}createDropList(e){return new MS(e,this._dragDropRegistry,this._document,this._ngZone,this._viewportRuler)}}return i.\u0275fac=function(e){return new(e||i)(s.LFG(K),s.LFG(s.R0b),s.LFG(yu),s.LFG(qc))},i.\u0275prov=s.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();const Fg=new s.OlP("CDK_DRAG_PARENT"),oy=new s.OlP("CdkDropListGroup"),XC=new s.OlP("CDK_DRAG_CONFIG");let IS=0;const JC=new s.OlP("CdkDropList");let sy=(()=>{class i{get disabled(){return this._disabled||!!this._group&&this._group.disabled}set disabled(e){this._dropListRef.disabled=this._disabled=It(e)}constructor(e,n,r,o,d,h,g){this.element=e,this._changeDetectorRef=r,this._scrollDispatcher=o,this._dir=d,this._group=h,this._destroyed=new nt.x,this.connectedTo=[],this.id="cdk-drop-list-"+IS++,this.enterPredicate=()=>!0,this.sortPredicate=()=>!0,this.dropped=new s.vpe,this.entered=new s.vpe,this.exited=new s.vpe,this.sorted=new s.vpe,this._unsortedItems=new Set,this._dropListRef=n.createDropList(e),this._dropListRef.data=this,g&&this._assignDefaults(g),this._dropListRef.enterPredicate=(b,x)=>this.enterPredicate(b.data,x.data),this._dropListRef.sortPredicate=(b,x,k)=>this.sortPredicate(b,x.data,k.data),this._setupInputSyncSubscription(this._dropListRef),this._handleEvents(this._dropListRef),i._dropLists.push(this),h&&h._items.add(this)}addItem(e){this._unsortedItems.add(e),this._dropListRef.isDragging()&&this._syncItemsWithRef()}removeItem(e){this._unsortedItems.delete(e),this._dropListRef.isDragging()&&this._syncItemsWithRef()}getSortedItems(){return Array.from(this._unsortedItems).sort((e,n)=>e._dragRef.getVisibleElement().compareDocumentPosition(n._dragRef.getVisibleElement())&Node.DOCUMENT_POSITION_FOLLOWING?-1:1)}ngOnDestroy(){const e=i._dropLists.indexOf(this);e>-1&&i._dropLists.splice(e,1),this._group&&this._group._items.delete(this),this._unsortedItems.clear(),this._dropListRef.dispose(),this._destroyed.next(),this._destroyed.complete()}_setupInputSyncSubscription(e){this._dir&&this._dir.change.pipe(sr(this._dir.value),Mi(this._destroyed)).subscribe(n=>e.withDirection(n)),e.beforeStarted.subscribe(()=>{const n=Dm(this.connectedTo).map(r=>"string"==typeof r?i._dropLists.find(d=>d.id===r):r);if(this._group&&this._group._items.forEach(r=>{-1===n.indexOf(r)&&n.push(r)}),!this._scrollableParentsResolved){const r=this._scrollDispatcher.getAncestorScrollContainers(this.element).map(o=>o.getElementRef().nativeElement);this._dropListRef.withScrollableParents(r),this._scrollableParentsResolved=!0}e.disabled=this.disabled,e.lockAxis=this.lockAxis,e.sortingDisabled=It(this.sortingDisabled),e.autoScrollDisabled=It(this.autoScrollDisabled),e.autoScrollStep=hr(this.autoScrollStep,2),e.connectedTo(n.filter(r=>r&&r!==this).map(r=>r._dropListRef)).withOrientation(this.orientation)})}_handleEvents(e){e.beforeStarted.subscribe(()=>{this._syncItemsWithRef(),this._changeDetectorRef.markForCheck()}),e.entered.subscribe(n=>{this.entered.emit({container:this,item:n.item.data,currentIndex:n.currentIndex})}),e.exited.subscribe(n=>{this.exited.emit({container:this,item:n.item.data}),this._changeDetectorRef.markForCheck()}),e.sorted.subscribe(n=>{this.sorted.emit({previousIndex:n.previousIndex,currentIndex:n.currentIndex,container:this,item:n.item.data})}),e.dropped.subscribe(n=>{this.dropped.emit({previousIndex:n.previousIndex,currentIndex:n.currentIndex,previousContainer:n.previousContainer.data,container:n.container.data,item:n.item.data,isPointerOverContainer:n.isPointerOverContainer,distance:n.distance,dropPoint:n.dropPoint,event:n.event}),this._changeDetectorRef.markForCheck()}),(0,Br.T)(e.receivingStarted,e.receivingStopped).subscribe(()=>this._changeDetectorRef.markForCheck())}_assignDefaults(e){const{lockAxis:n,draggingDisabled:r,sortingDisabled:o,listAutoScrollDisabled:d,listOrientation:h}=e;this.disabled=r??!1,this.sortingDisabled=o??!1,this.autoScrollDisabled=d??!1,this.orientation=h||"vertical",n&&(this.lockAxis=n)}_syncItemsWithRef(){this._dropListRef.withItems(this.getSortedItems().map(e=>e._dragRef))}}return i._dropLists=[],i.\u0275fac=function(e){return new(e||i)(s.Y36(s.SBq),s.Y36(Bm),s.Y36(s.sBO),s.Y36(ec),s.Y36(_o,8),s.Y36(oy,12),s.Y36(XC,8))},i.\u0275dir=s.lG2({type:i,selectors:[["","cdkDropList",""],["cdk-drop-list"]],hostAttrs:[1,"cdk-drop-list"],hostVars:7,hostBindings:function(e,n){2&e&&(s.uIk("id",n.id),s.ekj("cdk-drop-list-disabled",n.disabled)("cdk-drop-list-dragging",n._dropListRef.isDragging())("cdk-drop-list-receiving",n._dropListRef.isReceiving()))},inputs:{connectedTo:["cdkDropListConnectedTo","connectedTo"],data:["cdkDropListData","data"],orientation:["cdkDropListOrientation","orientation"],id:"id",lockAxis:["cdkDropListLockAxis","lockAxis"],disabled:["cdkDropListDisabled","disabled"],sortingDisabled:["cdkDropListSortingDisabled","sortingDisabled"],enterPredicate:["cdkDropListEnterPredicate","enterPredicate"],sortPredicate:["cdkDropListSortPredicate","sortPredicate"],autoScrollDisabled:["cdkDropListAutoScrollDisabled","autoScrollDisabled"],autoScrollStep:["cdkDropListAutoScrollStep","autoScrollStep"]},outputs:{dropped:"cdkDropListDropped",entered:"cdkDropListEntered",exited:"cdkDropListExited",sorted:"cdkDropListSorted"},exportAs:["cdkDropList"],standalone:!0,features:[s._Bn([{provide:oy,useValue:void 0},{provide:JC,useExisting:i}])]}),i})();const eD=new s.OlP("CdkDragHandle"),iD=new s.OlP("CdkDragPlaceholder"),SS=new s.OlP("CdkDragPreview");let cy=(()=>{class i{get disabled(){return this._disabled||this.dropContainer&&this.dropContainer.disabled}set disabled(e){this._disabled=It(e),this._dragRef.disabled=this._disabled}constructor(e,n,r,o,d,h,g,b,x,k,T){this.element=e,this.dropContainer=n,this._ngZone=o,this._viewContainerRef=d,this._dir=g,this._changeDetectorRef=x,this._selfHandle=k,this._parentDrag=T,this._destroyed=new nt.x,this.started=new s.vpe,this.released=new s.vpe,this.ended=new s.vpe,this.entered=new s.vpe,this.exited=new s.vpe,this.dropped=new s.vpe,this.moved=new vn.y(F=>{const H=this._dragRef.moved.pipe((0,kt.U)(X=>({source:this,pointerPosition:X.pointerPosition,event:X.event,delta:X.delta,distance:X.distance}))).subscribe(F);return()=>{H.unsubscribe()}}),this._dragRef=b.createDrag(e,{dragStartThreshold:h&&null!=h.dragStartThreshold?h.dragStartThreshold:5,pointerDirectionChangeThreshold:h&&null!=h.pointerDirectionChangeThreshold?h.pointerDirectionChangeThreshold:5,zIndex:h?.zIndex}),this._dragRef.data=this,i._dragInstances.push(this),h&&this._assignDefaults(h),n&&(this._dragRef._withDropContainer(n._dropListRef),n.addItem(this)),this._syncInputs(this._dragRef),this._handleEvents(this._dragRef)}getPlaceholderElement(){return this._dragRef.getPlaceholderElement()}getRootElement(){return this._dragRef.getRootElement()}reset(){this._dragRef.reset()}getFreeDragPosition(){return this._dragRef.getFreeDragPosition()}setFreeDragPosition(e){this._dragRef.setFreeDragPosition(e)}ngAfterViewInit(){this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe(Gi(1),Mi(this._destroyed)).subscribe(()=>{this._updateRootElement(),this._setupHandlesListener(),this.freeDragPosition&&this._dragRef.setFreeDragPosition(this.freeDragPosition)})})}ngOnChanges(e){const n=e.rootElementSelector,r=e.freeDragPosition;n&&!n.firstChange&&this._updateRootElement(),r&&!r.firstChange&&this.freeDragPosition&&this._dragRef.setFreeDragPosition(this.freeDragPosition)}ngOnDestroy(){this.dropContainer&&this.dropContainer.removeItem(this);const e=i._dragInstances.indexOf(this);e>-1&&i._dragInstances.splice(e,1),this._ngZone.runOutsideAngular(()=>{this._destroyed.next(),this._destroyed.complete(),this._dragRef.dispose()})}_updateRootElement(){const e=this.element.nativeElement;let n=e;this.rootElementSelector&&(n=void 0!==e.closest?e.closest(this.rootElementSelector):e.parentElement?.closest(this.rootElementSelector)),this._dragRef.withRootElement(n||e)}_getBoundaryElement(){const e=this.boundaryElement;return e?"string"==typeof e?this.element.nativeElement.closest(e):Tn(e):null}_syncInputs(e){e.beforeStarted.subscribe(()=>{if(!e.isDragging()){const n=this._dir,r=this.dragStartDelay,o=this._placeholderTemplate?{template:this._placeholderTemplate.templateRef,context:this._placeholderTemplate.data,viewContainer:this._viewContainerRef}:null,d=this._previewTemplate?{template:this._previewTemplate.templateRef,context:this._previewTemplate.data,matchSize:this._previewTemplate.matchSize,viewContainer:this._viewContainerRef}:null;e.disabled=this.disabled,e.lockAxis=this.lockAxis,e.dragStartDelay="object"==typeof r&&r?r:hr(r),e.constrainPosition=this.constrainPosition,e.previewClass=this.previewClass,e.withBoundaryElement(this._getBoundaryElement()).withPlaceholderTemplate(o).withPreviewTemplate(d).withPreviewContainer(this.previewContainer||"global"),n&&e.withDirection(n.value)}}),e.beforeStarted.pipe(Gi(1)).subscribe(()=>{if(this._parentDrag)return void e.withParent(this._parentDrag._dragRef);let n=this.element.nativeElement.parentElement;for(;n;){if(n.classList.contains("cdk-drag")){e.withParent(i._dragInstances.find(r=>r.element.nativeElement===n)?._dragRef||null);break}n=n.parentElement}})}_handleEvents(e){e.started.subscribe(n=>{this.started.emit({source:this,event:n.event}),this._changeDetectorRef.markForCheck()}),e.released.subscribe(n=>{this.released.emit({source:this,event:n.event})}),e.ended.subscribe(n=>{this.ended.emit({source:this,distance:n.distance,dropPoint:n.dropPoint,event:n.event}),this._changeDetectorRef.markForCheck()}),e.entered.subscribe(n=>{this.entered.emit({container:n.container.data,item:this,currentIndex:n.currentIndex})}),e.exited.subscribe(n=>{this.exited.emit({container:n.container.data,item:this})}),e.dropped.subscribe(n=>{this.dropped.emit({previousIndex:n.previousIndex,currentIndex:n.currentIndex,previousContainer:n.previousContainer.data,container:n.container.data,isPointerOverContainer:n.isPointerOverContainer,item:this,distance:n.distance,dropPoint:n.dropPoint,event:n.event})})}_assignDefaults(e){const{lockAxis:n,dragStartDelay:r,constrainPosition:o,previewClass:d,boundaryElement:h,draggingDisabled:g,rootElementSelector:b,previewContainer:x}=e;this.disabled=g??!1,this.dragStartDelay=r||0,n&&(this.lockAxis=n),o&&(this.constrainPosition=o),d&&(this.previewClass=d),h&&(this.boundaryElement=h),b&&(this.rootElementSelector=b),x&&(this.previewContainer=x)}_setupHandlesListener(){this._handles.changes.pipe(sr(this._handles),(0,bn.b)(e=>{const n=e.filter(r=>r._parentDrag===this).map(r=>r.element);this._selfHandle&&this.rootElementSelector&&n.push(this.element),this._dragRef.withHandles(n)}),on(e=>(0,Br.T)(...e.map(n=>n._stateChanges.pipe(sr(n))))),Mi(this._destroyed)).subscribe(e=>{const n=this._dragRef,r=e.element.nativeElement;e.disabled?n.disableHandle(r):n.enableHandle(r)})}}return i._dragInstances=[],i.\u0275fac=function(e){return new(e||i)(s.Y36(s.SBq),s.Y36(JC,12),s.Y36(K),s.Y36(s.R0b),s.Y36(s.s_b),s.Y36(XC,8),s.Y36(_o,8),s.Y36(Bm),s.Y36(s.sBO),s.Y36(eD,10),s.Y36(Fg,12))},i.\u0275dir=s.lG2({type:i,selectors:[["","cdkDrag",""]],contentQueries:function(e,n,r){if(1&e&&(s.Suo(r,SS,5),s.Suo(r,iD,5),s.Suo(r,eD,5)),2&e){let o;s.iGM(o=s.CRH())&&(n._previewTemplate=o.first),s.iGM(o=s.CRH())&&(n._placeholderTemplate=o.first),s.iGM(o=s.CRH())&&(n._handles=o)}},hostAttrs:[1,"cdk-drag"],hostVars:4,hostBindings:function(e,n){2&e&&s.ekj("cdk-drag-disabled",n.disabled)("cdk-drag-dragging",n._dragRef.isDragging())},inputs:{data:["cdkDragData","data"],lockAxis:["cdkDragLockAxis","lockAxis"],rootElementSelector:["cdkDragRootElement","rootElementSelector"],boundaryElement:["cdkDragBoundary","boundaryElement"],dragStartDelay:["cdkDragStartDelay","dragStartDelay"],freeDragPosition:["cdkDragFreeDragPosition","freeDragPosition"],disabled:["cdkDragDisabled","disabled"],constrainPosition:["cdkDragConstrainPosition","constrainPosition"],previewClass:["cdkDragPreviewClass","previewClass"],previewContainer:["cdkDragPreviewContainer","previewContainer"]},outputs:{started:"cdkDragStarted",released:"cdkDragReleased",ended:"cdkDragEnded",entered:"cdkDragEntered",exited:"cdkDragExited",dropped:"cdkDragDropped",moved:"cdkDragMoved"},exportAs:["cdkDrag"],standalone:!0,features:[s._Bn([{provide:Fg,useExisting:i}]),s.TTD]}),i})(),ly=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=s.oAB({type:i}),i.\u0275inj=s.cJS({providers:[Bm],imports:[pa]}),i})(),US=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=s.oAB({type:i}),i.\u0275inj=s.cJS({imports:[Tm]}),i})(),ii=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=s.oAB({type:i}),i.\u0275inj=s.cJS({}),i})();const D3=new s.OlP("mat-sanity-checks",{providedIn:"root",factory:function C3(){return!0}});let At=(()=>{class i{constructor(e,n,r){this._sanityChecks=n,this._document=r,this._hasDoneGlobalChecks=!1,e._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(e){return!gg()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[e])}}return i.\u0275fac=function(e){return new(e||i)(s.LFG(qb),s.LFG(D3,8),s.LFG(K))},i.\u0275mod=s.oAB({type:i}),i.\u0275inj=s.cJS({imports:[Sm,Sm]}),i})();function yy(i){return class extends i{get disabled(){return this._disabled}set disabled(t){this._disabled=It(t)}constructor(...t){super(...t),this._disabled=!1}}}function Wg(i,t){return class extends i{get color(){return this._color}set color(e){const n=e||this.defaultColor;n!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),n&&this._elementRef.nativeElement.classList.add(`mat-${n}`),this._color=n)}constructor(...e){super(...e),this.defaultColor=t,this.color=t}}}function Zg(i){return class extends i{get disableRipple(){return this._disableRipple}set disableRipple(t){this._disableRipple=It(t)}constructor(...t){super(...t),this._disableRipple=!1}}}function gF(i){return class extends i{updateErrorState(){const t=this.errorState,o=(this.errorStateMatcher||this._defaultErrorStateMatcher).isErrorState(this.ngControl?this.ngControl.control:null,this._parentFormGroup||this._parentForm);o!==t&&(this.errorState=o,this.stateChanges.next())}constructor(...t){super(...t),this.errorState=!1}}}const E3=new s.OlP("MAT_DATE_LOCALE",{providedIn:"root",factory:function k3(){return(0,s.f3M)(s.soG)}});class Wc{constructor(){this._localeChanges=new nt.x,this.localeChanges=this._localeChanges}getValidDateOrNull(t){return this.isDateInstance(t)&&this.isValid(t)?t:null}deserialize(t){return null==t||this.isDateInstance(t)&&this.isValid(t)?t:this.invalid()}setLocale(t){this.locale=t,this._localeChanges.next()}compareDate(t,e){return this.getYear(t)-this.getYear(e)||this.getMonth(t)-this.getMonth(e)||this.getDate(t)-this.getDate(e)}sameDate(t,e){if(t&&e){let n=this.isValid(t),r=this.isValid(e);return n&&r?!this.compareDate(t,e):n==r}return t==e}clampDate(t,e,n){return e&&this.compareDate(t,e)<0?e:n&&this.compareDate(t,n)>0?n:t}}const GS=new s.OlP("mat-date-formats"),M3=/^\d{4}-\d{2}-\d{2}(?:T\d{2}:\d{2}:\d{2}(?:\.\d+)?(?:Z|(?:(?:\+|-)\d{2}:\d{2}))?)?$/;function $S(i,t){const e=Array(i);for(let n=0;n<i;n++)e[n]=t(n);return e}let I3=(()=>{class i extends Wc{constructor(e,n){super(),this.useUtcForDisplay=!1,super.setLocale(e)}getYear(e){return e.getFullYear()}getMonth(e){return e.getMonth()}getDate(e){return e.getDate()}getDayOfWeek(e){return e.getDay()}getMonthNames(e){const n=new Intl.DateTimeFormat(this.locale,{month:e,timeZone:"utc"});return $S(12,r=>this._format(n,new Date(2017,r,1)))}getDateNames(){const e=new Intl.DateTimeFormat(this.locale,{day:"numeric",timeZone:"utc"});return $S(31,n=>this._format(e,new Date(2017,0,n+1)))}getDayOfWeekNames(e){const n=new Intl.DateTimeFormat(this.locale,{weekday:e,timeZone:"utc"});return $S(7,r=>this._format(n,new Date(2017,0,r+1)))}getYearName(e){const n=new Intl.DateTimeFormat(this.locale,{year:"numeric",timeZone:"utc"});return this._format(n,e)}getFirstDayOfWeek(){return 0}getNumDaysInMonth(e){return this.getDate(this._createDateWithOverflow(this.getYear(e),this.getMonth(e)+1,0))}clone(e){return new Date(e.getTime())}createDate(e,n,r){let o=this._createDateWithOverflow(e,n,r);return o.getMonth(),o}today(){return new Date}parse(e,n){return"number"==typeof e?new Date(e):e?new Date(Date.parse(e)):null}format(e,n){if(!this.isValid(e))throw Error("NativeDateAdapter: Cannot format invalid date.");const r=new Intl.DateTimeFormat(this.locale,{...n,timeZone:"utc"});return this._format(r,e)}addCalendarYears(e,n){return this.addCalendarMonths(e,12*n)}addCalendarMonths(e,n){let r=this._createDateWithOverflow(this.getYear(e),this.getMonth(e)+n,this.getDate(e));return this.getMonth(r)!=((this.getMonth(e)+n)%12+12)%12&&(r=this._createDateWithOverflow(this.getYear(r),this.getMonth(r),0)),r}addCalendarDays(e,n){return this._createDateWithOverflow(this.getYear(e),this.getMonth(e),this.getDate(e)+n)}toIso8601(e){return[e.getUTCFullYear(),this._2digit(e.getUTCMonth()+1),this._2digit(e.getUTCDate())].join("-")}deserialize(e){if("string"==typeof e){if(!e)return null;if(M3.test(e)){let n=new Date(e);if(this.isValid(n))return n}}return super.deserialize(e)}isDateInstance(e){return e instanceof Date}isValid(e){return!isNaN(e.getTime())}invalid(){return new Date(NaN)}_createDateWithOverflow(e,n,r){const o=new Date;return o.setFullYear(e,n,r),o.setHours(0,0,0,0),o}_2digit(e){return("00"+e).slice(-2)}_format(e,n){const r=new Date;return r.setUTCFullYear(n.getFullYear(),n.getMonth(),n.getDate()),r.setUTCHours(n.getHours(),n.getMinutes(),n.getSeconds(),n.getMilliseconds()),e.format(r)}}return i.\u0275fac=function(e){return new(e||i)(s.LFG(E3,8),s.LFG(An))},i.\u0275prov=s.Yz7({token:i,factory:i.\u0275fac}),i})();const S3={parse:{dateInput:null},display:{dateInput:{year:"numeric",month:"numeric",day:"numeric"},monthYearLabel:{year:"numeric",month:"short"},dateA11yLabel:{year:"numeric",month:"long",day:"numeric"},monthYearA11yLabel:{year:"numeric",month:"long"}}};let T3=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=s.oAB({type:i}),i.\u0275inj=s.cJS({providers:[{provide:Wc,useClass:I3}]}),i})(),A3=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=s.oAB({type:i}),i.\u0275inj=s.cJS({providers:[{provide:GS,useValue:S3}],imports:[T3]}),i})(),pD=(()=>{class i{isErrorState(e,n){return!!(e&&e.invalid&&(e.touched||n&&n.submitted))}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=s.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),_F=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=s.oAB({type:i}),i.\u0275inj=s.cJS({imports:[At,At]}),i})();class R3{constructor(t,e,n,r=!1){this._renderer=t,this.element=e,this.config=n,this._animationForciblyDisabledThroughCss=r,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const vF=ls({passive:!0,capture:!0});class O3{constructor(){this._events=new Map,this._delegateEventHandler=t=>{const e=go(t);e&&this._events.get(t.type)?.forEach((n,r)=>{(r===e||r.contains(e))&&n.forEach(o=>o.handleEvent(t))})}}addHandler(t,e,n,r){const o=this._events.get(e);if(o){const d=o.get(n);d?d.add(r):o.set(n,new Set([r]))}else this._events.set(e,new Map([[n,new Set([r])]])),t.runOutsideAngular(()=>{document.addEventListener(e,this._delegateEventHandler,vF)})}removeHandler(t,e,n){const r=this._events.get(t);if(!r)return;const o=r.get(e);o&&(o.delete(n),0===o.size&&r.delete(e),0===r.size&&(this._events.delete(t),document.removeEventListener(t,this._delegateEventHandler,vF)))}}const bF={enterDuration:225,exitDuration:150},yF=ls({passive:!0,capture:!0}),wF=["mousedown","touchstart"],xF=["mouseup","mouseleave","touchend","touchcancel"];class Kg{constructor(t,e,n,r){this._target=t,this._ngZone=e,this._platform=r,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,r.isBrowser&&(this._containerElement=Tn(n))}fadeInRipple(t,e,n={}){const r=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),o={...bF,...n.animation};n.centered&&(t=r.left+r.width/2,e=r.top+r.height/2);const d=n.radius||function F3(i,t,e){const n=Math.max(Math.abs(i-e.left),Math.abs(i-e.right)),r=Math.max(Math.abs(t-e.top),Math.abs(t-e.bottom));return Math.sqrt(n*n+r*r)}(t,e,r),h=t-r.left,g=e-r.top,b=o.enterDuration,x=document.createElement("div");x.classList.add("mat-ripple-element"),x.style.left=h-d+"px",x.style.top=g-d+"px",x.style.height=2*d+"px",x.style.width=2*d+"px",null!=n.color&&(x.style.backgroundColor=n.color),x.style.transitionDuration=`${b}ms`,this._containerElement.appendChild(x);const k=window.getComputedStyle(x),F=k.transitionDuration,H="none"===k.transitionProperty||"0s"===F||"0s, 0s"===F||0===r.width&&0===r.height,X=new R3(this,x,n,H);x.style.transform="scale3d(1, 1, 1)",X.state=0,n.persistent||(this._mostRecentTransientRipple=X);let ne=null;return!H&&(b||o.exitDuration)&&this._ngZone.runOutsideAngular(()=>{const je=()=>this._finishRippleTransition(X),Ct=()=>this._destroyRipple(X);x.addEventListener("transitionend",je),x.addEventListener("transitioncancel",Ct),ne={onTransitionEnd:je,onTransitionCancel:Ct}}),this._activeRipples.set(X,ne),(H||!b)&&this._finishRippleTransition(X),X}fadeOutRipple(t){if(2===t.state||3===t.state)return;const e=t.element,n={...bF,...t.config.animation};e.style.transitionDuration=`${n.exitDuration}ms`,e.style.opacity="0",t.state=2,(t._animationForciblyDisabledThroughCss||!n.exitDuration)&&this._finishRippleTransition(t)}fadeOutAll(){this._getActiveRipples().forEach(t=>t.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(t=>{t.config.persistent||t.fadeOut()})}setupTriggerEvents(t){const e=Tn(t);!this._platform.isBrowser||!e||e===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=e,wF.forEach(n=>{Kg._eventManager.addHandler(this._ngZone,n,e,this)}))}handleEvent(t){"mousedown"===t.type?this._onMousedown(t):"touchstart"===t.type?this._onTouchStart(t):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{xF.forEach(e=>{this._triggerElement.addEventListener(e,this,yF)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(t){0===t.state?this._startFadeOutTransition(t):2===t.state&&this._destroyRipple(t)}_startFadeOutTransition(t){const e=t===this._mostRecentTransientRipple,{persistent:n}=t.config;t.state=1,!n&&(!e||!this._isPointerDown)&&t.fadeOut()}_destroyRipple(t){const e=this._activeRipples.get(t)??null;this._activeRipples.delete(t),this._activeRipples.size||(this._containerRect=null),t===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),t.state=3,null!==e&&(t.element.removeEventListener("transitionend",e.onTransitionEnd),t.element.removeEventListener("transitioncancel",e.onTransitionCancel)),t.element.remove()}_onMousedown(t){const e=Mg(t),n=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!e&&!n&&(this._isPointerDown=!0,this.fadeInRipple(t.clientX,t.clientY,this._target.rippleConfig))}_onTouchStart(t){if(!this._target.rippleDisabled&&!Ig(t)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const e=t.changedTouches;for(let n=0;n<e.length;n++)this.fadeInRipple(e[n].clientX,e[n].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(t=>{!t.config.persistent&&(1===t.state||t.config.terminateOnPointerUp&&0===t.state)&&t.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){const t=this._triggerElement;t&&(wF.forEach(e=>Kg._eventManager.removeHandler(e,t,this)),this._pointerUpEventsRegistered&&xF.forEach(e=>t.removeEventListener(e,this,yF)))}}Kg._eventManager=new O3;const xy=new s.OlP("mat-ripple-global-options");let ga=(()=>{class i{get disabled(){return this._disabled}set disabled(e){e&&this.fadeOutAllNonPersistent(),this._disabled=e,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(e){this._trigger=e,this._setupTriggerEventsIfEnabled()}constructor(e,n,r,o,d){this._elementRef=e,this._animationMode=d,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=o||{},this._rippleRenderer=new Kg(this,n,e,r)}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:{...this._globalOptions.animation,..."NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{},...this.animation},terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(e,n=0,r){return"number"==typeof e?this._rippleRenderer.fadeInRipple(e,n,{...this.rippleConfig,...r}):this._rippleRenderer.fadeInRipple(0,0,{...this.rippleConfig,...e})}}return i.\u0275fac=function(e){return new(e||i)(s.Y36(s.SBq),s.Y36(s.R0b),s.Y36(An),s.Y36(xy,8),s.Y36(s.QbO,8))},i.\u0275dir=s.lG2({type:i,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(e,n){2&e&&s.ekj("mat-ripple-unbounded",n.unbounded)},inputs:{color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],radius:["matRippleRadius","radius"],animation:["matRippleAnimation","animation"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"]},exportAs:["matRipple"]}),i})(),Hs=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=s.oAB({type:i}),i.\u0275inj=s.cJS({imports:[At,At]}),i})(),CF=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=s.oAB({type:i}),i.\u0275inj=s.cJS({imports:[At]}),i})(),fD=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=s.oAB({type:i}),i.\u0275inj=s.cJS({imports:[Hs,Ni,At,CF]}),i})();class YS{attach(t){return this._attachedHost=t,t.attach(this)}detach(){let t=this._attachedHost;null!=t&&(this._attachedHost=null,t.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(t){this._attachedHost=t}}class qS extends YS{constructor(t,e,n,r,o){super(),this.component=t,this.viewContainerRef=e,this.injector=n,this.componentFactoryResolver=r,this.projectableNodes=o}}class WS extends YS{constructor(t,e,n,r){super(),this.templateRef=t,this.viewContainerRef=e,this.context=n,this.injector=r}get origin(){return this.templateRef.elementRef}attach(t,e=this.context){return this.context=e,super.attach(t)}detach(){return this.context=void 0,super.detach()}}class V3 extends YS{constructor(t){super(),this.element=t instanceof s.SBq?t.nativeElement:t}}class ZS{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(t){return t instanceof qS?(this._attachedPortal=t,this.attachComponentPortal(t)):t instanceof WS?(this._attachedPortal=t,this.attachTemplatePortal(t)):this.attachDomPortal&&t instanceof V3?(this._attachedPortal=t,this.attachDomPortal(t)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(t){this._disposeFn=t}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class H3 extends ZS{constructor(t,e,n,r,o){super(),this.outletElement=t,this._componentFactoryResolver=e,this._appRef=n,this._defaultInjector=r,this.attachDomPortal=d=>{const h=d.element,g=this._document.createComment("dom-portal");h.parentNode.insertBefore(g,h),this.outletElement.appendChild(h),this._attachedPortal=d,super.setDisposeFn(()=>{g.parentNode&&g.parentNode.replaceChild(h,g)})},this._document=o}attachComponentPortal(t){const n=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component);let r;return t.viewContainerRef?(r=t.viewContainerRef.createComponent(n,t.viewContainerRef.length,t.injector||t.viewContainerRef.injector,t.projectableNodes||void 0),this.setDisposeFn(()=>r.destroy())):(r=n.create(t.injector||this._defaultInjector||s.zs3.NULL),this._appRef.attachView(r.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(r.hostView),r.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(r)),this._attachedPortal=t,r}attachTemplatePortal(t){let e=t.viewContainerRef,n=e.createEmbeddedView(t.templateRef,t.context,{injector:t.injector});return n.rootNodes.forEach(r=>this.outletElement.appendChild(r)),n.detectChanges(),this.setDisposeFn(()=>{let r=e.indexOf(n);-1!==r&&e.remove(r)}),this._attachedPortal=t,n}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(t){return t.hostView.rootNodes[0]}}let KS=(()=>{class i extends ZS{constructor(e,n,r){super(),this._componentFactoryResolver=e,this._viewContainerRef=n,this._isInitialized=!1,this.attached=new s.vpe,this.attachDomPortal=o=>{const d=o.element,h=this._document.createComment("dom-portal");o.setAttachedHost(this),d.parentNode.insertBefore(h,d),this._getRootNode().appendChild(d),this._attachedPortal=o,super.setDisposeFn(()=>{h.parentNode&&h.parentNode.replaceChild(d,h)})},this._document=r}get portal(){return this._attachedPortal}set portal(e){this.hasAttached()&&!e&&!this._isInitialized||(this.hasAttached()&&super.detach(),e&&super.attach(e),this._attachedPortal=e||null)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedRef=this._attachedPortal=null}attachComponentPortal(e){e.setAttachedHost(this);const n=null!=e.viewContainerRef?e.viewContainerRef:this._viewContainerRef,o=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component),d=n.createComponent(o,n.length,e.injector||n.injector,e.projectableNodes||void 0);return n!==this._viewContainerRef&&this._getRootNode().appendChild(d.hostView.rootNodes[0]),super.setDisposeFn(()=>d.destroy()),this._attachedPortal=e,this._attachedRef=d,this.attached.emit(d),d}attachTemplatePortal(e){e.setAttachedHost(this);const n=this._viewContainerRef.createEmbeddedView(e.templateRef,e.context,{injector:e.injector});return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=e,this._attachedRef=n,this.attached.emit(n),n}_getRootNode(){const e=this._viewContainerRef.element.nativeElement;return e.nodeType===e.ELEMENT_NODE?e:e.parentNode}}return i.\u0275fac=function(e){return new(e||i)(s.Y36(s._Vd),s.Y36(s.s_b),s.Y36(K))},i.\u0275dir=s.lG2({type:i,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:["cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[s.qOj]}),i})(),Zc=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=s.oAB({type:i}),i.\u0275inj=s.cJS({}),i})();const DF=iC();class U3{constructor(t,e){this._viewportRuler=t,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=e}attach(){}enable(){if(this._canBeEnabled()){const t=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=t.style.left||"",this._previousHTMLStyles.top=t.style.top||"",t.style.left=Zn(-this._previousScrollPosition.left),t.style.top=Zn(-this._previousScrollPosition.top),t.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const t=this._document.documentElement,n=t.style,r=this._document.body.style,o=n.scrollBehavior||"",d=r.scrollBehavior||"";this._isEnabled=!1,n.left=this._previousHTMLStyles.left,n.top=this._previousHTMLStyles.top,t.classList.remove("cdk-global-scrollblock"),DF&&(n.scrollBehavior=r.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),DF&&(n.scrollBehavior=o,r.scrollBehavior=d)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const e=this._document.body,n=this._viewportRuler.getViewportSize();return e.scrollHeight>n.height||e.scrollWidth>n.width}}class z3{constructor(t,e,n,r){this._scrollDispatcher=t,this._ngZone=e,this._viewportRuler=n,this._config=r,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(t){this._overlayRef=t}enable(){if(this._scrollSubscription)return;const t=this._scrollDispatcher.scrolled(0).pipe(sn(e=>!e||!this._overlayRef.overlayElement.contains(e.getElementRef().nativeElement)));this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=t.subscribe(()=>{const e=this._viewportRuler.getViewportScrollPosition().top;Math.abs(e-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=t.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class EF{enable(){}disable(){}attach(){}}function QS(i,t){return t.some(e=>i.bottom<e.top||i.top>e.bottom||i.right<e.left||i.left>e.right)}function kF(i,t){return t.some(e=>i.top<e.top||i.bottom>e.bottom||i.left<e.left||i.right>e.right)}class j3{constructor(t,e,n,r){this._scrollDispatcher=t,this._viewportRuler=e,this._ngZone=n,this._config=r,this._scrollSubscription=null}attach(t){this._overlayRef=t}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const e=this._overlayRef.overlayElement.getBoundingClientRect(),{width:n,height:r}=this._viewportRuler.getViewportSize();QS(e,[{width:n,height:r,bottom:r,right:n,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let G3=(()=>{class i{constructor(e,n,r,o){this._scrollDispatcher=e,this._viewportRuler=n,this._ngZone=r,this.noop=()=>new EF,this.close=d=>new z3(this._scrollDispatcher,this._ngZone,this._viewportRuler,d),this.block=()=>new U3(this._viewportRuler,this._document),this.reposition=d=>new j3(this._scrollDispatcher,this._viewportRuler,this._ngZone,d),this._document=o}}return i.\u0275fac=function(e){return new(e||i)(s.LFG(ec),s.LFG(yu),s.LFG(s.R0b),s.LFG(K))},i.\u0275prov=s.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();class XS{constructor(t){if(this.scrollStrategy=new EF,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,t){const e=Object.keys(t);for(const n of e)void 0!==t[n]&&(this[n]=t[n])}}}class $3{constructor(t,e){this.connectionPair=t,this.scrollableViewProperties=e}}let MF=(()=>{class i{constructor(e){this._attachedOverlays=[],this._document=e}ngOnDestroy(){this.detach()}add(e){this.remove(e),this._attachedOverlays.push(e)}remove(e){const n=this._attachedOverlays.indexOf(e);n>-1&&this._attachedOverlays.splice(n,1),0===this._attachedOverlays.length&&this.detach()}}return i.\u0275fac=function(e){return new(e||i)(s.LFG(K))},i.\u0275prov=s.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),Y3=(()=>{class i extends MF{constructor(e,n){super(e),this._ngZone=n,this._keydownListener=r=>{const o=this._attachedOverlays;for(let d=o.length-1;d>-1;d--)if(o[d]._keydownEvents.observers.length>0){const h=o[d]._keydownEvents;this._ngZone?this._ngZone.run(()=>h.next(r)):h.next(r);break}}}add(e){super.add(e),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return i.\u0275fac=function(e){return new(e||i)(s.LFG(K),s.LFG(s.R0b,8))},i.\u0275prov=s.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),q3=(()=>{class i extends MF{constructor(e,n,r){super(e),this._platform=n,this._ngZone=r,this._cursorStyleIsSet=!1,this._pointerDownListener=o=>{this._pointerDownEventTarget=go(o)},this._clickListener=o=>{const d=go(o),h="click"===o.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:d;this._pointerDownEventTarget=null;const g=this._attachedOverlays.slice();for(let b=g.length-1;b>-1;b--){const x=g[b];if(x._outsidePointerEvents.observers.length<1||!x.hasAttached())continue;if(x.overlayElement.contains(d)||x.overlayElement.contains(h))break;const k=x._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>k.next(o)):k.next(o)}}}add(e){if(super.add(e),!this._isAttached){const n=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(n)):this._addEventListeners(n),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=n.style.cursor,n.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const e=this._document.body;e.removeEventListener("pointerdown",this._pointerDownListener,!0),e.removeEventListener("click",this._clickListener,!0),e.removeEventListener("auxclick",this._clickListener,!0),e.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(e.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(e){e.addEventListener("pointerdown",this._pointerDownListener,!0),e.addEventListener("click",this._clickListener,!0),e.addEventListener("auxclick",this._clickListener,!0),e.addEventListener("contextmenu",this._clickListener,!0)}}return i.\u0275fac=function(e){return new(e||i)(s.LFG(K),s.LFG(An),s.LFG(s.R0b,8))},i.\u0275prov=s.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),gD=(()=>{class i{constructor(e,n){this._platform=n,this._document=e}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const e="cdk-overlay-container";if(this._platform.isBrowser||gg()){const r=this._document.querySelectorAll(`.${e}[platform="server"], .${e}[platform="test"]`);for(let o=0;o<r.length;o++)r[o].remove()}const n=this._document.createElement("div");n.classList.add(e),gg()?n.setAttribute("platform","test"):this._platform.isBrowser||n.setAttribute("platform","server"),this._document.body.appendChild(n),this._containerElement=n}}return i.\u0275fac=function(e){return new(e||i)(s.LFG(K),s.LFG(An))},i.\u0275prov=s.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();class Cy{constructor(t,e,n,r,o,d,h,g,b,x=!1){this._portalOutlet=t,this._host=e,this._pane=n,this._config=r,this._ngZone=o,this._keyboardDispatcher=d,this._document=h,this._location=g,this._outsideClickDispatcher=b,this._animationsDisabled=x,this._backdropElement=null,this._backdropClick=new nt.x,this._attachments=new nt.x,this._detachments=new nt.x,this._locationChanges=xn.w0.EMPTY,this._backdropClickHandler=k=>this._backdropClick.next(k),this._backdropTransitionendHandler=k=>{this._disposeBackdrop(k.target)},this._keydownEvents=new nt.x,this._outsidePointerEvents=new nt.x,r.scrollStrategy&&(this._scrollStrategy=r.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=r.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(t){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);const e=this._portalOutlet.attach(t);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe(Gi(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),"function"==typeof e?.onDestroy&&e.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),e}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const t=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),t}dispose(){const t=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._previousHostParent=this._pane=this._host=null,t&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(t){t!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=t,this.hasAttached()&&(t.attach(this),this.updatePosition()))}updateSize(t){this._config={...this._config,...t},this._updateElementSize()}setDirection(t){this._config={...this._config,direction:t},this._updateElementDirection()}addPanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!0)}removePanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!1)}getDirection(){const t=this._config.direction;return t?"string"==typeof t?t:t.value:"ltr"}updateScrollStrategy(t){t!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=t,this.hasAttached()&&(t.attach(this),t.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const t=this._pane.style;t.width=Zn(this._config.width),t.height=Zn(this._config.height),t.minWidth=Zn(this._config.minWidth),t.minHeight=Zn(this._config.minHeight),t.maxWidth=Zn(this._config.maxWidth),t.maxHeight=Zn(this._config.maxHeight)}_togglePointerEvents(t){this._pane.style.pointerEvents=t?"":"none"}_attachBackdrop(){const t="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._animationsDisabled&&this._backdropElement.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(t)})}):this._backdropElement.classList.add(t)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const t=this._backdropElement;if(t){if(this._animationsDisabled)return void this._disposeBackdrop(t);t.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{t.addEventListener("transitionend",this._backdropTransitionendHandler)}),t.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(t)},500))}}_toggleClasses(t,e,n){const r=Dm(e||[]).filter(o=>!!o);r.length&&(n?t.classList.add(...r):t.classList.remove(...r))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const t=this._ngZone.onStable.pipe(Mi((0,Br.T)(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),t.unsubscribe())})})}_disposeScrollStrategy(){const t=this._scrollStrategy;t&&(t.disable(),t.detach&&t.detach())}_disposeBackdrop(t){t&&(t.removeEventListener("click",this._backdropClickHandler),t.removeEventListener("transitionend",this._backdropTransitionendHandler),t.remove(),this._backdropElement===t&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}}const IF="cdk-overlay-connected-position-bounding-box",W3=/([A-Za-z%]+)$/;class Z3{get positions(){return this._preferredPositions}constructor(t,e,n,r,o){this._viewportRuler=e,this._document=n,this._platform=r,this._overlayContainer=o,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new nt.x,this._resizeSubscription=xn.w0.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(t)}attach(t){this._validatePositions(),t.hostElement.classList.add(IF),this._overlayRef=t,this._boundingBox=t.hostElement,this._pane=t.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const t=this._originRect,e=this._overlayRect,n=this._viewportRect,r=this._containerRect,o=[];let d;for(let h of this._preferredPositions){let g=this._getOriginPoint(t,r,h),b=this._getOverlayPoint(g,e,h),x=this._getOverlayFit(b,e,n,h);if(x.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(h,g);this._canFitWithFlexibleDimensions(x,b,n)?o.push({position:h,origin:g,overlayRect:e,boundingBoxRect:this._calculateBoundingBoxRect(g,h)}):(!d||d.overlayFit.visibleArea<x.visibleArea)&&(d={overlayFit:x,overlayPoint:b,originPoint:g,position:h,overlayRect:e})}if(o.length){let h=null,g=-1;for(const b of o){const x=b.boundingBoxRect.width*b.boundingBoxRect.height*(b.position.weight||1);x>g&&(g=x,h=b)}return this._isPushed=!1,void this._applyPosition(h.position,h.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(d.position,d.originPoint);this._applyPosition(d.position,d.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&$m(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(IF),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const t=this._lastPosition;if(t){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const e=this._getOriginPoint(this._originRect,this._containerRect,t);this._applyPosition(t,e)}else this.apply()}withScrollableContainers(t){return this._scrollables=t,this}withPositions(t){return this._preferredPositions=t,-1===t.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(t){return this._viewportMargin=t,this}withFlexibleDimensions(t=!0){return this._hasFlexibleDimensions=t,this}withGrowAfterOpen(t=!0){return this._growAfterOpen=t,this}withPush(t=!0){return this._canPush=t,this}withLockedPosition(t=!0){return this._positionLocked=t,this}setOrigin(t){return this._origin=t,this}withDefaultOffsetX(t){return this._offsetX=t,this}withDefaultOffsetY(t){return this._offsetY=t,this}withTransformOriginOn(t){return this._transformOriginSelector=t,this}_getOriginPoint(t,e,n){let r,o;if("center"==n.originX)r=t.left+t.width/2;else{const d=this._isRtl()?t.right:t.left,h=this._isRtl()?t.left:t.right;r="start"==n.originX?d:h}return e.left<0&&(r-=e.left),o="center"==n.originY?t.top+t.height/2:"top"==n.originY?t.top:t.bottom,e.top<0&&(o-=e.top),{x:r,y:o}}_getOverlayPoint(t,e,n){let r,o;return r="center"==n.overlayX?-e.width/2:"start"===n.overlayX?this._isRtl()?-e.width:0:this._isRtl()?0:-e.width,o="center"==n.overlayY?-e.height/2:"top"==n.overlayY?0:-e.height,{x:t.x+r,y:t.y+o}}_getOverlayFit(t,e,n,r){const o=TF(e);let{x:d,y:h}=t,g=this._getOffset(r,"x"),b=this._getOffset(r,"y");g&&(d+=g),b&&(h+=b);let T=0-h,F=h+o.height-n.height,H=this._subtractOverflows(o.width,0-d,d+o.width-n.width),X=this._subtractOverflows(o.height,T,F),ne=H*X;return{visibleArea:ne,isCompletelyWithinViewport:o.width*o.height===ne,fitsInViewportVertically:X===o.height,fitsInViewportHorizontally:H==o.width}}_canFitWithFlexibleDimensions(t,e,n){if(this._hasFlexibleDimensions){const r=n.bottom-e.y,o=n.right-e.x,d=SF(this._overlayRef.getConfig().minHeight),h=SF(this._overlayRef.getConfig().minWidth);return(t.fitsInViewportVertically||null!=d&&d<=r)&&(t.fitsInViewportHorizontally||null!=h&&h<=o)}return!1}_pushOverlayOnScreen(t,e,n){if(this._previousPushAmount&&this._positionLocked)return{x:t.x+this._previousPushAmount.x,y:t.y+this._previousPushAmount.y};const r=TF(e),o=this._viewportRect,d=Math.max(t.x+r.width-o.width,0),h=Math.max(t.y+r.height-o.height,0),g=Math.max(o.top-n.top-t.y,0),b=Math.max(o.left-n.left-t.x,0);let x=0,k=0;return x=r.width<=o.width?b||-d:t.x<this._viewportMargin?o.left-n.left-t.x:0,k=r.height<=o.height?g||-h:t.y<this._viewportMargin?o.top-n.top-t.y:0,this._previousPushAmount={x,y:k},{x:t.x+x,y:t.y+k}}_applyPosition(t,e){if(this._setTransformOrigin(t),this._setOverlayElementStyles(e,t),this._setBoundingBoxStyles(e,t),t.panelClass&&this._addPanelClasses(t.panelClass),this._lastPosition=t,this._positionChanges.observers.length){const n=this._getScrollVisibility(),r=new $3(t,n);this._positionChanges.next(r)}this._isInitialRender=!1}_setTransformOrigin(t){if(!this._transformOriginSelector)return;const e=this._boundingBox.querySelectorAll(this._transformOriginSelector);let n,r=t.overlayY;n="center"===t.overlayX?"center":this._isRtl()?"start"===t.overlayX?"right":"left":"start"===t.overlayX?"left":"right";for(let o=0;o<e.length;o++)e[o].style.transformOrigin=`${n} ${r}`}_calculateBoundingBoxRect(t,e){const n=this._viewportRect,r=this._isRtl();let o,d,h,x,k,T;if("top"===e.overlayY)d=t.y,o=n.height-d+this._viewportMargin;else if("bottom"===e.overlayY)h=n.height-t.y+2*this._viewportMargin,o=n.height-h+this._viewportMargin;else{const F=Math.min(n.bottom-t.y+n.top,t.y),H=this._lastBoundingBoxSize.height;o=2*F,d=t.y-F,o>H&&!this._isInitialRender&&!this._growAfterOpen&&(d=t.y-H/2)}if("end"===e.overlayX&&!r||"start"===e.overlayX&&r)T=n.width-t.x+this._viewportMargin,x=t.x-this._viewportMargin;else if("start"===e.overlayX&&!r||"end"===e.overlayX&&r)k=t.x,x=n.right-t.x;else{const F=Math.min(n.right-t.x+n.left,t.x),H=this._lastBoundingBoxSize.width;x=2*F,k=t.x-F,x>H&&!this._isInitialRender&&!this._growAfterOpen&&(k=t.x-H/2)}return{top:d,left:k,bottom:h,right:T,width:x,height:o}}_setBoundingBoxStyles(t,e){const n=this._calculateBoundingBoxRect(t,e);!this._isInitialRender&&!this._growAfterOpen&&(n.height=Math.min(n.height,this._lastBoundingBoxSize.height),n.width=Math.min(n.width,this._lastBoundingBoxSize.width));const r={};if(this._hasExactPosition())r.top=r.left="0",r.bottom=r.right=r.maxHeight=r.maxWidth="",r.width=r.height="100%";else{const o=this._overlayRef.getConfig().maxHeight,d=this._overlayRef.getConfig().maxWidth;r.height=Zn(n.height),r.top=Zn(n.top),r.bottom=Zn(n.bottom),r.width=Zn(n.width),r.left=Zn(n.left),r.right=Zn(n.right),r.alignItems="center"===e.overlayX?"center":"end"===e.overlayX?"flex-end":"flex-start",r.justifyContent="center"===e.overlayY?"center":"bottom"===e.overlayY?"flex-end":"flex-start",o&&(r.maxHeight=Zn(o)),d&&(r.maxWidth=Zn(d))}this._lastBoundingBoxSize=n,$m(this._boundingBox.style,r)}_resetBoundingBoxStyles(){$m(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){$m(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(t,e){const n={},r=this._hasExactPosition(),o=this._hasFlexibleDimensions,d=this._overlayRef.getConfig();if(r){const x=this._viewportRuler.getViewportScrollPosition();$m(n,this._getExactOverlayY(e,t,x)),$m(n,this._getExactOverlayX(e,t,x))}else n.position="static";let h="",g=this._getOffset(e,"x"),b=this._getOffset(e,"y");g&&(h+=`translateX(${g}px) `),b&&(h+=`translateY(${b}px)`),n.transform=h.trim(),d.maxHeight&&(r?n.maxHeight=Zn(d.maxHeight):o&&(n.maxHeight="")),d.maxWidth&&(r?n.maxWidth=Zn(d.maxWidth):o&&(n.maxWidth="")),$m(this._pane.style,n)}_getExactOverlayY(t,e,n){let r={top:"",bottom:""},o=this._getOverlayPoint(e,this._overlayRect,t);return this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,n)),"bottom"===t.overlayY?r.bottom=this._document.documentElement.clientHeight-(o.y+this._overlayRect.height)+"px":r.top=Zn(o.y),r}_getExactOverlayX(t,e,n){let d,r={left:"",right:""},o=this._getOverlayPoint(e,this._overlayRect,t);return this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,n)),d=this._isRtl()?"end"===t.overlayX?"left":"right":"end"===t.overlayX?"right":"left","right"===d?r.right=this._document.documentElement.clientWidth-(o.x+this._overlayRect.width)+"px":r.left=Zn(o.x),r}_getScrollVisibility(){const t=this._getOriginRect(),e=this._pane.getBoundingClientRect(),n=this._scrollables.map(r=>r.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:kF(t,n),isOriginOutsideView:QS(t,n),isOverlayClipped:kF(e,n),isOverlayOutsideView:QS(e,n)}}_subtractOverflows(t,...e){return e.reduce((n,r)=>n-Math.max(r,0),t)}_getNarrowedViewportRect(){const t=this._document.documentElement.clientWidth,e=this._document.documentElement.clientHeight,n=this._viewportRuler.getViewportScrollPosition();return{top:n.top+this._viewportMargin,left:n.left+this._viewportMargin,right:n.left+t-this._viewportMargin,bottom:n.top+e-this._viewportMargin,width:t-2*this._viewportMargin,height:e-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(t,e){return"x"===e?null==t.offsetX?this._offsetX:t.offsetX:null==t.offsetY?this._offsetY:t.offsetY}_validatePositions(){}_addPanelClasses(t){this._pane&&Dm(t).forEach(e=>{""!==e&&-1===this._appliedPanelClasses.indexOf(e)&&(this._appliedPanelClasses.push(e),this._pane.classList.add(e))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(t=>{this._pane.classList.remove(t)}),this._appliedPanelClasses=[])}_getOriginRect(){const t=this._origin;if(t instanceof s.SBq)return t.nativeElement.getBoundingClientRect();if(t instanceof Element)return t.getBoundingClientRect();const e=t.width||0,n=t.height||0;return{top:t.y,bottom:t.y+n,left:t.x,right:t.x+e,height:n,width:e}}}function $m(i,t){for(let e in t)t.hasOwnProperty(e)&&(i[e]=t[e]);return i}function SF(i){if("number"!=typeof i&&null!=i){const[t,e]=i.split(W3);return e&&"px"!==e?null:parseFloat(t)}return i||null}function TF(i){return{top:Math.floor(i.top),right:Math.floor(i.right),bottom:Math.floor(i.bottom),left:Math.floor(i.left),width:Math.floor(i.width),height:Math.floor(i.height)}}const AF="cdk-global-overlay-wrapper";class K3{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._alignItems="",this._xPosition="",this._xOffset="",this._width="",this._height="",this._isDisposed=!1}attach(t){const e=t.getConfig();this._overlayRef=t,this._width&&!e.width&&t.updateSize({width:this._width}),this._height&&!e.height&&t.updateSize({height:this._height}),t.hostElement.classList.add(AF),this._isDisposed=!1}top(t=""){return this._bottomOffset="",this._topOffset=t,this._alignItems="flex-start",this}left(t=""){return this._xOffset=t,this._xPosition="left",this}bottom(t=""){return this._topOffset="",this._bottomOffset=t,this._alignItems="flex-end",this}right(t=""){return this._xOffset=t,this._xPosition="right",this}start(t=""){return this._xOffset=t,this._xPosition="start",this}end(t=""){return this._xOffset=t,this._xPosition="end",this}width(t=""){return this._overlayRef?this._overlayRef.updateSize({width:t}):this._width=t,this}height(t=""){return this._overlayRef?this._overlayRef.updateSize({height:t}):this._height=t,this}centerHorizontally(t=""){return this.left(t),this._xPosition="center",this}centerVertically(t=""){return this.top(t),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement.style,n=this._overlayRef.getConfig(),{width:r,height:o,maxWidth:d,maxHeight:h}=n,g=!("100%"!==r&&"100vw"!==r||d&&"100%"!==d&&"100vw"!==d),b=!("100%"!==o&&"100vh"!==o||h&&"100%"!==h&&"100vh"!==h),x=this._xPosition,k=this._xOffset,T="rtl"===this._overlayRef.getConfig().direction;let F="",H="",X="";g?X="flex-start":"center"===x?(X="center",T?H=k:F=k):T?"left"===x||"end"===x?(X="flex-end",F=k):("right"===x||"start"===x)&&(X="flex-start",H=k):"left"===x||"start"===x?(X="flex-start",F=k):("right"===x||"end"===x)&&(X="flex-end",H=k),t.position=this._cssPosition,t.marginLeft=g?"0":F,t.marginTop=b?"0":this._topOffset,t.marginBottom=this._bottomOffset,t.marginRight=g?"0":H,e.justifyContent=X,e.alignItems=b?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement,n=e.style;e.classList.remove(AF),n.justifyContent=n.alignItems=t.marginTop=t.marginBottom=t.marginLeft=t.marginRight=t.position="",this._overlayRef=null,this._isDisposed=!0}}let Q3=(()=>{class i{constructor(e,n,r,o){this._viewportRuler=e,this._document=n,this._platform=r,this._overlayContainer=o}global(){return new K3}flexibleConnectedTo(e){return new Z3(e,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return i.\u0275fac=function(e){return new(e||i)(s.LFG(yu),s.LFG(K),s.LFG(An),s.LFG(gD))},i.\u0275prov=s.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),X3=0,_a=(()=>{class i{constructor(e,n,r,o,d,h,g,b,x,k,T,F){this.scrollStrategies=e,this._overlayContainer=n,this._componentFactoryResolver=r,this._positionBuilder=o,this._keyboardDispatcher=d,this._injector=h,this._ngZone=g,this._document=b,this._directionality=x,this._location=k,this._outsideClickDispatcher=T,this._animationsModuleType=F}create(e){const n=this._createHostElement(),r=this._createPaneElement(n),o=this._createPortalOutlet(r),d=new XS(e);return d.direction=d.direction||this._directionality.value,new Cy(o,n,r,d,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,"NoopAnimations"===this._animationsModuleType)}position(){return this._positionBuilder}_createPaneElement(e){const n=this._document.createElement("div");return n.id="cdk-overlay-"+X3++,n.classList.add("cdk-overlay-pane"),e.appendChild(n),n}_createHostElement(){const e=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(e),e}_createPortalOutlet(e){return this._appRef||(this._appRef=this._injector.get(s.z2F)),new H3(e,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return i.\u0275fac=function(e){return new(e||i)(s.LFG(G3),s.LFG(gD),s.LFG(s._Vd),s.LFG(Q3),s.LFG(Y3),s.LFG(s.zs3),s.LFG(s.R0b),s.LFG(K),s.LFG(_o),s.LFG(He),s.LFG(q3),s.LFG(s.QbO,8))},i.\u0275prov=s.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();const tj={provide:new s.OlP("cdk-connected-overlay-scroll-strategy"),deps:[_a],useFactory:function ej(i){return()=>i.scrollStrategies.reposition()}};let Mu=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=s.oAB({type:i}),i.\u0275inj=s.cJS({providers:[_a,tj],imports:[Sm,Zc,Tm,Tm]}),i})();function RF(...i){const t=(0,lo.jO)(i),{args:e,keys:n}=Cl(i),r=new vn.y(o=>{const{length:d}=e;if(!d)return void o.complete();const h=new Array(d);let g=d,b=d;for(let x=0;x<d;x++){let k=!1;(0,Ms.Xf)(e[x]).subscribe((0,rn.x)(o,T=>{k||(k=!0,b--),h[x]=T},()=>g--,void 0,()=>{(!g||!k)&&(b||o.next(n?xc(n,h):h),o.complete())}))}});return t?r.pipe(Js(t)):r}let OF=(()=>{class i{constructor(e,n){this._renderer=e,this._elementRef=n,this.onChange=r=>{},this.onTouched=()=>{}}setProperty(e,n){this._renderer.setProperty(this._elementRef.nativeElement,e,n)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}}return i.\u0275fac=function(e){return new(e||i)(s.Y36(s.Qsj),s.Y36(s.SBq))},i.\u0275dir=s.lG2({type:i}),i})(),Ym=(()=>{class i extends OF{}return i.\u0275fac=function(){let t;return function(n){return(t||(t=s.n5z(i)))(n||i)}}(),i.\u0275dir=s.lG2({type:i,features:[s.qOj]}),i})();const Cr=new s.OlP("NgValueAccessor"),nj={provide:Cr,useExisting:(0,s.Gpc)(()=>qm),multi:!0},oj=new s.OlP("CompositionEventMode");let qm=(()=>{class i extends OF{constructor(e,n,r){super(e,n),this._compositionMode=r,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function rj(){const i=N()?N().getUserAgent():"";return/android (\d+)/.test(i.toLowerCase())}())}writeValue(e){this.setProperty("value",e??"")}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}}return i.\u0275fac=function(e){return new(e||i)(s.Y36(s.Qsj),s.Y36(s.SBq),s.Y36(oj,8))},i.\u0275dir=s.lG2({type:i,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(e,n){1&e&&s.NdJ("input",function(o){return n._handleInput(o.target.value)})("blur",function(){return n.onTouched()})("compositionstart",function(){return n._compositionStart()})("compositionend",function(o){return n._compositionEnd(o.target.value)})},features:[s._Bn([nj]),s.qOj]}),i})();const sj=!1;function Iu(i){return null==i||("string"==typeof i||Array.isArray(i))&&0===i.length}function FF(i){return null!=i&&"number"==typeof i.length}const Rr=new s.OlP("NgValidators"),Su=new s.OlP("NgAsyncValidators"),aj=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class ms{static min(t){return function NF(i){return t=>{if(Iu(t.value)||Iu(i))return null;const e=parseFloat(t.value);return!isNaN(e)&&e<i?{min:{min:i,actual:t.value}}:null}}(t)}static max(t){return function LF(i){return t=>{if(Iu(t.value)||Iu(i))return null;const e=parseFloat(t.value);return!isNaN(e)&&e>i?{max:{max:i,actual:t.value}}:null}}(t)}static required(t){return function BF(i){return Iu(i.value)?{required:!0}:null}(t)}static requiredTrue(t){return function VF(i){return!0===i.value?null:{required:!0}}(t)}static email(t){return function HF(i){return Iu(i.value)||aj.test(i.value)?null:{email:!0}}(t)}static minLength(t){return function UF(i){return t=>Iu(t.value)||!FF(t.value)?null:t.value.length<i?{minlength:{requiredLength:i,actualLength:t.value.length}}:null}(t)}static maxLength(t){return function zF(i){return t=>FF(t.value)&&t.value.length>i?{maxlength:{requiredLength:i,actualLength:t.value.length}}:null}(t)}static pattern(t){return function jF(i){if(!i)return _D;let t,e;return"string"==typeof i?(e="","^"!==i.charAt(0)&&(e+="^"),e+=i,"$"!==i.charAt(i.length-1)&&(e+="$"),t=new RegExp(e)):(e=i.toString(),t=i),n=>{if(Iu(n.value))return null;const r=n.value;return t.test(r)?null:{pattern:{requiredPattern:e,actualValue:r}}}}(t)}static nullValidator(t){return null}static compose(t){return ZF(t)}static composeAsync(t){return KF(t)}}function _D(i){return null}function GF(i){return null!=i}function $F(i){const t=(0,s.QGY)(i)?(0,mi.D)(i):i;if(sj&&!(0,s.CqO)(t)){let e="Expected async validator to return Promise or Observable.";throw"object"==typeof i&&(e+=" Are you using a synchronous validator where an async validator is expected?"),new s.vHH(-1101,e)}return t}function YF(i){let t={};return i.forEach(e=>{t=null!=e?{...t,...e}:t}),0===Object.keys(t).length?null:t}function qF(i,t){return t.map(e=>e(i))}function WF(i){return i.map(t=>function cj(i){return!i.validate}(t)?t:e=>t.validate(e))}function ZF(i){if(!i)return null;const t=i.filter(GF);return 0==t.length?null:function(e){return YF(qF(e,t))}}function JS(i){return null!=i?ZF(WF(i)):null}function KF(i){if(!i)return null;const t=i.filter(GF);return 0==t.length?null:function(e){return RF(qF(e,t).map($F)).pipe((0,kt.U)(YF))}}function eT(i){return null!=i?KF(WF(i)):null}function QF(i,t){return null===i?[t]:Array.isArray(i)?[...i,t]:[i,t]}function XF(i){return i._rawValidators}function JF(i){return i._rawAsyncValidators}function tT(i){return i?Array.isArray(i)?i:[i]:[]}function vD(i,t){return Array.isArray(i)?i.includes(t):i===t}function eN(i,t){const e=tT(t);return tT(i).forEach(r=>{vD(e,r)||e.push(r)}),e}function tN(i,t){return tT(t).filter(e=>!vD(i,e))}class iN{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=JS(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=eT(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t){this.control&&this.control.reset(t)}hasError(t,e){return!!this.control&&this.control.hasError(t,e)}getError(t,e){return this.control?this.control.getError(t,e):null}}class $o extends iN{get formDirective(){return null}get path(){return null}}class Kc extends iN{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class nN{constructor(t){this._cd=t}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let Dy=(()=>{class i extends nN{constructor(e){super(e)}}return i.\u0275fac=function(e){return new(e||i)(s.Y36(Kc,2))},i.\u0275dir=s.lG2({type:i,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(e,n){2&e&&s.ekj("ng-untouched",n.isUntouched)("ng-touched",n.isTouched)("ng-pristine",n.isPristine)("ng-dirty",n.isDirty)("ng-valid",n.isValid)("ng-invalid",n.isInvalid)("ng-pending",n.isPending)},features:[s.qOj]}),i})(),iT=(()=>{class i extends nN{constructor(e){super(e)}}return i.\u0275fac=function(e){return new(e||i)(s.Y36($o,10))},i.\u0275dir=s.lG2({type:i,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(e,n){2&e&&s.ekj("ng-untouched",n.isUntouched)("ng-touched",n.isTouched)("ng-pristine",n.isPristine)("ng-dirty",n.isDirty)("ng-valid",n.isValid)("ng-invalid",n.isInvalid)("ng-pending",n.isPending)("ng-submitted",n.isSubmitted)},features:[s.qOj]}),i})();function rN(i,t){return i?`with name: '${t}'`:`at index: ${t}`}const oT=!1,Ey="VALID",yD="INVALID",Qg="PENDING",ky="DISABLED";function sT(i){return(wD(i)?i.validators:i)||null}function aT(i,t){return(wD(t)?t.asyncValidators:i)||null}function wD(i){return null!=i&&!Array.isArray(i)&&"object"==typeof i}function oN(i,t,e){const n=i.controls;if(!(t?Object.keys(n):n).length)throw new s.vHH(1e3,oT?function hj(i){return`\n    There are no form controls registered with this ${i?"group":"array"} yet. If you're using ngModel,\n    you may want to check next tick (e.g. use setTimeout).\n  `}(t):"");if(!n[e])throw new s.vHH(1001,oT?function mj(i,t){return`Cannot find form control ${rN(i,t)}`}(t,e):"")}function sN(i,t,e){i._forEachChild((n,r)=>{if(void 0===e[r])throw new s.vHH(1002,oT?function pj(i,t){return`Must supply a value for form control ${rN(i,t)}`}(t,r):"")})}class xD{constructor(t,e){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(t),this._assignAsyncValidators(e)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===Ey}get invalid(){return this.status===yD}get pending(){return this.status==Qg}get disabled(){return this.status===ky}get enabled(){return this.status!==ky}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._assignValidators(t)}setAsyncValidators(t){this._assignAsyncValidators(t)}addValidators(t){this.setValidators(eN(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(eN(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(tN(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(tN(t,this._rawAsyncValidators))}hasValidator(t){return vD(this._rawValidators,t)}hasAsyncValidator(t){return vD(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(e=>{e.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(e=>{e.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=Qg,!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=ky,this.errors=null,this._forEachChild(n=>{n.disable({...t,onlySelf:!0})}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...t,skipPristineCheck:e}),this._onDisabledChange.forEach(n=>n(!0))}enable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=Ey,this._forEachChild(n=>{n.enable({...t,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors({...t,skipPristineCheck:e}),this._onDisabledChange.forEach(n=>n(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}getRawValue(){return this.value}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Ey||this.status===Qg)&&this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?ky:Ey}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=Qg,this._hasOwnPendingAsyncValidator=!0;const e=$F(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(n=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(n,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}get(t){let e=t;return null==e||(Array.isArray(e)||(e=e.split(".")),0===e.length)?null:e.reduce((n,r)=>n&&n._find(r),this)}getError(t,e){const n=e?this.get(e):this;return n&&n.errors?n.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new s.vpe,this.statusChanges=new s.vpe}_calculateStatus(){return this._allControlsDisabled()?ky:this.errors?yD:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Qg)?Qg:this._anyControlsHaveStatus(yD)?yD:Ey}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){wD(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(t){return null}_assignValidators(t){this._rawValidators=Array.isArray(t)?t.slice():t,this._composedValidatorFn=function fj(i){return Array.isArray(i)?JS(i):i||null}(this._rawValidators)}_assignAsyncValidators(t){this._rawAsyncValidators=Array.isArray(t)?t.slice():t,this._composedAsyncValidatorFn=function gj(i){return Array.isArray(i)?eT(i):i||null}(this._rawAsyncValidators)}}class My extends xD{constructor(t,e,n){super(sT(e),aT(n,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e,n={}){this.registerControl(t,e),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}removeControl(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}setControl(t,e,n={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){sN(this,!0,t),Object.keys(t).forEach(n=>{oN(this,!0,n),this.controls[n].setValue(t[n],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(Object.keys(t).forEach(n=>{const r=this.controls[n];r&&r.patchValue(t[n],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t={},e={}){this._forEachChild((n,r)=>{n.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,n)=>(t[n]=e.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(e,n)=>!!n._syncPendingControls()||e);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){Object.keys(this.controls).forEach(e=>{const n=this.controls[e];n&&t(n,e)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(const[e,n]of Object.entries(this.controls))if(this.contains(e)&&t(n))return!0;return!1}_reduceValue(){return this._reduceChildren({},(e,n,r)=>((n.enabled||this.disabled)&&(e[r]=n.value),e))}_reduceChildren(t,e){let n=t;return this._forEachChild((r,o)=>{n=e(n,r,o)}),n}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(t){return this.controls.hasOwnProperty(t)?this.controls[t]:null}}class aN extends My{}const Wm=new s.OlP("CallSetDisabledState",{providedIn:"root",factory:()=>Iy}),Iy="always";function CD(i,t){return[...t.path,i]}function Sy(i,t,e=Iy){cT(i,t),t.valueAccessor.writeValue(i.value),(i.disabled||"always"===e)&&t.valueAccessor.setDisabledState?.(i.disabled),function vj(i,t){t.valueAccessor.registerOnChange(e=>{i._pendingValue=e,i._pendingChange=!0,i._pendingDirty=!0,"change"===i.updateOn&&cN(i,t)})}(i,t),function yj(i,t){const e=(n,r)=>{t.valueAccessor.writeValue(n),r&&t.viewToModelUpdate(n)};i.registerOnChange(e),t._registerOnDestroy(()=>{i._unregisterOnChange(e)})}(i,t),function bj(i,t){t.valueAccessor.registerOnTouched(()=>{i._pendingTouched=!0,"blur"===i.updateOn&&i._pendingChange&&cN(i,t),"submit"!==i.updateOn&&i.markAsTouched()})}(i,t),function _j(i,t){if(t.valueAccessor.setDisabledState){const e=n=>{t.valueAccessor.setDisabledState(n)};i.registerOnDisabledChange(e),t._registerOnDestroy(()=>{i._unregisterOnDisabledChange(e)})}}(i,t)}function DD(i,t,e=!0){const n=()=>{};t.valueAccessor&&(t.valueAccessor.registerOnChange(n),t.valueAccessor.registerOnTouched(n)),kD(i,t),i&&(t._invokeOnDestroyCallbacks(),i._registerOnCollectionChange(()=>{}))}function ED(i,t){i.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(t)})}function cT(i,t){const e=XF(i);null!==t.validator?i.setValidators(QF(e,t.validator)):"function"==typeof e&&i.setValidators([e]);const n=JF(i);null!==t.asyncValidator?i.setAsyncValidators(QF(n,t.asyncValidator)):"function"==typeof n&&i.setAsyncValidators([n]);const r=()=>i.updateValueAndValidity();ED(t._rawValidators,r),ED(t._rawAsyncValidators,r)}function kD(i,t){let e=!1;if(null!==i){if(null!==t.validator){const r=XF(i);if(Array.isArray(r)&&r.length>0){const o=r.filter(d=>d!==t.validator);o.length!==r.length&&(e=!0,i.setValidators(o))}}if(null!==t.asyncValidator){const r=JF(i);if(Array.isArray(r)&&r.length>0){const o=r.filter(d=>d!==t.asyncValidator);o.length!==r.length&&(e=!0,i.setAsyncValidators(o))}}}const n=()=>{};return ED(t._rawValidators,n),ED(t._rawAsyncValidators,n),e}function cN(i,t){i._pendingDirty&&i.markAsDirty(),i.setValue(i._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(i._pendingValue),i._pendingChange=!1}function lN(i,t){cT(i,t)}function dT(i,t){if(!i.hasOwnProperty("model"))return!1;const e=i.model;return!!e.isFirstChange()||!Object.is(t,e.currentValue)}function dN(i,t){i._syncPendingControls(),t.forEach(e=>{const n=e.control;"submit"===n.updateOn&&n._pendingChange&&(e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1)})}function uT(i,t){if(!t)return null;let e,n,r;return Array.isArray(t),t.forEach(o=>{o.constructor===qm?e=o:function Cj(i){return Object.getPrototypeOf(i.constructor)===Ym}(o)?n=o:r=o}),r||n||e||null}const Ej={provide:$o,useExisting:(0,s.Gpc)(()=>Ay)},Ty=(()=>Promise.resolve())();let Ay=(()=>{class i extends $o{constructor(e,n,r){super(),this.callSetDisabledState=r,this.submitted=!1,this._directives=new Set,this.ngSubmit=new s.vpe,this.form=new My({},JS(e),eT(n))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(e){Ty.then(()=>{const n=this._findContainer(e.path);e.control=n.registerControl(e.name,e.control),Sy(e.control,e,this.callSetDisabledState),e.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(e)})}getControl(e){return this.form.get(e.path)}removeControl(e){Ty.then(()=>{const n=this._findContainer(e.path);n&&n.removeControl(e.name),this._directives.delete(e)})}addFormGroup(e){Ty.then(()=>{const n=this._findContainer(e.path),r=new My({});lN(r,e),n.registerControl(e.name,r),r.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(e){Ty.then(()=>{const n=this._findContainer(e.path);n&&n.removeControl(e.name)})}getFormGroup(e){return this.form.get(e.path)}updateModel(e,n){Ty.then(()=>{this.form.get(e.path).setValue(n)})}setValue(e){this.control.setValue(e)}onSubmit(e){return this.submitted=!0,dN(this.form,this._directives),this.ngSubmit.emit(e),"dialog"===e?.target?.method}onReset(){this.resetForm()}resetForm(e){this.form.reset(e),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(e){return e.pop(),e.length?this.form.get(e):this.form}}return i.\u0275fac=function(e){return new(e||i)(s.Y36(Rr,10),s.Y36(Su,10),s.Y36(Wm,8))},i.\u0275dir=s.lG2({type:i,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(e,n){1&e&&s.NdJ("submit",function(o){return n.onSubmit(o)})("reset",function(){return n.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[s._Bn([Ej]),s.qOj]}),i})();function uN(i,t){const e=i.indexOf(t);e>-1&&i.splice(e,1)}function hN(i){return"object"==typeof i&&null!==i&&2===Object.keys(i).length&&"value"in i&&"disabled"in i}const Ry=class extends xD{constructor(t=null,e,n){super(sT(e),aT(n,e)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(t),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),wD(e)&&(e.nonNullable||e.initialValueIsDefault)&&(this.defaultValue=hN(t)?t.value:t)}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(n=>n(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=this.defaultValue,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){uN(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){uN(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){hN(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}},Ij={provide:Kc,useExisting:(0,s.Gpc)(()=>MD)},fN=(()=>Promise.resolve())();let MD=(()=>{class i extends Kc{constructor(e,n,r,o,d,h){super(),this._changeDetectorRef=d,this.callSetDisabledState=h,this.control=new Ry,this._registered=!1,this.update=new s.vpe,this._parent=e,this._setValidators(n),this._setAsyncValidators(r),this.valueAccessor=uT(0,o)}ngOnChanges(e){if(this._checkForErrors(),!this._registered||"name"in e){if(this._registered&&(this._checkName(),this.formDirective)){const n=e.name.previousValue;this.formDirective.removeControl({name:n,path:this._getPath(n)})}this._setUpControl()}"isDisabled"in e&&this._updateDisabled(e),dT(e,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Sy(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(e){fN.then(()=>{this.control.setValue(e,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(e){const n=e.isDisabled.currentValue,r=0!==n&&(0,s.D6c)(n);fN.then(()=>{r&&!this.control.disabled?this.control.disable():!r&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(e){return this._parent?CD(e,this._parent):[e]}}return i.\u0275fac=function(e){return new(e||i)(s.Y36($o,9),s.Y36(Rr,10),s.Y36(Su,10),s.Y36(Cr,10),s.Y36(s.sBO,8),s.Y36(Wm,8))},i.\u0275dir=s.lG2({type:i,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[s._Bn([Ij]),s.qOj,s.TTD]}),i})(),hT=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275dir=s.lG2({type:i,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),i})(),_N=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=s.oAB({type:i}),i.\u0275inj=s.cJS({}),i})();const mT=new s.OlP("NgModelWithFormControlWarning"),Pj={provide:$o,useExisting:(0,s.Gpc)(()=>Zm)};let Zm=(()=>{class i extends $o{constructor(e,n,r){super(),this.callSetDisabledState=r,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new s.vpe,this._setValidators(e),this._setAsyncValidators(n)}ngOnChanges(e){this._checkFormPresent(),e.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(kD(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(e){const n=this.form.get(e.path);return Sy(n,e,this.callSetDisabledState),n.updateValueAndValidity({emitEvent:!1}),this.directives.push(e),n}getControl(e){return this.form.get(e.path)}removeControl(e){DD(e.control||null,e,!1),function Dj(i,t){const e=i.indexOf(t);e>-1&&i.splice(e,1)}(this.directives,e)}addFormGroup(e){this._setUpFormContainer(e)}removeFormGroup(e){this._cleanUpFormContainer(e)}getFormGroup(e){return this.form.get(e.path)}addFormArray(e){this._setUpFormContainer(e)}removeFormArray(e){this._cleanUpFormContainer(e)}getFormArray(e){return this.form.get(e.path)}updateModel(e,n){this.form.get(e.path).setValue(n)}onSubmit(e){return this.submitted=!0,dN(this.form,this.directives),this.ngSubmit.emit(e),"dialog"===e?.target?.method}onReset(){this.resetForm()}resetForm(e){this.form.reset(e),this.submitted=!1}_updateDomValue(){this.directives.forEach(e=>{const n=e.control,r=this.form.get(e.path);n!==r&&(DD(n||null,e),(i=>i instanceof Ry)(r)&&(Sy(r,e,this.callSetDisabledState),e.control=r))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(e){const n=this.form.get(e.path);lN(n,e),n.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(e){if(this.form){const n=this.form.get(e.path);n&&function wj(i,t){return kD(i,t)}(n,e)&&n.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){cT(this.form,this),this._oldForm&&kD(this._oldForm,this)}_checkFormPresent(){}}return i.\u0275fac=function(e){return new(e||i)(s.Y36(Rr,10),s.Y36(Su,10),s.Y36(Wm,8))},i.\u0275dir=s.lG2({type:i,selectors:[["","formGroup",""]],hostBindings:function(e,n){1&e&&s.NdJ("submit",function(o){return n.onSubmit(o)})("reset",function(){return n.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[s._Bn([Pj]),s.qOj,s.TTD]}),i})();const Lj={provide:Kc,useExisting:(0,s.Gpc)(()=>ID)};let ID=(()=>{class i extends Kc{set isDisabled(e){}constructor(e,n,r,o,d){super(),this._ngModelWarningConfig=d,this._added=!1,this.update=new s.vpe,this._ngModelWarningSent=!1,this._parent=e,this._setValidators(n),this._setAsyncValidators(r),this.valueAccessor=uT(0,o)}ngOnChanges(e){this._added||this._setUpControl(),dT(e,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}get path(){return CD(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}}return i._ngModelWarningSentOnce=!1,i.\u0275fac=function(e){return new(e||i)(s.Y36($o,13),s.Y36(Rr,10),s.Y36(Su,10),s.Y36(Cr,10),s.Y36(mT,8))},i.\u0275dir=s.lG2({type:i,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[s._Bn([Lj]),s.qOj,s.TTD]}),i})(),RN=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=s.oAB({type:i}),i.\u0275inj=s.cJS({imports:[_N]}),i})();class ON extends xD{constructor(t,e,n){super(sT(e),aT(n,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(t){return this.controls[this._adjustIndex(t)]}push(t,e={}){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}insert(t,e,n={}){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity({emitEvent:n.emitEvent})}removeAt(t,e={}){let n=this._adjustIndex(t);n<0&&(n=0),this.controls[n]&&this.controls[n]._registerOnCollectionChange(()=>{}),this.controls.splice(n,1),this.updateValueAndValidity({emitEvent:e.emitEvent})}setControl(t,e,n={}){let r=this._adjustIndex(t);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),e&&(this.controls.splice(r,0,e),this._registerControl(e)),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,e={}){sN(this,!1,t),t.forEach((n,r)=>{oN(this,!1,r),this.at(r).setValue(n,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(t.forEach((n,r)=>{this.at(r)&&this.at(r).patchValue(n,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t=[],e={}){this._forEachChild((n,r)=>{n.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(t=>t.getRawValue())}clear(t={}){this.controls.length<1||(this._forEachChild(e=>e._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:t.emitEvent}))}_adjustIndex(t){return t<0?t+this.length:t}_syncPendingControls(){let t=this.controls.reduce((e,n)=>!!n._syncPendingControls()||e,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){this.controls.forEach((e,n)=>{t(e,n)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(e=>e.enabled&&t(e))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_allControlsDisabled(){for(const t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}_find(t){return this.at(t)??null}}function PN(i){return!!i&&(void 0!==i.asyncValidators||void 0!==i.validators||void 0!==i.updateOn)}let bT=(()=>{class i{constructor(){this.useNonNullable=!1}get nonNullable(){const e=new i;return e.useNonNullable=!0,e}group(e,n=null){const r=this._reduceControls(e);let o={};return PN(n)?o=n:null!==n&&(o.validators=n.validator,o.asyncValidators=n.asyncValidator),new My(r,o)}record(e,n=null){const r=this._reduceControls(e);return new aN(r,n)}control(e,n,r){let o={};return this.useNonNullable?(PN(n)?o=n:(o.validators=n,o.asyncValidators=r),new Ry(e,{...o,nonNullable:!0})):new Ry(e,n,r)}array(e,n,r){const o=e.map(d=>this._createControl(d));return new ON(o,n,r)}_reduceControls(e){const n={};return Object.keys(e).forEach(r=>{n[r]=this._createControl(e[r])}),n}_createControl(e){return e instanceof Ry||e instanceof xD?e:Array.isArray(e)?this.control(e[0],e.length>1?e[1]:null,e.length>2?e[2]:null):this.control(e)}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=s.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),Xj=(()=>{class i{static withConfig(e){return{ngModule:i,providers:[{provide:Wm,useValue:e.callSetDisabledState??Iy}]}}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=s.oAB({type:i}),i.\u0275inj=s.cJS({imports:[RN]}),i})(),Jj=(()=>{class i{static withConfig(e){return{ngModule:i,providers:[{provide:mT,useValue:e.warnOnNgModelWithFormControl??"always"},{provide:Wm,useValue:e.callSetDisabledState??Iy}]}}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=s.oAB({type:i}),i.\u0275inj=s.cJS({imports:[RN]}),i})();const e6=["matFormFieldNotchedOutline",""],t6=["*"],n6=["textField"],r6=["iconPrefixContainer"],o6=["textPrefixContainer"];function s6(i,t){1&i&&s._UZ(0,"span",19)}function a6(i,t){if(1&i){const e=s.EpF();s.TgZ(0,"label",17),s.NdJ("cdkObserveContent",function(){s.CHM(e);const r=s.oxw(2);return s.KtG(r._refreshOutlineNotchWidth())}),s.Hsn(1,1),s.YNc(2,s6,1,0,"span",18),s.qZA()}if(2&i){const e=s.oxw(2);s.Q6J("floating",e._shouldLabelFloat())("cdkObserveContentDisabled",!e._hasOutline())("id",e._labelId),s.uIk("for",e._control.id)("aria-owns",e._control.id),s.xp6(2),s.Q6J("ngIf",!e.hideRequiredMarker&&e._control.required)}}function c6(i,t){if(1&i&&s.YNc(0,a6,3,6,"label",16),2&i){const e=s.oxw();s.Q6J("ngIf",e._hasFloatingLabel())}}function l6(i,t){1&i&&s._UZ(0,"div",20)}function d6(i,t){}function u6(i,t){if(1&i&&s.YNc(0,d6,0,0,"ng-template",22),2&i){s.oxw(2);const e=s.MAs(1);s.Q6J("ngTemplateOutlet",e)}}function h6(i,t){if(1&i&&(s.TgZ(0,"div",21),s.YNc(1,u6,1,1,"ng-template",9),s.qZA()),2&i){const e=s.oxw();s.Q6J("matFormFieldNotchedOutlineOpen",e._shouldLabelFloat())("matFormFieldNotchedOutlineLabelWidth",e._labelWidth),s.xp6(1),s.Q6J("ngIf",!e._forceDisplayInfixLabel())}}function m6(i,t){1&i&&(s.TgZ(0,"div",23,24),s.Hsn(2,2),s.qZA())}function p6(i,t){1&i&&(s.TgZ(0,"div",25,26),s.Hsn(2,3),s.qZA())}function f6(i,t){}function g6(i,t){if(1&i&&s.YNc(0,f6,0,0,"ng-template",22),2&i){s.oxw();const e=s.MAs(1);s.Q6J("ngTemplateOutlet",e)}}function _6(i,t){1&i&&(s.TgZ(0,"div",27),s.Hsn(1,4),s.qZA())}function v6(i,t){1&i&&(s.TgZ(0,"div",28),s.Hsn(1,5),s.qZA())}function b6(i,t){1&i&&s._UZ(0,"div",29)}function y6(i,t){if(1&i&&(s.TgZ(0,"div",30),s.Hsn(1,6),s.qZA()),2&i){const e=s.oxw();s.Q6J("@transitionMessages",e._subscriptAnimationState)}}function w6(i,t){if(1&i&&(s.TgZ(0,"mat-hint",34),s._uU(1),s.qZA()),2&i){const e=s.oxw(2);s.Q6J("id",e._hintLabelId),s.xp6(1),s.Oqu(e.hintLabel)}}function x6(i,t){if(1&i&&(s.TgZ(0,"div",31),s.YNc(1,w6,2,2,"mat-hint",32),s.Hsn(2,7),s._UZ(3,"div",33),s.Hsn(4,8),s.qZA()),2&i){const e=s.oxw();s.Q6J("@transitionMessages",e._subscriptAnimationState),s.xp6(1),s.Q6J("ngIf",e.hintLabel)}}const C6=["*",[["mat-label"]],[["","matPrefix",""],["","matIconPrefix",""]],[["","matTextPrefix",""]],[["","matTextSuffix",""]],[["","matSuffix",""],["","matIconSuffix",""]],[["mat-error"],["","matError",""]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],D6=["*","mat-label","[matPrefix], [matIconPrefix]","[matTextPrefix]","[matTextSuffix]","[matSuffix], [matIconSuffix]","mat-error, [matError]","mat-hint:not([align='end'])","mat-hint[align='end']"];let Xg=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275dir=s.lG2({type:i,selectors:[["mat-label"]]}),i})();const E6=new s.OlP("MatError");let k6=0,FN=(()=>{class i{constructor(){this.align="start",this.id="mat-mdc-hint-"+k6++}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275dir=s.lG2({type:i,selectors:[["mat-hint"]],hostAttrs:[1,"mat-mdc-form-field-hint","mat-mdc-form-field-bottom-align"],hostVars:4,hostBindings:function(e,n){2&e&&(s.Ikx("id",n.id),s.uIk("align",null),s.ekj("mat-mdc-form-field-hint-end","end"===n.align))},inputs:{align:"align",id:"id"}}),i})();const M6=new s.OlP("MatPrefix"),I6=new s.OlP("MatSuffix");let NN=(()=>{class i{constructor(e){this._elementRef=e,this.floating=!1}getWidth(){return function S6(i){if(null!==i.offsetParent)return i.scrollWidth;const e=i.cloneNode(!0);e.style.setProperty("position","absolute"),e.style.setProperty("transform","translate(-9999px, -9999px)"),document.documentElement.appendChild(e);const n=e.scrollWidth;return e.remove(),n}(this._elementRef.nativeElement)}get element(){return this._elementRef.nativeElement}}return i.\u0275fac=function(e){return new(e||i)(s.Y36(s.SBq))},i.\u0275dir=s.lG2({type:i,selectors:[["label","matFormFieldFloatingLabel",""]],hostAttrs:[1,"mdc-floating-label","mat-mdc-floating-label"],hostVars:2,hostBindings:function(e,n){2&e&&s.ekj("mdc-floating-label--float-above",n.floating)},inputs:{floating:"floating"}}),i})();const LN="mdc-line-ripple--active",TD="mdc-line-ripple--deactivating";let BN=(()=>{class i{constructor(e,n){this._elementRef=e,this._handleTransitionEnd=r=>{const o=this._elementRef.nativeElement.classList,d=o.contains(TD);"opacity"===r.propertyName&&d&&o.remove(LN,TD)},n.runOutsideAngular(()=>{e.nativeElement.addEventListener("transitionend",this._handleTransitionEnd)})}activate(){const e=this._elementRef.nativeElement.classList;e.remove(TD),e.add(LN)}deactivate(){this._elementRef.nativeElement.classList.add(TD)}ngOnDestroy(){this._elementRef.nativeElement.removeEventListener("transitionend",this._handleTransitionEnd)}}return i.\u0275fac=function(e){return new(e||i)(s.Y36(s.SBq),s.Y36(s.R0b))},i.\u0275dir=s.lG2({type:i,selectors:[["div","matFormFieldLineRipple",""]],hostAttrs:[1,"mdc-line-ripple"]}),i})(),VN=(()=>{class i{constructor(e,n){this._elementRef=e,this._ngZone=n,this.labelWidth=0,this.open=!1}ngAfterViewInit(){const e=this._elementRef.nativeElement.querySelector(".mdc-floating-label");e?(this._elementRef.nativeElement.classList.add("mdc-notched-outline--upgraded"),"function"==typeof requestAnimationFrame&&(e.style.transitionDuration="0s",this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>e.style.transitionDuration="")}))):this._elementRef.nativeElement.classList.add("mdc-notched-outline--no-label")}_getNotchWidth(){return this.open?this.labelWidth>0?`calc(${this.labelWidth}px * var(--mat-mdc-form-field-floating-label-scale, 0.75) + 9px)`:"0px":null}}return i.\u0275fac=function(e){return new(e||i)(s.Y36(s.SBq),s.Y36(s.R0b))},i.\u0275cmp=s.Xpm({type:i,selectors:[["div","matFormFieldNotchedOutline",""]],hostAttrs:[1,"mdc-notched-outline"],hostVars:2,hostBindings:function(e,n){2&e&&s.ekj("mdc-notched-outline--notched",n.open)},inputs:{labelWidth:["matFormFieldNotchedOutlineLabelWidth","labelWidth"],open:["matFormFieldNotchedOutlineOpen","open"]},attrs:e6,ngContentSelectors:t6,decls:4,vars:2,consts:[[1,"mdc-notched-outline__leading"],[1,"mdc-notched-outline__notch"],[1,"mdc-notched-outline__trailing"]],template:function(e,n){1&e&&(s.F$t(),s._UZ(0,"div",0),s.TgZ(1,"div",1),s.Hsn(2),s.qZA(),s._UZ(3,"div",2)),2&e&&(s.xp6(1),s.Udp("width",n._getNotchWidth()))},encapsulation:2,changeDetection:0}),i})();const T6={transitionMessages:un("transitionMessages",[fi("enter",_t({opacity:1,transform:"translateY(0%)"})),bi("void => enter",[_t({opacity:0,transform:"translateY(-5px)"}),vi("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let yT=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275dir=s.lG2({type:i}),i})();const Oy=new s.OlP("MatFormField"),A6=new s.OlP("MAT_FORM_FIELD_DEFAULT_OPTIONS");let HN=0,AD=(()=>{class i{get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(e){this._hideRequiredMarker=It(e)}get floatLabel(){return this._floatLabel||this._defaults?.floatLabel||"auto"}set floatLabel(e){e!==this._floatLabel&&(this._floatLabel=e,this._changeDetectorRef.markForCheck())}get appearance(){return this._appearance}set appearance(e){const n=this._appearance;this._appearance=e||this._defaults?.appearance||"fill","outline"===this._appearance&&this._appearance!==n&&(this._refreshOutlineNotchWidth(),this._needsOutlineLabelOffsetUpdateOnStable=!0)}get subscriptSizing(){return this._subscriptSizing||this._defaults?.subscriptSizing||"fixed"}set subscriptSizing(e){this._subscriptSizing=e||this._defaults?.subscriptSizing||"fixed"}get hintLabel(){return this._hintLabel}set hintLabel(e){this._hintLabel=e,this._processHints()}get _control(){return this._explicitFormFieldControl||this._formFieldControl}set _control(e){this._explicitFormFieldControl=e}constructor(e,n,r,o,d,h,g,b){this._elementRef=e,this._changeDetectorRef=n,this._ngZone=r,this._dir=o,this._platform=d,this._defaults=h,this._animationMode=g,this._document=b,this._hideRequiredMarker=!1,this.color="primary",this._appearance="fill",this._subscriptSizing=null,this._hintLabel="",this._hasIconPrefix=!1,this._hasTextPrefix=!1,this._hasIconSuffix=!1,this._hasTextSuffix=!1,this._labelId="mat-mdc-form-field-label-"+HN++,this._hintLabelId="mat-mdc-hint-"+HN++,this._subscriptAnimationState="",this._labelWidth=0,this._destroyed=new nt.x,this._isFocused=null,this._needsOutlineLabelOffsetUpdateOnStable=!1,h&&(h.appearance&&(this.appearance=h.appearance),this._hideRequiredMarker=Boolean(h?.hideRequiredMarker),h.color&&(this.color=h.color))}ngAfterViewInit(){this._updateFocusState(),this._refreshOutlineNotchWidth(),this._document?.fonts?.ready?this._document.fonts.ready.then(()=>{this._refreshOutlineNotchWidth(),this._changeDetectorRef.markForCheck()}):setTimeout(()=>this._refreshOutlineNotchWidth(),100),this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngAfterContentInit(){this._assertFormFieldControl(),this._initializeControl(),this._initializeSubscript(),this._initializePrefixAndSuffix(),this._initializeOutlineLabelOffsetSubscriptions()}ngAfterContentChecked(){this._assertFormFieldControl()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}getLabelId(){return this._hasFloatingLabel()?this._labelId:null}getConnectedOverlayOrigin(){return this._textField||this._elementRef}_animateAndLockLabel(){this._hasFloatingLabel()&&(this.floatLabel="always")}_initializeControl(){const e=this._control;e.controlType&&this._elementRef.nativeElement.classList.add(`mat-mdc-form-field-type-${e.controlType}`),e.stateChanges.subscribe(()=>{this._updateFocusState(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),e.ngControl&&e.ngControl.valueChanges&&e.ngControl.valueChanges.pipe(Mi(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck())}_checkPrefixAndSuffixTypes(){this._hasIconPrefix=!!this._prefixChildren.find(e=>!e._isText),this._hasTextPrefix=!!this._prefixChildren.find(e=>e._isText),this._hasIconSuffix=!!this._suffixChildren.find(e=>!e._isText),this._hasTextSuffix=!!this._suffixChildren.find(e=>e._isText)}_initializePrefixAndSuffix(){this._checkPrefixAndSuffixTypes(),(0,Br.T)(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._checkPrefixAndSuffixTypes(),this._changeDetectorRef.markForCheck()})}_initializeSubscript(){this._hintChildren.changes.subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._validateHints(),this._syncDescribedByIds()}_assertFormFieldControl(){}_updateFocusState(){this._control.focused&&!this._isFocused?(this._isFocused=!0,this._lineRipple?.activate()):!this._control.focused&&(this._isFocused||null===this._isFocused)&&(this._isFocused=!1,this._lineRipple?.deactivate()),this._textField?.nativeElement.classList.toggle("mdc-text-field--focused",this._control.focused)}_initializeOutlineLabelOffsetSubscriptions(){this._prefixChildren.changes.subscribe(()=>this._needsOutlineLabelOffsetUpdateOnStable=!0),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe(Mi(this._destroyed)).subscribe(()=>{this._needsOutlineLabelOffsetUpdateOnStable&&(this._needsOutlineLabelOffsetUpdateOnStable=!1,this._updateOutlineLabelOffset())})}),this._dir.change.pipe(Mi(this._destroyed)).subscribe(()=>this._needsOutlineLabelOffsetUpdateOnStable=!0)}_shouldAlwaysFloat(){return"always"===this.floatLabel}_hasOutline(){return"outline"===this.appearance}_forceDisplayInfixLabel(){return!this._platform.isBrowser&&this._prefixChildren.length&&!this._shouldLabelFloat()}_hasFloatingLabel(){return!!this._labelChildNonStatic||!!this._labelChildStatic}_shouldLabelFloat(){return this._control.shouldLabelFloat||this._shouldAlwaysFloat()}_shouldForward(e){const n=this._control?this._control.ngControl:null;return n&&n[e]}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_refreshOutlineNotchWidth(){!this._hasOutline()||!this._floatingLabel||(this._labelWidth=this._floatingLabel.getWidth())}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){}_syncDescribedByIds(){if(this._control){let e=[];if(this._control.userAriaDescribedBy&&"string"==typeof this._control.userAriaDescribedBy&&e.push(...this._control.userAriaDescribedBy.split(" ")),"hint"===this._getDisplayedMessages()){const n=this._hintChildren?this._hintChildren.find(o=>"start"===o.align):null,r=this._hintChildren?this._hintChildren.find(o=>"end"===o.align):null;n?e.push(n.id):this._hintLabel&&e.push(this._hintLabelId),r&&e.push(r.id)}else this._errorChildren&&e.push(...this._errorChildren.map(n=>n.id));this._control.setDescribedByIds(e)}}_updateOutlineLabelOffset(){if(!this._platform.isBrowser||!this._hasOutline()||!this._floatingLabel)return;const e=this._floatingLabel.element;if(!this._iconPrefixContainer&&!this._textPrefixContainer)return void(e.style.transform="");if(!this._isAttachedToDom())return void(this._needsOutlineLabelOffsetUpdateOnStable=!0);const n=this._iconPrefixContainer?.nativeElement,r=this._textPrefixContainer?.nativeElement,o=n?.getBoundingClientRect().width??0,d=r?.getBoundingClientRect().width??0;e.style.transform=`var(\n        --mat-mdc-form-field-label-transform,\n        translateY(-50%) translateX(calc(${"rtl"===this._dir.value?"-1":"1"} * (${o+d}px + var(--mat-mdc-form-field-label-offset-x, 0px))))\n    )`}_isAttachedToDom(){const e=this._elementRef.nativeElement;if(e.getRootNode){const n=e.getRootNode();return n&&n!==e}return document.documentElement.contains(e)}}return i.\u0275fac=function(e){return new(e||i)(s.Y36(s.SBq),s.Y36(s.sBO),s.Y36(s.R0b),s.Y36(_o),s.Y36(An),s.Y36(A6,8),s.Y36(s.QbO,8),s.Y36(K))},i.\u0275cmp=s.Xpm({type:i,selectors:[["mat-form-field"]],contentQueries:function(e,n,r){if(1&e&&(s.Suo(r,Xg,5),s.Suo(r,Xg,7),s.Suo(r,yT,5),s.Suo(r,M6,5),s.Suo(r,I6,5),s.Suo(r,E6,5),s.Suo(r,FN,5)),2&e){let o;s.iGM(o=s.CRH())&&(n._labelChildNonStatic=o.first),s.iGM(o=s.CRH())&&(n._labelChildStatic=o.first),s.iGM(o=s.CRH())&&(n._formFieldControl=o.first),s.iGM(o=s.CRH())&&(n._prefixChildren=o),s.iGM(o=s.CRH())&&(n._suffixChildren=o),s.iGM(o=s.CRH())&&(n._errorChildren=o),s.iGM(o=s.CRH())&&(n._hintChildren=o)}},viewQuery:function(e,n){if(1&e&&(s.Gf(n6,5),s.Gf(r6,5),s.Gf(o6,5),s.Gf(NN,5),s.Gf(VN,5),s.Gf(BN,5)),2&e){let r;s.iGM(r=s.CRH())&&(n._textField=r.first),s.iGM(r=s.CRH())&&(n._iconPrefixContainer=r.first),s.iGM(r=s.CRH())&&(n._textPrefixContainer=r.first),s.iGM(r=s.CRH())&&(n._floatingLabel=r.first),s.iGM(r=s.CRH())&&(n._notchedOutline=r.first),s.iGM(r=s.CRH())&&(n._lineRipple=r.first)}},hostAttrs:[1,"mat-mdc-form-field"],hostVars:42,hostBindings:function(e,n){2&e&&s.ekj("mat-mdc-form-field-label-always-float",n._shouldAlwaysFloat())("mat-mdc-form-field-has-icon-prefix",n._hasIconPrefix)("mat-mdc-form-field-has-icon-suffix",n._hasIconSuffix)("mat-form-field-invalid",n._control.errorState)("mat-form-field-disabled",n._control.disabled)("mat-form-field-autofilled",n._control.autofilled)("mat-form-field-no-animations","NoopAnimations"===n._animationMode)("mat-form-field-appearance-fill","fill"==n.appearance)("mat-form-field-appearance-outline","outline"==n.appearance)("mat-form-field-hide-placeholder",n._hasFloatingLabel()&&!n._shouldLabelFloat())("mat-focused",n._control.focused)("mat-primary","accent"!==n.color&&"warn"!==n.color)("mat-accent","accent"===n.color)("mat-warn","warn"===n.color)("ng-untouched",n._shouldForward("untouched"))("ng-touched",n._shouldForward("touched"))("ng-pristine",n._shouldForward("pristine"))("ng-dirty",n._shouldForward("dirty"))("ng-valid",n._shouldForward("valid"))("ng-invalid",n._shouldForward("invalid"))("ng-pending",n._shouldForward("pending"))},inputs:{hideRequiredMarker:"hideRequiredMarker",color:"color",floatLabel:"floatLabel",appearance:"appearance",subscriptSizing:"subscriptSizing",hintLabel:"hintLabel"},exportAs:["matFormField"],features:[s._Bn([{provide:Oy,useExisting:i}])],ngContentSelectors:D6,decls:18,vars:23,consts:[["labelTemplate",""],[1,"mat-mdc-text-field-wrapper","mdc-text-field",3,"click"],["textField",""],["class","mat-mdc-form-field-focus-overlay",4,"ngIf"],[1,"mat-mdc-form-field-flex"],["matFormFieldNotchedOutline","",3,"matFormFieldNotchedOutlineOpen","matFormFieldNotchedOutlineLabelWidth",4,"ngIf"],["class","mat-mdc-form-field-icon-prefix",4,"ngIf"],["class","mat-mdc-form-field-text-prefix",4,"ngIf"],[1,"mat-mdc-form-field-infix"],[3,"ngIf"],["class","mat-mdc-form-field-text-suffix",4,"ngIf"],["class","mat-mdc-form-field-icon-suffix",4,"ngIf"],["matFormFieldLineRipple","",4,"ngIf"],[1,"mat-mdc-form-field-subscript-wrapper","mat-mdc-form-field-bottom-align",3,"ngSwitch"],["class","mat-mdc-form-field-error-wrapper",4,"ngSwitchCase"],["class","mat-mdc-form-field-hint-wrapper",4,"ngSwitchCase"],["matFormFieldFloatingLabel","",3,"floating","cdkObserveContentDisabled","id","cdkObserveContent",4,"ngIf"],["matFormFieldFloatingLabel","",3,"floating","cdkObserveContentDisabled","id","cdkObserveContent"],["aria-hidden","true","class","mat-mdc-form-field-required-marker mdc-floating-label--required",4,"ngIf"],["aria-hidden","true",1,"mat-mdc-form-field-required-marker","mdc-floating-label--required"],[1,"mat-mdc-form-field-focus-overlay"],["matFormFieldNotchedOutline","",3,"matFormFieldNotchedOutlineOpen","matFormFieldNotchedOutlineLabelWidth"],[3,"ngTemplateOutlet"],[1,"mat-mdc-form-field-icon-prefix"],["iconPrefixContainer",""],[1,"mat-mdc-form-field-text-prefix"],["textPrefixContainer",""],[1,"mat-mdc-form-field-text-suffix"],[1,"mat-mdc-form-field-icon-suffix"],["matFormFieldLineRipple",""],[1,"mat-mdc-form-field-error-wrapper"],[1,"mat-mdc-form-field-hint-wrapper"],[3,"id",4,"ngIf"],[1,"mat-mdc-form-field-hint-spacer"],[3,"id"]],template:function(e,n){1&e&&(s.F$t(C6),s.YNc(0,c6,1,1,"ng-template",null,0,s.W1O),s.TgZ(2,"div",1,2),s.NdJ("click",function(o){return n._control.onContainerClick&&n._control.onContainerClick(o)}),s.YNc(4,l6,1,0,"div",3),s.TgZ(5,"div",4),s.YNc(6,h6,2,3,"div",5),s.YNc(7,m6,3,0,"div",6),s.YNc(8,p6,3,0,"div",7),s.TgZ(9,"div",8),s.YNc(10,g6,1,1,"ng-template",9),s.Hsn(11),s.qZA(),s.YNc(12,_6,2,0,"div",10),s.YNc(13,v6,2,0,"div",11),s.qZA(),s.YNc(14,b6,1,0,"div",12),s.qZA(),s.TgZ(15,"div",13),s.YNc(16,y6,2,1,"div",14),s.YNc(17,x6,5,2,"div",15),s.qZA()),2&e&&(s.xp6(2),s.ekj("mdc-text-field--filled",!n._hasOutline())("mdc-text-field--outlined",n._hasOutline())("mdc-text-field--no-label",!n._hasFloatingLabel())("mdc-text-field--disabled",n._control.disabled)("mdc-text-field--invalid",n._control.errorState),s.xp6(2),s.Q6J("ngIf",!n._hasOutline()&&!n._control.disabled),s.xp6(2),s.Q6J("ngIf",n._hasOutline()),s.xp6(1),s.Q6J("ngIf",n._hasIconPrefix),s.xp6(1),s.Q6J("ngIf",n._hasTextPrefix),s.xp6(2),s.Q6J("ngIf",!n._hasOutline()||n._forceDisplayInfixLabel()),s.xp6(2),s.Q6J("ngIf",n._hasTextSuffix),s.xp6(1),s.Q6J("ngIf",n._hasIconSuffix),s.xp6(1),s.Q6J("ngIf",!n._hasOutline()),s.xp6(1),s.ekj("mat-mdc-form-field-subscript-dynamic-size","dynamic"===n.subscriptSizing),s.Q6J("ngSwitch",n._getDisplayedMessages()),s.xp6(1),s.Q6J("ngSwitchCase","error"),s.xp6(1),s.Q6J("ngSwitchCase","hint"))},dependencies:[ir,Io,ko,wa,Bb,FN,NN,VN,BN],styles:['.mdc-text-field{border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:0;border-bottom-left-radius:0;display:inline-flex;align-items:baseline;padding:0 16px;position:relative;box-sizing:border-box;overflow:hidden;will-change:opacity,transform,color}.mdc-text-field .mdc-floating-label{top:50%;transform:translateY(-50%);pointer-events:none}.mdc-text-field__input{height:28px;width:100%;min-width:0;border:none;border-radius:0;background:none;appearance:none;padding:0}.mdc-text-field__input::-ms-clear{display:none}.mdc-text-field__input::-webkit-calendar-picker-indicator{display:none}.mdc-text-field__input:focus{outline:none}.mdc-text-field__input:invalid{box-shadow:none}@media all{.mdc-text-field__input::placeholder{opacity:0}}@media all{.mdc-text-field__input:-ms-input-placeholder{opacity:0}}@media all{.mdc-text-field--no-label .mdc-text-field__input::placeholder,.mdc-text-field--focused .mdc-text-field__input::placeholder{opacity:1}}@media all{.mdc-text-field--no-label .mdc-text-field__input:-ms-input-placeholder,.mdc-text-field--focused .mdc-text-field__input:-ms-input-placeholder{opacity:1}}.mdc-text-field__affix{height:28px;opacity:0;white-space:nowrap}.mdc-text-field--label-floating .mdc-text-field__affix,.mdc-text-field--no-label .mdc-text-field__affix{opacity:1}@supports(-webkit-hyphens: none){.mdc-text-field--outlined .mdc-text-field__affix{align-items:center;align-self:center;display:inline-flex;height:100%}}.mdc-text-field__affix--prefix{padding-left:0;padding-right:2px}[dir=rtl] .mdc-text-field__affix--prefix,.mdc-text-field__affix--prefix[dir=rtl]{padding-left:2px;padding-right:0}.mdc-text-field--end-aligned .mdc-text-field__affix--prefix{padding-left:0;padding-right:12px}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__affix--prefix,.mdc-text-field--end-aligned .mdc-text-field__affix--prefix[dir=rtl]{padding-left:12px;padding-right:0}.mdc-text-field__affix--suffix{padding-left:12px;padding-right:0}[dir=rtl] .mdc-text-field__affix--suffix,.mdc-text-field__affix--suffix[dir=rtl]{padding-left:0;padding-right:12px}.mdc-text-field--end-aligned .mdc-text-field__affix--suffix{padding-left:2px;padding-right:0}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__affix--suffix,.mdc-text-field--end-aligned .mdc-text-field__affix--suffix[dir=rtl]{padding-left:0;padding-right:2px}.mdc-text-field--filled{height:56px}.mdc-text-field--filled::before{display:inline-block;width:0;height:40px;content:"";vertical-align:0}.mdc-text-field--filled .mdc-floating-label{left:16px;right:initial}[dir=rtl] .mdc-text-field--filled .mdc-floating-label,.mdc-text-field--filled .mdc-floating-label[dir=rtl]{left:initial;right:16px}.mdc-text-field--filled .mdc-floating-label--float-above{transform:translateY(-106%) scale(0.75)}.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__input{height:100%}.mdc-text-field--filled.mdc-text-field--no-label .mdc-floating-label{display:none}.mdc-text-field--filled.mdc-text-field--no-label::before{display:none}@supports(-webkit-hyphens: none){.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__affix{align-items:center;align-self:center;display:inline-flex;height:100%}}.mdc-text-field--outlined{height:56px;overflow:visible}.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-37.25px) scale(1)}.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-34.75px) scale(0.75)}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--outlined .mdc-text-field__input{height:100%}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:var(--mdc-shape-small, 4px)}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading[dir=rtl]{border-top-left-radius:0;border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:var(--mdc-shape-small, 4px);border-bottom-left-radius:0}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{width:max(12px, var(--mdc-shape-small, 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__notch{max-width:calc(100% - max(12px, var(--mdc-shape-small, 4px))*2)}}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing{border-top-left-radius:0;border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:var(--mdc-shape-small, 4px);border-bottom-left-radius:0}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing[dir=rtl]{border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:var(--mdc-shape-small, 4px)}@supports(top: max(0%)){.mdc-text-field--outlined{padding-left:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined{padding-right:max(16px, var(--mdc-shape-small, 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-left:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-right:max(16px, var(--mdc-shape-small, 4px))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-left:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-right:max(16px, var(--mdc-shape-small, 4px))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-right:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-left:max(16px, var(--mdc-shape-small, 4px))}}.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-right:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-left:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-left:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-right:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon{padding-left:0;padding-right:0}.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:1px}.mdc-text-field--outlined .mdc-floating-label{left:4px;right:initial}[dir=rtl] .mdc-text-field--outlined .mdc-floating-label,.mdc-text-field--outlined .mdc-floating-label[dir=rtl]{left:initial;right:4px}.mdc-text-field--outlined .mdc-text-field__input{display:flex;border:none !important;background-color:rgba(0,0,0,0)}.mdc-text-field--outlined .mdc-notched-outline{z-index:1}.mdc-text-field--textarea{flex-direction:column;align-items:center;width:auto;height:auto;padding:0}.mdc-text-field--textarea .mdc-floating-label{top:19px}.mdc-text-field--textarea .mdc-floating-label:not(.mdc-floating-label--float-above){transform:none}.mdc-text-field--textarea .mdc-text-field__input{flex-grow:1;height:auto;min-height:1.5rem;overflow-x:hidden;overflow-y:auto;box-sizing:border-box;resize:none;padding:0 16px}.mdc-text-field--textarea.mdc-text-field--filled::before{display:none}.mdc-text-field--textarea.mdc-text-field--filled .mdc-floating-label--float-above{transform:translateY(-10.25px) scale(0.75)}.mdc-text-field--textarea.mdc-text-field--filled .mdc-text-field__input{margin-top:23px;margin-bottom:9px}.mdc-text-field--textarea.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__input{margin-top:16px;margin-bottom:16px}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:0}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-27.25px) scale(1)}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--textarea.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-24.75px) scale(0.75)}.mdc-text-field--textarea.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-text-field__input{margin-top:16px;margin-bottom:16px}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label{top:18px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field__input{margin-bottom:2px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter{align-self:flex-end;padding:0 16px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter::after{display:inline-block;width:0;height:16px;content:"";vertical-align:-16px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter::before{display:none}.mdc-text-field__resizer{align-self:stretch;display:inline-flex;flex-direction:column;flex-grow:1;max-height:100%;max-width:100%;min-height:56px;min-width:fit-content;min-width:-moz-available;min-width:-webkit-fill-available;overflow:hidden;resize:both}.mdc-text-field--filled .mdc-text-field__resizer{transform:translateY(-1px)}.mdc-text-field--filled .mdc-text-field__resizer .mdc-text-field__input,.mdc-text-field--filled .mdc-text-field__resizer .mdc-text-field-character-counter{transform:translateY(1px)}.mdc-text-field--outlined .mdc-text-field__resizer{transform:translateX(-1px) translateY(-1px)}[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer,.mdc-text-field--outlined .mdc-text-field__resizer[dir=rtl]{transform:translateX(1px) translateY(-1px)}.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input,.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter{transform:translateX(1px) translateY(1px)}[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input,[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter,.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input[dir=rtl],.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter[dir=rtl]{transform:translateX(-1px) translateY(1px)}.mdc-text-field--with-leading-icon{padding-left:0;padding-right:16px}[dir=rtl] .mdc-text-field--with-leading-icon,.mdc-text-field--with-leading-icon[dir=rtl]{padding-left:16px;padding-right:0}.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 48px);left:48px;right:initial}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label,.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label[dir=rtl]{left:initial;right:48px}.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100% / 0.75 - 64px / 0.75)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label{left:36px;right:initial}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label[dir=rtl]{left:initial;right:36px}.mdc-text-field--with-leading-icon.mdc-text-field--outlined :not(.mdc-notched-outline--notched) .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-37.25px) translateX(-32px) scale(1)}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above[dir=rtl]{transform:translateY(-37.25px) translateX(32px) scale(1)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-34.75px) translateX(-32px) scale(0.75)}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above[dir=rtl],.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above[dir=rtl]{transform:translateY(-34.75px) translateX(32px) scale(0.75)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--with-trailing-icon{padding-left:16px;padding-right:0}[dir=rtl] .mdc-text-field--with-trailing-icon,.mdc-text-field--with-trailing-icon[dir=rtl]{padding-left:0;padding-right:16px}.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 64px)}.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100% / 0.75 - 64px / 0.75)}.mdc-text-field--with-trailing-icon.mdc-text-field--outlined :not(.mdc-notched-outline--notched) .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon{padding-left:0;padding-right:0}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 96px)}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100% / 0.75 - 96px / 0.75)}.mdc-text-field-helper-line{display:flex;justify-content:space-between;box-sizing:border-box}.mdc-text-field+.mdc-text-field-helper-line{padding-right:16px;padding-left:16px}.mdc-form-field>.mdc-text-field+label{align-self:flex-start}.mdc-text-field--focused .mdc-notched-outline__leading,.mdc-text-field--focused .mdc-notched-outline__notch,.mdc-text-field--focused .mdc-notched-outline__trailing{border-width:2px}.mdc-text-field--focused+.mdc-text-field-helper-line .mdc-text-field-helper-text:not(.mdc-text-field-helper-text--validation-msg){opacity:1}.mdc-text-field--focused.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:2px}.mdc-text-field--focused.mdc-text-field--outlined.mdc-text-field--textarea .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:0}.mdc-text-field--invalid+.mdc-text-field-helper-line .mdc-text-field-helper-text--validation-msg{opacity:1}.mdc-text-field--disabled{pointer-events:none}@media screen and (forced-colors: active){.mdc-text-field--disabled .mdc-text-field__input{background-color:Window}.mdc-text-field--disabled .mdc-floating-label{z-index:1}}.mdc-text-field--disabled .mdc-floating-label{cursor:default}.mdc-text-field--disabled.mdc-text-field--filled .mdc-text-field__ripple{display:none}.mdc-text-field--disabled .mdc-text-field__input{pointer-events:auto}.mdc-text-field--end-aligned .mdc-text-field__input{text-align:right}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__input,.mdc-text-field--end-aligned .mdc-text-field__input[dir=rtl]{text-align:left}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__input,[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__input,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix{direction:ltr}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--prefix{padding-left:0;padding-right:2px}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--suffix{padding-left:12px;padding-right:0}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__icon--leading,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__icon--leading{order:1}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--suffix{order:2}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__input,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__input{order:3}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--prefix{order:4}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__icon--trailing,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__icon--trailing{order:5}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__input,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__input{text-align:right}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__affix--prefix{padding-right:12px}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__affix--suffix{padding-left:2px}.mdc-floating-label{position:absolute;left:0;-webkit-transform-origin:left top;transform-origin:left top;line-height:1.15rem;text-align:left;text-overflow:ellipsis;white-space:nowrap;cursor:text;overflow:hidden;will-change:transform}[dir=rtl] .mdc-floating-label,.mdc-floating-label[dir=rtl]{right:0;left:auto;-webkit-transform-origin:right top;transform-origin:right top;text-align:right}.mdc-floating-label--float-above{cursor:auto}.mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)::after{margin-left:1px;margin-right:0px;content:"*"}[dir=rtl] .mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)::after,.mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)[dir=rtl]::after{margin-left:0;margin-right:1px}.mdc-floating-label--float-above{transform:translateY(-106%) scale(0.75)}.mdc-notched-outline{display:flex;position:absolute;top:0;right:0;left:0;box-sizing:border-box;width:100%;max-width:100%;height:100%;text-align:left;pointer-events:none}[dir=rtl] .mdc-notched-outline,.mdc-notched-outline[dir=rtl]{text-align:right}.mdc-notched-outline__leading,.mdc-notched-outline__notch,.mdc-notched-outline__trailing{box-sizing:border-box;height:100%;border-top:1px solid;border-bottom:1px solid;pointer-events:none}.mdc-notched-outline__leading{border-left:1px solid;border-right:none;width:12px}[dir=rtl] .mdc-notched-outline__leading,.mdc-notched-outline__leading[dir=rtl]{border-left:none;border-right:1px solid}.mdc-notched-outline__trailing{border-left:none;border-right:1px solid;flex-grow:1}[dir=rtl] .mdc-notched-outline__trailing,.mdc-notched-outline__trailing[dir=rtl]{border-left:1px solid;border-right:none}.mdc-notched-outline__notch{flex:0 0 auto;width:auto;max-width:calc(100% - 12px * 2)}.mdc-notched-outline .mdc-floating-label{display:inline-block;position:relative;max-width:100%}.mdc-notched-outline .mdc-floating-label--float-above{text-overflow:clip}.mdc-notched-outline--upgraded .mdc-floating-label--float-above{max-width:133.3333333333%}.mdc-notched-outline--notched .mdc-notched-outline__notch{padding-left:0;padding-right:8px;border-top:none}[dir=rtl] .mdc-notched-outline--notched .mdc-notched-outline__notch,.mdc-notched-outline--notched .mdc-notched-outline__notch[dir=rtl]{padding-left:8px;padding-right:0}.mdc-notched-outline--no-label .mdc-notched-outline__notch{display:none}.mdc-line-ripple::before,.mdc-line-ripple::after{position:absolute;bottom:0;left:0;width:100%;border-bottom-style:solid;content:""}.mdc-line-ripple::before{border-bottom-width:1px}.mdc-line-ripple::after{border-bottom-width:2px}.mdc-line-ripple::before{z-index:1}.mdc-line-ripple::after{transform:scaleX(0);opacity:0;z-index:2}.mdc-line-ripple--active::after{transform:scaleX(1);opacity:1}.mdc-line-ripple--deactivating::after{opacity:0}.mat-mdc-form-field-textarea-control{vertical-align:middle;resize:vertical;box-sizing:border-box;height:auto;margin:0;padding:0;border:none;overflow:auto}.mat-mdc-form-field-input-control.mat-mdc-form-field-input-control{font:inherit;letter-spacing:inherit;text-decoration:inherit;text-transform:inherit;border:none}.mat-mdc-form-field .mat-mdc-floating-label.mdc-floating-label{line-height:normal;pointer-events:all}.mdc-text-field--no-label:not(.mdc-text-field--textarea) .mat-mdc-form-field-input-control.mdc-text-field__input,.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control{height:auto}.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control.mdc-text-field__input[type=color]{height:23px}.mat-mdc-text-field-wrapper{height:auto;flex:auto}.mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-left:0;--mat-mdc-form-field-label-offset-x: -16px}.mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-right:0}[dir=rtl] .mat-mdc-text-field-wrapper{padding-left:16px;padding-right:16px}[dir=rtl] .mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-left:0}[dir=rtl] .mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-right:0}.mat-mdc-form-field-label-always-float .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms;opacity:1}.mat-mdc-text-field-wrapper .mat-mdc-form-field-infix .mat-mdc-floating-label{left:auto;right:auto}.mat-mdc-text-field-wrapper.mdc-text-field--outlined .mdc-text-field__input{display:inline-block}.mat-mdc-form-field .mat-mdc-text-field-wrapper.mdc-text-field .mdc-notched-outline__notch{padding-top:0}.mat-mdc-text-field-wrapper::before{content:none}.mat-mdc-form-field-subscript-wrapper{box-sizing:border-box;width:100%;position:relative}.mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-error-wrapper{position:absolute;top:0;left:0;right:0;padding:0 16px}.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-error-wrapper{position:static}.mat-mdc-form-field-bottom-align::before{content:"";display:inline-block;height:16px}.mat-mdc-form-field-bottom-align.mat-mdc-form-field-subscript-dynamic-size::before{content:unset}.mat-mdc-form-field-hint-end{order:1}.mat-mdc-form-field-hint-wrapper{display:flex}.mat-mdc-form-field-hint-spacer{flex:1 0 1em}.mat-mdc-form-field-error{display:block}.mat-mdc-form-field-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;opacity:0;pointer-events:none}select.mat-mdc-form-field-input-control{-moz-appearance:none;-webkit-appearance:none;background-color:rgba(0,0,0,0);display:inline-flex;box-sizing:border-box}select.mat-mdc-form-field-input-control:not(:disabled){cursor:pointer}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid rgba(0,0,0,0);border-right:5px solid rgba(0,0,0,0);border-top:5px solid;position:absolute;right:0;top:50%;margin-top:-2.5px;pointer-events:none}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{right:auto;left:0}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:15px}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:0;padding-left:15px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-mdc-text-field-wrapper{outline:solid 1px}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-form-field-disabled .mat-mdc-text-field-wrapper{outline-color:GrayText}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-focused .mat-mdc-text-field-wrapper{outline:dashed 3px}.cdk-high-contrast-active .mat-mdc-form-field.mat-focused .mdc-notched-outline{border:dashed 3px}.mat-mdc-form-field{--mat-mdc-form-field-floating-label-scale: 0.75;display:inline-flex;flex-direction:column;min-width:0;text-align:left}[dir=rtl] .mat-mdc-form-field{text-align:right}.mat-mdc-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-mdc-text-field-wrapper{width:100%}.mat-mdc-form-field-icon-prefix,.mat-mdc-form-field-icon-suffix{align-self:center;line-height:0;pointer-events:auto}.mat-mdc-form-field-icon-prefix,[dir=rtl] .mat-mdc-form-field-icon-suffix{padding:0 4px 0 0}.mat-mdc-form-field-icon-suffix,[dir=rtl] .mat-mdc-form-field-icon-prefix{padding:0 0 0 4px}.mat-mdc-form-field-icon-prefix>.mat-icon,.mat-mdc-form-field-icon-suffix>.mat-icon{padding:12px;box-sizing:content-box}.mat-mdc-form-field-subscript-wrapper .mat-icon,.mat-mdc-form-field label .mat-icon{width:1em;height:1em;font-size:inherit}.mat-mdc-form-field-infix{flex:auto;min-width:0;width:180px;position:relative;box-sizing:border-box}.mat-mdc-form-field .mdc-notched-outline__notch{margin-left:-1px;-webkit-clip-path:inset(-9em -999em -9em 1px);clip-path:inset(-9em -999em -9em 1px)}[dir=rtl] .mat-mdc-form-field .mdc-notched-outline__notch{margin-left:0;margin-right:-1px;-webkit-clip-path:inset(-9em 1px -9em -999em);clip-path:inset(-9em 1px -9em -999em)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input{transition:opacity 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}@media all{.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder{transition:opacity 67ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}}@media all{.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder{transition:opacity 67ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}}@media all{.mdc-text-field--no-label .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder,.mdc-text-field--focused .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms}}@media all{.mdc-text-field--no-label .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder,.mdc-text-field--focused .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder{transition-delay:40ms;transition-duration:110ms}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__affix{transition:opacity 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--filled.mdc-ripple-upgraded--background-focused .mdc-text-field__ripple::before,.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--filled:not(.mdc-ripple-upgraded):focus .mdc-text-field__ripple::before{transition-duration:75ms}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined{0%{transform:translateX(calc(0 - 0%)) translateY(-34.75px) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(-34.75px) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(-34.75px) scale(0.75)}100%{transform:translateX(calc(0 - 0%)) translateY(-34.75px) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--textarea{transition:none}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--textarea.mdc-text-field--filled .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-textarea-filled 250ms 1}@keyframes mdc-floating-label-shake-float-above-textarea-filled{0%{transform:translateX(calc(0 - 0%)) translateY(-10.25px) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(-10.25px) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(-10.25px) scale(0.75)}100%{transform:translateX(calc(0 - 0%)) translateY(-10.25px) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-textarea-outlined 250ms 1}@keyframes mdc-floating-label-shake-float-above-textarea-outlined{0%{transform:translateX(calc(0 - 0%)) translateY(-24.75px) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(-24.75px) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(-24.75px) scale(0.75)}100%{transform:translateX(calc(0 - 0%)) translateY(-24.75px) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined-leading-icon 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined-leading-icon{0%{transform:translateX(calc(0 - 32px)) translateY(-34.75px) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 32px)) translateY(-34.75px) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 32px)) translateY(-34.75px) scale(0.75)}100%{transform:translateX(calc(0 - 32px)) translateY(-34.75px) scale(0.75)}}[dir=rtl] .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--shake,.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--with-leading-icon.mdc-text-field--outlined[dir=rtl] .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined-leading-icon 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined-leading-icon-rtl{0%{transform:translateX(calc(0 - -32px)) translateY(-34.75px) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - -32px)) translateY(-34.75px) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - -32px)) translateY(-34.75px) scale(0.75)}100%{transform:translateX(calc(0 - -32px)) translateY(-34.75px) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-floating-label{transition:transform 150ms cubic-bezier(0.4, 0, 0.2, 1),color 150ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-standard 250ms 1}@keyframes mdc-floating-label-shake-float-above-standard{0%{transform:translateX(calc(0 - 0%)) translateY(-106%) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(-106%) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(-106%) scale(0.75)}100%{transform:translateX(calc(0 - 0%)) translateY(-106%) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-line-ripple::after{transition:transform 180ms cubic-bezier(0.4, 0, 0.2, 1),opacity 180ms cubic-bezier(0.4, 0, 0.2, 1)}'],encapsulation:2,data:{animation:[T6.transitionMessages]},changeDetection:0}),i})(),wT=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=s.oAB({type:i}),i.\u0275inj=s.cJS({imports:[At,Ni,Am,At]}),i})();const H6={provide:new s.OlP("mat-autocomplete-scroll-strategy"),deps:[_a],useFactory:function V6(i){return()=>i.scrollStrategies.reposition()}};let j6=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=s.oAB({type:i}),i.\u0275inj=s.cJS({providers:[H6],imports:[Mu,fD,At,Ni,pa,fD,At]}),i})(),G6=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=s.oAB({type:i}),i.\u0275inj=s.cJS({imports:[Tg,At,At]}),i})();function $6(i,t){}class RD{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.closeOnNavigation=!0,this.closeOnDestroy=!0,this.closeOnOverlayDetachments=!0}}let $N=(()=>{class i extends ZS{constructor(e,n,r,o,d,h,g,b){super(),this._elementRef=e,this._focusTrapFactory=n,this._config=o,this._interactivityChecker=d,this._ngZone=h,this._overlayRef=g,this._focusMonitor=b,this._elementFocusedBeforeDialogWasOpened=null,this._closeInteractionType=null,this.attachDomPortal=x=>{this._portalOutlet.hasAttached();const k=this._portalOutlet.attachDomPortal(x);return this._contentAttached(),k},this._ariaLabelledBy=this._config.ariaLabelledBy||null,this._document=r}_contentAttached(){this._initializeFocusTrap(),this._handleBackdropClicks(),this._captureInitialFocus()}_captureInitialFocus(){this._trapFocus()}ngOnDestroy(){this._restoreFocus()}attachComponentPortal(e){this._portalOutlet.hasAttached();const n=this._portalOutlet.attachComponentPortal(e);return this._contentAttached(),n}attachTemplatePortal(e){this._portalOutlet.hasAttached();const n=this._portalOutlet.attachTemplatePortal(e);return this._contentAttached(),n}_recaptureFocus(){this._containsFocus()||this._trapFocus()}_forceFocus(e,n){this._interactivityChecker.isFocusable(e)||(e.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{const r=()=>{e.removeEventListener("blur",r),e.removeEventListener("mousedown",r),e.removeAttribute("tabindex")};e.addEventListener("blur",r),e.addEventListener("mousedown",r)})),e.focus(n)}_focusByCssSelector(e,n){let r=this._elementRef.nativeElement.querySelector(e);r&&this._forceFocus(r,n)}_trapFocus(){const e=this._elementRef.nativeElement;switch(this._config.autoFocus){case!1:case"dialog":this._containsFocus()||e.focus();break;case!0:case"first-tabbable":this._focusTrap.focusInitialElementWhenReady().then(n=>{n||this._focusDialogContainer()});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this._config.autoFocus)}}_restoreFocus(){const e=this._config.restoreFocus;let n=null;if("string"==typeof e?n=this._document.querySelector(e):"boolean"==typeof e?n=e?this._elementFocusedBeforeDialogWasOpened:null:e&&(n=e),this._config.restoreFocus&&n&&"function"==typeof n.focus){const r=fg(),o=this._elementRef.nativeElement;(!r||r===this._document.body||r===o||o.contains(r))&&(this._focusMonitor?(this._focusMonitor.focusVia(n,this._closeInteractionType),this._closeInteractionType=null):n.focus())}this._focusTrap&&this._focusTrap.destroy()}_focusDialogContainer(){this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus()}_containsFocus(){const e=this._elementRef.nativeElement,n=fg();return e===n||e.contains(n)}_initializeFocusTrap(){this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._document&&(this._elementFocusedBeforeDialogWasOpened=fg())}_handleBackdropClicks(){this._overlayRef.backdropClick().subscribe(()=>{this._config.disableClose&&this._recaptureFocus()})}}return i.\u0275fac=function(e){return new(e||i)(s.Y36(s.SBq),s.Y36(kg),s.Y36(K,8),s.Y36(RD),s.Y36(Rm),s.Y36(s.R0b),s.Y36(Cy),s.Y36(us))},i.\u0275cmp=s.Xpm({type:i,selectors:[["cdk-dialog-container"]],viewQuery:function(e,n){if(1&e&&s.Gf(KS,7),2&e){let r;s.iGM(r=s.CRH())&&(n._portalOutlet=r.first)}},hostAttrs:["tabindex","-1",1,"cdk-dialog-container"],hostVars:6,hostBindings:function(e,n){2&e&&s.uIk("id",n._config.id||null)("role",n._config.role)("aria-modal",n._config.ariaModal)("aria-labelledby",n._config.ariaLabel?null:n._ariaLabelledBy)("aria-label",n._config.ariaLabel)("aria-describedby",n._config.ariaDescribedBy||null)},features:[s.qOj],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(e,n){1&e&&s.YNc(0,$6,0,0,"ng-template",0)},dependencies:[KS],styles:[".cdk-dialog-container{display:block;width:100%;height:100%;min-height:inherit;max-height:inherit}"],encapsulation:2}),i})();class xT{constructor(t,e){this.overlayRef=t,this.config=e,this.closed=new nt.x,this.disableClose=e.disableClose,this.backdropClick=t.backdropClick(),this.keydownEvents=t.keydownEvents(),this.outsidePointerEvents=t.outsidePointerEvents(),this.id=e.id,this.keydownEvents.subscribe(n=>{27===n.keyCode&&!this.disableClose&&!ds(n)&&(n.preventDefault(),this.close(void 0,{focusOrigin:"keyboard"}))}),this.backdropClick.subscribe(()=>{this.disableClose||this.close(void 0,{focusOrigin:"mouse"})}),this._detachSubscription=t.detachments().subscribe(()=>{!1!==e.closeOnOverlayDetachments&&this.close()})}close(t,e){if(this.containerInstance){const n=this.closed;this.containerInstance._closeInteractionType=e?.focusOrigin||"program",this._detachSubscription.unsubscribe(),this.overlayRef.dispose(),n.next(t),n.complete(),this.componentInstance=this.containerInstance=null}}updatePosition(){return this.overlayRef.updatePosition(),this}updateSize(t="",e=""){return this.overlayRef.updateSize({width:t,height:e}),this}addPanelClass(t){return this.overlayRef.addPanelClass(t),this}removePanelClass(t){return this.overlayRef.removePanelClass(t),this}}const YN=new s.OlP("DialogScrollStrategy"),Y6=new s.OlP("DialogData"),q6=new s.OlP("DefaultDialogConfig"),Z6={provide:YN,deps:[_a],useFactory:function W6(i){return()=>i.scrollStrategies.block()}};let K6=0,qN=(()=>{class i{get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}constructor(e,n,r,o,d,h){this._overlay=e,this._injector=n,this._defaultOptions=r,this._parentDialog=o,this._overlayContainer=d,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new nt.x,this._afterOpenedAtThisLevel=new nt.x,this._ariaHiddenElements=new Map,this.afterAllClosed=kl(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(sr(void 0))),this._scrollStrategy=h}open(e,n){(n={...this._defaultOptions||new RD,...n}).id=n.id||"cdk-dialog-"+K6++,n.id&&this.getDialogById(n.id);const o=this._getOverlayConfig(n),d=this._overlay.create(o),h=new xT(d,n),g=this._attachContainer(d,h,n);return h.containerInstance=g,this._attachDialogContent(e,h,g,n),this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(h),h.closed.subscribe(()=>this._removeOpenDialog(h,!0)),this.afterOpened.next(h),h}closeAll(){CT(this.openDialogs,e=>e.close())}getDialogById(e){return this.openDialogs.find(n=>n.id===e)}ngOnDestroy(){CT(this._openDialogsAtThisLevel,e=>{!1===e.config.closeOnDestroy&&this._removeOpenDialog(e,!1)}),CT(this._openDialogsAtThisLevel,e=>e.close()),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete(),this._openDialogsAtThisLevel=[]}_getOverlayConfig(e){const n=new XS({positionStrategy:e.positionStrategy||this._overlay.position().global().centerHorizontally().centerVertically(),scrollStrategy:e.scrollStrategy||this._scrollStrategy(),panelClass:e.panelClass,hasBackdrop:e.hasBackdrop,direction:e.direction,minWidth:e.minWidth,minHeight:e.minHeight,maxWidth:e.maxWidth,maxHeight:e.maxHeight,width:e.width,height:e.height,disposeOnNavigation:e.closeOnNavigation});return e.backdropClass&&(n.backdropClass=e.backdropClass),n}_attachContainer(e,n,r){const o=r.injector||r.viewContainerRef?.injector,d=[{provide:RD,useValue:r},{provide:xT,useValue:n},{provide:Cy,useValue:e}];let h;r.container?"function"==typeof r.container?h=r.container:(h=r.container.type,d.push(...r.container.providers(r))):h=$N;const g=new qS(h,r.viewContainerRef,s.zs3.create({parent:o||this._injector,providers:d}),r.componentFactoryResolver);return e.attach(g).instance}_attachDialogContent(e,n,r,o){if(e instanceof s.Rgc){const d=this._createInjector(o,n,r,void 0);let h={$implicit:o.data,dialogRef:n};o.templateContext&&(h={...h,..."function"==typeof o.templateContext?o.templateContext():o.templateContext}),r.attachTemplatePortal(new WS(e,null,h,d))}else{const d=this._createInjector(o,n,r,this._injector),h=r.attachComponentPortal(new qS(e,o.viewContainerRef,d,o.componentFactoryResolver));n.componentInstance=h.instance}}_createInjector(e,n,r,o){const d=e.injector||e.viewContainerRef?.injector,h=[{provide:Y6,useValue:e.data},{provide:xT,useValue:n}];return e.providers&&("function"==typeof e.providers?h.push(...e.providers(n,e,r)):h.push(...e.providers)),e.direction&&(!d||!d.get(_o,null,{optional:!0}))&&h.push({provide:_o,useValue:{value:e.direction,change:it()}}),s.zs3.create({parent:d||o,providers:h})}_removeOpenDialog(e,n){const r=this.openDialogs.indexOf(e);r>-1&&(this.openDialogs.splice(r,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((o,d)=>{o?d.setAttribute("aria-hidden",o):d.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),n&&this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(){const e=this._overlayContainer.getContainerElement();if(e.parentElement){const n=e.parentElement.children;for(let r=n.length-1;r>-1;r--){const o=n[r];o!==e&&"SCRIPT"!==o.nodeName&&"STYLE"!==o.nodeName&&!o.hasAttribute("aria-live")&&(this._ariaHiddenElements.set(o,o.getAttribute("aria-hidden")),o.setAttribute("aria-hidden","true"))}}}_getAfterAllClosed(){const e=this._parentDialog;return e?e._getAfterAllClosed():this._afterAllClosedAtThisLevel}}return i.\u0275fac=function(e){return new(e||i)(s.LFG(_a),s.LFG(s.zs3),s.LFG(q6,8),s.LFG(i,12),s.LFG(gD),s.LFG(YN))},i.\u0275prov=s.Yz7({token:i,factory:i.\u0275fac}),i})();function CT(i,t){let e=i.length;for(;e--;)t(i[e])}let WN=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=s.oAB({type:i}),i.\u0275inj=s.cJS({providers:[qN,Z6],imports:[Mu,Zc,Tg,Zc]}),i})(),Q6=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=s.oAB({type:i}),i.\u0275inj=s.cJS({imports:[WN,At,Zc,At]}),i})();const X6=["mat-button",""],ZN=[[["",8,"material-icons",3,"iconPositionEnd",""],["mat-icon",3,"iconPositionEnd",""],["","matButtonIcon","",3,"iconPositionEnd",""]],"*",[["","iconPositionEnd","",8,"material-icons"],["mat-icon","iconPositionEnd",""],["","matButtonIcon","","iconPositionEnd",""]]],KN=[".material-icons:not([iconPositionEnd]), mat-icon:not([iconPositionEnd]), [matButtonIcon]:not([iconPositionEnd])","*",".material-icons[iconPositionEnd], mat-icon[iconPositionEnd], [matButtonIcon][iconPositionEnd]"],J6=["mat-fab",""],e4=[{selector:"mat-button",mdcClasses:["mdc-button","mat-mdc-button"]},{selector:"mat-flat-button",mdcClasses:["mdc-button","mdc-button--unelevated","mat-mdc-unelevated-button"]},{selector:"mat-raised-button",mdcClasses:["mdc-button","mdc-button--raised","mat-mdc-raised-button"]},{selector:"mat-stroked-button",mdcClasses:["mdc-button","mdc-button--outlined","mat-mdc-outlined-button"]},{selector:"mat-fab",mdcClasses:["mdc-fab","mat-mdc-fab"]},{selector:"mat-mini-fab",mdcClasses:["mdc-fab","mdc-fab--mini","mat-mdc-mini-fab"]},{selector:"mat-icon-button",mdcClasses:["mdc-icon-button","mat-mdc-icon-button"]}],t4=Wg(yy(Zg(class{constructor(i){this._elementRef=i}})));let QN=(()=>{class i extends t4{constructor(e,n,r,o){super(e),this._platform=n,this._ngZone=r,this._animationMode=o,this._focusMonitor=(0,s.f3M)(us),this._isFab=!1;const d=e.nativeElement.classList;for(const h of e4)this._hasHostAttributes(h.selector)&&h.mdcClasses.forEach(g=>{d.add(g)})}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(e="program",n){e?this._focusMonitor.focusVia(this._elementRef.nativeElement,e,n):this._elementRef.nativeElement.focus(n)}_hasHostAttributes(...e){return e.some(n=>this._elementRef.nativeElement.hasAttribute(n))}_isRippleDisabled(){return this.disableRipple||this.disabled}}return i.\u0275fac=function(e){s.$Z()},i.\u0275dir=s.lG2({type:i,viewQuery:function(e,n){if(1&e&&s.Gf(ga,5),2&e){let r;s.iGM(r=s.CRH())&&(n.ripple=r.first)}},features:[s.qOj]}),i})(),Py=(()=>{class i extends QN{constructor(e,n,r,o){super(e,n,r,o)}}return i.\u0275fac=function(e){return new(e||i)(s.Y36(s.SBq),s.Y36(An),s.Y36(s.R0b),s.Y36(s.QbO,8))},i.\u0275cmp=s.Xpm({type:i,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-flat-button",""],["button","mat-stroked-button",""]],hostVars:7,hostBindings:function(e,n){2&e&&(s.uIk("disabled",n.disabled||null),s.ekj("_mat-animation-noopable","NoopAnimations"===n._animationMode)("mat-unthemed",!n.color)("mat-mdc-button-base",!0))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[s.qOj],attrs:X6,ngContentSelectors:KN,decls:8,vars:6,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-mdc-focus-indicator"],["matRipple","",1,"mat-mdc-button-ripple",3,"matRippleDisabled","matRippleTrigger"],[1,"mat-mdc-button-touch-target"]],template:function(e,n){1&e&&(s.F$t(ZN),s._UZ(0,"span",0),s.Hsn(1),s.TgZ(2,"span",1),s.Hsn(3,1),s.qZA(),s.Hsn(4,2),s._UZ(5,"span",2)(6,"span",3)(7,"span",4)),2&e&&(s.ekj("mdc-button__ripple",!n._isFab)("mdc-fab__ripple",n._isFab),s.xp6(6),s.Q6J("matRippleDisabled",n._isRippleDisabled())("matRippleTrigger",n._elementRef.nativeElement))},dependencies:[ga],styles:['.mdc-touch-target-wrapper{display:inline}.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity, 0);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button{position:relative;display:inline-flex;align-items:center;justify-content:center;box-sizing:border-box;min-width:64px;border:none;outline:none;line-height:inherit;user-select:none;-webkit-appearance:none;overflow:visible;vertical-align:middle;background:rgba(0,0,0,0)}.mdc-button .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}.mdc-button::-moz-focus-inner{padding:0;border:0}.mdc-button:active{outline:none}.mdc-button:hover{cursor:pointer}.mdc-button:disabled{cursor:default;pointer-events:none}.mdc-button[hidden]{display:none}.mdc-button .mdc-button__icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top}[dir=rtl] .mdc-button .mdc-button__icon,.mdc-button .mdc-button__icon[dir=rtl]{margin-left:8px;margin-right:0}.mdc-button .mdc-button__progress-indicator{font-size:0;position:absolute;transform:translate(-50%, -50%);top:50%;left:50%;line-height:initial}.mdc-button .mdc-button__label{position:relative}.mdc-button .mdc-button__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(\n      100% + 4px\n    );width:calc(\n      100% + 4px\n    );display:none}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring{border-color:CanvasText}}.mdc-button .mdc-button__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring::after{border-color:CanvasText}}@media screen and (forced-colors: active){.mdc-button.mdc-ripple-upgraded--background-focused .mdc-button__focus-ring,.mdc-button:not(.mdc-ripple-upgraded):focus .mdc-button__focus-ring{display:block}}.mdc-button .mdc-button__touch{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mdc-button__label+.mdc-button__icon{margin-left:8px;margin-right:0}[dir=rtl] .mdc-button__label+.mdc-button__icon,.mdc-button__label+.mdc-button__icon[dir=rtl]{margin-left:0;margin-right:8px}svg.mdc-button__icon{fill:currentColor}.mdc-button--touch{margin-top:6px;margin-bottom:6px}.mdc-button{padding:0 8px 0 8px}.mdc-button--unelevated{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--unelevated.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--unelevated.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--raised{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--raised.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--raised.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--outlined{border-style:solid;transition:border 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button--outlined .mdc-button__ripple{border-style:solid;border-color:rgba(0,0,0,0)}.mat-mdc-button{height:var(--mdc-text-button-container-height, 36px);border-radius:var(--mdc-text-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-button:not(:disabled){color:var(--mdc-text-button-label-text-color, inherit)}.mat-mdc-button:disabled{color:var(--mdc-text-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-button .mdc-button__ripple{border-radius:var(--mdc-text-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-unelevated-button{height:var(--mdc-filled-button-container-height, 36px);border-radius:var(--mdc-filled-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-unelevated-button:not(:disabled){background-color:var(--mdc-filled-button-container-color, transparent)}.mat-mdc-unelevated-button:disabled{background-color:var(--mdc-filled-button-disabled-container-color, rgba(0, 0, 0, 0.12))}.mat-mdc-unelevated-button:not(:disabled){color:var(--mdc-filled-button-label-text-color, inherit)}.mat-mdc-unelevated-button:disabled{color:var(--mdc-filled-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-unelevated-button .mdc-button__ripple{border-radius:var(--mdc-filled-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-raised-button{height:var(--mdc-protected-button-container-height, 36px);border-radius:var(--mdc-protected-button-container-shape, var(--mdc-shape-small, 4px));box-shadow:var(--mdc-protected-button-container-elevation, 0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled){background-color:var(--mdc-protected-button-container-color, transparent)}.mat-mdc-raised-button:disabled{background-color:var(--mdc-protected-button-disabled-container-color, rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled){color:var(--mdc-protected-button-label-text-color, inherit)}.mat-mdc-raised-button:disabled{color:var(--mdc-protected-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-raised-button .mdc-button__ripple{border-radius:var(--mdc-protected-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-raised-button.mdc-ripple-upgraded--background-focused,.mat-mdc-raised-button:not(.mdc-ripple-upgraded):focus{box-shadow:var(--mdc-protected-button-focus-container-elevation, 0px 2px 4px -1px rgba(0, 0, 0, 0.2), 0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:hover{box-shadow:var(--mdc-protected-button-hover-container-elevation, 0px 2px 4px -1px rgba(0, 0, 0, 0.2), 0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled):active{box-shadow:var(--mdc-protected-button-pressed-container-elevation, 0px 5px 5px -3px rgba(0, 0, 0, 0.2), 0px 8px 10px 1px rgba(0, 0, 0, 0.14), 0px 3px 14px 2px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:disabled{box-shadow:var(--mdc-protected-button-disabled-container-elevation, 0px 0px 0px 0px rgba(0, 0, 0, 0.2), 0px 0px 0px 0px rgba(0, 0, 0, 0.14), 0px 0px 0px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button{height:var(--mdc-outlined-button-container-height, 36px);border-radius:var(--mdc-outlined-button-container-shape, var(--mdc-shape-small, 4px));padding:0 15px 0 15px;border-width:var(--mdc-outlined-button-outline-width, 1px)}.mat-mdc-outlined-button:not(:disabled){color:var(--mdc-outlined-button-label-text-color, inherit)}.mat-mdc-outlined-button:disabled{color:var(--mdc-outlined-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-outlined-button .mdc-button__ripple{border-radius:var(--mdc-outlined-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-outlined-button:not(:disabled){border-color:var(--mdc-outlined-button-outline-color, rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button:disabled{border-color:var(--mdc-outlined-button-disabled-outline-color, rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button.mdc-button--icon-trailing{padding:0 11px 0 15px}.mat-mdc-outlined-button.mdc-button--icon-leading{padding:0 15px 0 11px}.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:var(--mdc-outlined-button-outline-width, 1px)}.mat-mdc-outlined-button .mdc-button__touch{left:calc(-1 * var(--mdc-outlined-button-outline-width, 1px));width:calc(100% + 2 * var(--mdc-outlined-button-outline-width, 1px))}.mat-mdc-button,.mat-mdc-unelevated-button,.mat-mdc-raised-button,.mat-mdc-outlined-button{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0;background-color:var(--mat-mdc-button-persistent-ripple-color)}.mat-mdc-button .mat-ripple-element,.mat-mdc-unelevated-button .mat-ripple-element,.mat-mdc-raised-button .mat-ripple-element,.mat-mdc-outlined-button .mat-ripple-element{background-color:var(--mat-mdc-button-ripple-color)}.mat-mdc-button .mdc-button__label,.mat-mdc-unelevated-button .mdc-button__label,.mat-mdc-raised-button .mdc-button__label,.mat-mdc-outlined-button .mdc-button__label{z-index:1}.mat-mdc-button .mat-mdc-focus-indicator,.mat-mdc-unelevated-button .mat-mdc-focus-indicator,.mat-mdc-raised-button .mat-mdc-focus-indicator,.mat-mdc-outlined-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-unelevated-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-raised-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-outlined-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-button[disabled],.mat-mdc-unelevated-button[disabled],.mat-mdc-raised-button[disabled],.mat-mdc-outlined-button[disabled]{cursor:default;pointer-events:none}.mat-mdc-button .mat-mdc-button-touch-target,.mat-mdc-unelevated-button .mat-mdc-button-touch-target,.mat-mdc-raised-button .mat-mdc-button-touch-target,.mat-mdc-outlined-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mat-mdc-button._mat-animation-noopable,.mat-mdc-unelevated-button._mat-animation-noopable,.mat-mdc-raised-button._mat-animation-noopable,.mat-mdc-outlined-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-button>.mat-icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem}[dir=rtl] .mat-mdc-button>.mat-icon,.mat-mdc-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:0}.mat-mdc-button .mdc-button__label+.mat-icon{margin-left:8px;margin-right:0}[dir=rtl] .mat-mdc-button .mdc-button__label+.mat-icon,.mat-mdc-button .mdc-button__label+.mat-icon[dir=rtl]{margin-left:0;margin-right:8px}.mat-mdc-unelevated-button>.mat-icon,.mat-mdc-raised-button>.mat-icon,.mat-mdc-outlined-button>.mat-icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem;margin-left:-4px;margin-right:8px}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon,[dir=rtl] .mat-mdc-raised-button>.mat-icon,[dir=rtl] .mat-mdc-outlined-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon[dir=rtl],.mat-mdc-raised-button>.mat-icon[dir=rtl],.mat-mdc-outlined-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:0}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon,[dir=rtl] .mat-mdc-raised-button>.mat-icon,[dir=rtl] .mat-mdc-outlined-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon[dir=rtl],.mat-mdc-raised-button>.mat-icon[dir=rtl],.mat-mdc-outlined-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:-4px}.mat-mdc-unelevated-button .mdc-button__label+.mat-icon,.mat-mdc-raised-button .mdc-button__label+.mat-icon,.mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-left:8px;margin-right:-4px}[dir=rtl] .mat-mdc-unelevated-button .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-raised-button .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-outlined-button .mdc-button__label+.mat-icon,.mat-mdc-unelevated-button .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-raised-button .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-outlined-button .mdc-button__label+.mat-icon[dir=rtl]{margin-left:-4px;margin-right:8px}.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:-1px}.mat-mdc-unelevated-button .mat-mdc-focus-indicator::before,.mat-mdc-raised-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 2px) * -1)}.mat-mdc-outlined-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 3px) * -1)}',".cdk-high-contrast-active .mat-mdc-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-unelevated-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-raised-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-outlined-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-icon-button{outline:solid 1px}"],encapsulation:2,changeDetection:0}),i})();const r4=new s.OlP("mat-mdc-fab-default-options",{providedIn:"root",factory:XN});function XN(){return{color:"accent"}}const JN=XN();let eL=(()=>{class i extends QN{get extended(){return this._extended}set extended(e){this._extended=It(e)}constructor(e,n,r,o,d){super(e,n,r,o),this._options=d,this._isFab=!0,this._options=this._options||JN,this.color=this.defaultColor=this._options.color||JN.color}}return i.\u0275fac=function(e){return new(e||i)(s.Y36(s.SBq),s.Y36(An),s.Y36(s.R0b),s.Y36(s.QbO,8),s.Y36(r4,8))},i.\u0275cmp=s.Xpm({type:i,selectors:[["button","mat-fab",""]],hostVars:11,hostBindings:function(e,n){2&e&&(s.uIk("disabled",n.disabled||null),s.ekj("_mat-animation-noopable","NoopAnimations"===n._animationMode)("mat-unthemed",!n.color)("mat-mdc-button-base",!0)("mdc-fab--extended",n.extended)("mat-mdc-extended-fab",n.extended))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color",tabIndex:"tabIndex",extended:"extended"},exportAs:["matButton"],features:[s.qOj],attrs:J6,ngContentSelectors:KN,decls:8,vars:6,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-mdc-focus-indicator"],["matRipple","",1,"mat-mdc-button-ripple",3,"matRippleDisabled","matRippleTrigger"],[1,"mat-mdc-button-touch-target"]],template:function(e,n){1&e&&(s.F$t(ZN),s._UZ(0,"span",0),s.Hsn(1),s.TgZ(2,"span",1),s.Hsn(3,1),s.qZA(),s.Hsn(4,2),s._UZ(5,"span",2)(6,"span",3)(7,"span",4)),2&e&&(s.ekj("mdc-button__ripple",!n._isFab)("mdc-fab__ripple",n._isFab),s.xp6(6),s.Q6J("matRippleDisabled",n._isRippleDisabled())("matRippleTrigger",n._elementRef.nativeElement))},dependencies:[ga],styles:['.mdc-touch-target-wrapper{display:inline}.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity, 0);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-fab{position:relative;display:inline-flex;position:relative;align-items:center;justify-content:center;box-sizing:border-box;width:56px;height:56px;padding:0;border:none;fill:currentColor;text-decoration:none;cursor:pointer;user-select:none;-moz-appearance:none;-webkit-appearance:none;overflow:visible;transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1),opacity 15ms linear 30ms,transform 270ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-fab .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}.mdc-fab[hidden]{display:none}.mdc-fab::-moz-focus-inner{padding:0;border:0}.mdc-fab .mdc-fab__focus-ring{position:absolute}.mdc-fab.mdc-ripple-upgraded--background-focused .mdc-fab__focus-ring,.mdc-fab:not(.mdc-ripple-upgraded):focus .mdc-fab__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(\n      100% + 4px\n    );width:calc(\n      100% + 4px\n    )}@media screen and (forced-colors: active){.mdc-fab.mdc-ripple-upgraded--background-focused .mdc-fab__focus-ring,.mdc-fab:not(.mdc-ripple-upgraded):focus .mdc-fab__focus-ring{border-color:CanvasText}}.mdc-fab.mdc-ripple-upgraded--background-focused .mdc-fab__focus-ring::after,.mdc-fab:not(.mdc-ripple-upgraded):focus .mdc-fab__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-fab.mdc-ripple-upgraded--background-focused .mdc-fab__focus-ring::after,.mdc-fab:not(.mdc-ripple-upgraded):focus .mdc-fab__focus-ring::after{border-color:CanvasText}}.mdc-fab:active,.mdc-fab:focus{outline:none}.mdc-fab:hover{cursor:pointer}.mdc-fab>svg{width:100%}.mdc-fab--mini{width:40px;height:40px}.mdc-fab--extended{border-radius:24px;padding-left:20px;padding-right:20px;width:auto;max-width:100%;height:48px;line-height:normal}.mdc-fab--extended .mdc-fab__ripple{border-radius:24px}.mdc-fab--extended .mdc-fab__icon{margin-left:calc(12px - 20px);margin-right:12px}[dir=rtl] .mdc-fab--extended .mdc-fab__icon,.mdc-fab--extended .mdc-fab__icon[dir=rtl]{margin-left:12px;margin-right:calc(12px - 20px)}.mdc-fab--extended .mdc-fab__label+.mdc-fab__icon{margin-left:12px;margin-right:calc(12px - 20px)}[dir=rtl] .mdc-fab--extended .mdc-fab__label+.mdc-fab__icon,.mdc-fab--extended .mdc-fab__label+.mdc-fab__icon[dir=rtl]{margin-left:calc(12px - 20px);margin-right:12px}.mdc-fab--touch{margin-top:4px;margin-bottom:4px;margin-right:4px;margin-left:4px}.mdc-fab--touch .mdc-fab__touch{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}.mdc-fab::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-fab::before{border-color:CanvasText}}.mdc-fab__label{justify-content:flex-start;text-overflow:ellipsis;white-space:nowrap;overflow-x:hidden;overflow-y:visible}.mdc-fab__icon{transition:transform 180ms 90ms cubic-bezier(0, 0, 0.2, 1);fill:currentColor;will-change:transform}.mdc-fab .mdc-fab__icon{display:inline-flex;align-items:center;justify-content:center}.mdc-fab--exited{transform:scale(0);opacity:0;transition:opacity 15ms linear 150ms,transform 180ms 0ms cubic-bezier(0.4, 0, 1, 1)}.mdc-fab--exited .mdc-fab__icon{transform:scale(0);transition:transform 135ms 0ms cubic-bezier(0.4, 0, 1, 1)}.mdc-fab .mdc-fab__icon{width:24px;height:24px;font-size:24px}.mdc-fab:not(.mdc-fab--extended){border-radius:50%}.mdc-fab:not(.mdc-fab--extended) .mdc-fab__ripple{border-radius:50%}.mat-mdc-fab,.mat-mdc-mini-fab{-webkit-tap-highlight-color:rgba(0,0,0,0);background-color:var(--mdc-fab-container-color, transparent);box-shadow:0px 3px 5px -1px rgba(0, 0, 0, 0.2), 0px 6px 10px 0px rgba(0, 0, 0, 0.14), 0px 1px 18px 0px rgba(0, 0, 0, 0.12);color:var(--mat-mdc-fab-color, inherit);flex-shrink:0}.mat-mdc-fab .mat-mdc-button-ripple,.mat-mdc-fab .mat-mdc-button-persistent-ripple,.mat-mdc-fab .mat-mdc-button-persistent-ripple::before,.mat-mdc-mini-fab .mat-mdc-button-ripple,.mat-mdc-mini-fab .mat-mdc-button-persistent-ripple,.mat-mdc-mini-fab .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-fab .mat-mdc-button-persistent-ripple::before,.mat-mdc-mini-fab .mat-mdc-button-persistent-ripple::before{content:"";opacity:0;background-color:var(--mat-mdc-button-persistent-ripple-color)}.mat-mdc-fab .mat-ripple-element,.mat-mdc-mini-fab .mat-ripple-element{background-color:var(--mat-mdc-button-ripple-color)}.mat-mdc-fab .mdc-button__label,.mat-mdc-mini-fab .mdc-button__label{z-index:1}.mat-mdc-fab .mat-mdc-focus-indicator,.mat-mdc-mini-fab .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-fab:focus .mat-mdc-focus-indicator::before,.mat-mdc-mini-fab:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-fab .mat-mdc-button-touch-target,.mat-mdc-mini-fab .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}.mat-mdc-fab._mat-animation-noopable,.mat-mdc-mini-fab._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-fab:not(:disabled) .mdc-fab__icon,.mat-mdc-mini-fab:not(:disabled) .mdc-fab__icon{color:var(--mdc-fab-icon-color, inherit)}.mat-mdc-fab:not(.mdc-fab--extended),.mat-mdc-mini-fab:not(.mdc-fab--extended){border-radius:var(--mdc-fab-container-shape, 50%)}.mat-mdc-fab:not(.mdc-fab--extended) .mdc-fab__ripple,.mat-mdc-mini-fab:not(.mdc-fab--extended) .mdc-fab__ripple{border-radius:var(--mdc-fab-container-shape, 50%)}.mat-mdc-fab:hover,.mat-mdc-fab:focus,.mat-mdc-mini-fab:hover,.mat-mdc-mini-fab:focus{box-shadow:0px 5px 5px -3px rgba(0, 0, 0, 0.2), 0px 8px 10px 1px rgba(0, 0, 0, 0.14), 0px 3px 14px 2px rgba(0, 0, 0, 0.12)}.mat-mdc-fab:active,.mat-mdc-fab:focus:active,.mat-mdc-mini-fab:active,.mat-mdc-mini-fab:focus:active{box-shadow:0px 7px 8px -4px rgba(0, 0, 0, 0.2), 0px 12px 17px 2px rgba(0, 0, 0, 0.14), 0px 5px 22px 4px rgba(0, 0, 0, 0.12)}.mat-mdc-fab[disabled],.mat-mdc-mini-fab[disabled]{cursor:default;pointer-events:none;box-shadow:0px 0px 0px 0px rgba(0, 0, 0, 0.2), 0px 0px 0px 0px rgba(0, 0, 0, 0.14), 0px 0px 0px 0px rgba(0, 0, 0, 0.12)}.mat-mdc-fab:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-mini-fab:not(.mdc-ripple-upgraded):focus::before{background:rgba(0,0,0,0);opacity:1}.mat-mdc-fab .mat-icon,.mat-mdc-fab .material-icons,.mat-mdc-mini-fab .mat-icon,.mat-mdc-mini-fab .material-icons{transition:transform 180ms 90ms cubic-bezier(0, 0, 0.2, 1);fill:currentColor;will-change:transform}.mat-mdc-fab .mat-mdc-focus-indicator::before,.mat-mdc-mini-fab .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 2px) * -1)}.mat-mdc-extended-fab{border-radius:24px;padding-left:20px;padding-right:20px;width:auto;max-width:100%;height:48px;line-height:normal}.mat-mdc-extended-fab .mdc-fab__ripple{border-radius:24px}.mat-mdc-extended-fab .mdc-fab__icon{margin-left:calc(12px - 20px);margin-right:12px}[dir=rtl] .mat-mdc-extended-fab .mdc-fab__icon,.mat-mdc-extended-fab .mdc-fab__icon[dir=rtl]{margin-left:12px;margin-right:calc(12px - 20px)}.mat-mdc-extended-fab .mdc-fab__label+.mdc-fab__icon{margin-left:12px;margin-right:calc(12px - 20px)}[dir=rtl] .mat-mdc-extended-fab .mdc-fab__label+.mdc-fab__icon,.mat-mdc-extended-fab .mdc-fab__label+.mdc-fab__icon[dir=rtl]{margin-left:calc(12px - 20px);margin-right:12px}.mat-mdc-extended-fab>.mat-icon,.mat-mdc-extended-fab>.material-icons{margin-left:calc(12px - 20px);margin-right:12px}[dir=rtl] .mat-mdc-extended-fab>.mat-icon,[dir=rtl] .mat-mdc-extended-fab>.material-icons,.mat-mdc-extended-fab>.mat-icon[dir=rtl],.mat-mdc-extended-fab>.material-icons[dir=rtl]{margin-left:12px;margin-right:calc(12px - 20px)}.mat-mdc-extended-fab .mdc-button__label+.mat-icon,.mat-mdc-extended-fab .mdc-button__label+.material-icons{margin-left:12px;margin-right:calc(12px - 20px)}[dir=rtl] .mat-mdc-extended-fab .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-extended-fab .mdc-button__label+.material-icons,.mat-mdc-extended-fab .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-extended-fab .mdc-button__label+.material-icons[dir=rtl]{margin-left:calc(12px - 20px);margin-right:12px}.mat-mdc-extended-fab .mat-mdc-button-touch-target{width:100%}'],encapsulation:2,changeDetection:0}),i})(),OD=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=s.oAB({type:i}),i.\u0275inj=s.cJS({imports:[At,Hs,At]}),i})(),u4=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=s.oAB({type:i}),i.\u0275inj=s.cJS({imports:[At,Hs,At]}),i})();const h4=["*"],f4=[[["","mat-card-avatar",""],["","matCardAvatar",""]],[["mat-card-title"],["mat-card-subtitle"],["","mat-card-title",""],["","mat-card-subtitle",""],["","matCardTitle",""],["","matCardSubtitle",""]],"*"],g4=["[mat-card-avatar], [matCardAvatar]","mat-card-title, mat-card-subtitle,\n      [mat-card-title], [mat-card-subtitle],\n      [matCardTitle], [matCardSubtitle]","*"],_4=new s.OlP("MAT_CARD_CONFIG");let Qm=(()=>{class i{constructor(e){this.appearance=e?.appearance||"raised"}}return i.\u0275fac=function(e){return new(e||i)(s.Y36(_4,8))},i.\u0275cmp=s.Xpm({type:i,selectors:[["mat-card"]],hostAttrs:[1,"mat-mdc-card","mdc-card"],hostVars:4,hostBindings:function(e,n){2&e&&s.ekj("mat-mdc-card-outlined","outlined"===n.appearance)("mdc-card--outlined","outlined"===n.appearance)},inputs:{appearance:"appearance"},exportAs:["matCard"],ngContentSelectors:h4,decls:1,vars:0,template:function(e,n){1&e&&(s.F$t(),s.Hsn(0))},styles:['.mdc-card{display:flex;flex-direction:column;box-sizing:border-box}.mdc-card::after{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none;pointer-events:none}@media screen and (forced-colors: active){.mdc-card::after{border-color:CanvasText}}.mdc-card--outlined::after{border:none}.mdc-card__content{border-radius:inherit;height:100%}.mdc-card__media{position:relative;box-sizing:border-box;background-repeat:no-repeat;background-position:center;background-size:cover}.mdc-card__media::before{display:block;content:""}.mdc-card__media:first-child{border-top-left-radius:inherit;border-top-right-radius:inherit}.mdc-card__media:last-child{border-bottom-left-radius:inherit;border-bottom-right-radius:inherit}.mdc-card__media--square::before{margin-top:100%}.mdc-card__media--16-9::before{margin-top:56.25%}.mdc-card__media-content{position:absolute;top:0;right:0;bottom:0;left:0;box-sizing:border-box}.mdc-card__primary-action{display:flex;flex-direction:column;box-sizing:border-box;position:relative;outline:none;color:inherit;text-decoration:none;cursor:pointer;overflow:hidden}.mdc-card__primary-action:first-child{border-top-left-radius:inherit;border-top-right-radius:inherit}.mdc-card__primary-action:last-child{border-bottom-left-radius:inherit;border-bottom-right-radius:inherit}.mdc-card__actions{display:flex;flex-direction:row;align-items:center;box-sizing:border-box;min-height:52px;padding:8px}.mdc-card__actions--full-bleed{padding:0}.mdc-card__action-buttons,.mdc-card__action-icons{display:flex;flex-direction:row;align-items:center;box-sizing:border-box}.mdc-card__action-icons{flex-grow:1;justify-content:flex-end}.mdc-card__action-buttons+.mdc-card__action-icons{margin-left:16px;margin-right:0}[dir=rtl] .mdc-card__action-buttons+.mdc-card__action-icons,.mdc-card__action-buttons+.mdc-card__action-icons[dir=rtl]{margin-left:0;margin-right:16px}.mdc-card__action{display:inline-flex;flex-direction:row;align-items:center;box-sizing:border-box;justify-content:center;cursor:pointer;user-select:none}.mdc-card__action:focus{outline:none}.mdc-card__action--button{margin-left:0;margin-right:8px;padding:0 8px}[dir=rtl] .mdc-card__action--button,.mdc-card__action--button[dir=rtl]{margin-left:8px;margin-right:0}.mdc-card__action--button:last-child{margin-left:0;margin-right:0}[dir=rtl] .mdc-card__action--button:last-child,.mdc-card__action--button:last-child[dir=rtl]{margin-left:0;margin-right:0}.mdc-card__actions--full-bleed .mdc-card__action--button{justify-content:space-between;width:100%;height:auto;max-height:none;margin:0;padding:8px 16px;text-align:left}[dir=rtl] .mdc-card__actions--full-bleed .mdc-card__action--button,.mdc-card__actions--full-bleed .mdc-card__action--button[dir=rtl]{text-align:right}.mdc-card__action--icon{margin:-6px 0;padding:12px}.mat-mdc-card{position:relative;border-radius:var(--mdc-elevated-card-container-shape, var(--mdc-shape-medium, 4px));background-color:var(--mdc-elevated-card-container-color, transparent);border-width:0;border-style:solid;border-color:var(--mdc-elevated-card-container-color, transparent)}.mat-mdc-card .mdc-card::after{border-radius:var(--mdc-elevated-card-container-shape, var(--mdc-shape-medium, 4px))}.mat-mdc-card-outlined{border-width:var(--mdc-outlined-card-outline-width, 1px);border-style:solid;border-color:var(--mdc-outlined-card-outline-color, transparent)}.mat-mdc-card-title,.mat-mdc-card-subtitle{display:block;margin:0}.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-title,.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-subtitle{padding:16px 16px 0}.mat-mdc-card-header{display:flex;padding:16px 16px 0}.mat-mdc-card-content{display:block;padding:0 16px}.mat-mdc-card-content:first-child{padding-top:16px}.mat-mdc-card-content:last-child{padding-bottom:16px}.mat-mdc-card-title-group{display:flex;justify-content:space-between;width:100%}.mat-mdc-card-avatar{height:40px;width:40px;border-radius:50%;flex-shrink:0;margin-bottom:16px;object-fit:cover}.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-subtitle,.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-title{line-height:normal}.mat-mdc-card-sm-image{width:80px;height:80px}.mat-mdc-card-md-image{width:112px;height:112px}.mat-mdc-card-lg-image{width:152px;height:152px}.mat-mdc-card-xl-image{width:240px;height:240px}.mat-mdc-card-subtitle~.mat-mdc-card-title,.mat-mdc-card-title~.mat-mdc-card-subtitle,.mat-mdc-card-header .mat-mdc-card-header-text .mat-mdc-card-title,.mat-mdc-card-header .mat-mdc-card-header-text .mat-mdc-card-subtitle,.mat-mdc-card-title-group .mat-mdc-card-title,.mat-mdc-card-title-group .mat-mdc-card-subtitle{padding-top:0}.mat-mdc-card-content>:last-child:not(.mat-mdc-card-footer){margin-bottom:0}.mat-mdc-card-actions-align-end{justify-content:flex-end}'],encapsulation:2,changeDetection:0}),i})(),DT=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275dir=s.lG2({type:i,selectors:[["mat-card-content"]],hostAttrs:[1,"mat-mdc-card-content"]}),i})(),oL=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275cmp=s.Xpm({type:i,selectors:[["mat-card-header"]],hostAttrs:[1,"mat-mdc-card-header"],ngContentSelectors:g4,decls:4,vars:0,consts:[[1,"mat-mdc-card-header-text"]],template:function(e,n){1&e&&(s.F$t(f4),s.Hsn(0),s.TgZ(1,"div",0),s.Hsn(2,1),s.qZA(),s.Hsn(3,2))},encapsulation:2,changeDetection:0}),i})(),S4=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=s.oAB({type:i}),i.\u0275inj=s.cJS({imports:[At,Ni,At]}),i})(),cL=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=s.oAB({type:i}),i.\u0275inj=s.cJS({}),i})(),z4=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=s.oAB({type:i}),i.\u0275inj=s.cJS({imports:[At,Hs,cL,At,cL]}),i})();const PD=new s.OlP("mat-chips-default-options");let bG=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=s.oAB({type:i}),i.\u0275inj=s.cJS({providers:[pD,{provide:PD,useValue:{separatorKeyCodes:[13]}}],imports:[At,Ni,Hs,At]}),i})();const gL=ls({passive:!0});let yG=(()=>{class i{constructor(e,n){this._platform=e,this._ngZone=n,this._monitoredElements=new Map}monitor(e){if(!this._platform.isBrowser)return No.E;const n=Tn(e),r=this._monitoredElements.get(n);if(r)return r.subject;const o=new nt.x,d="cdk-text-field-autofilled",h=g=>{"cdk-text-field-autofill-start"!==g.animationName||n.classList.contains(d)?"cdk-text-field-autofill-end"===g.animationName&&n.classList.contains(d)&&(n.classList.remove(d),this._ngZone.run(()=>o.next({target:g.target,isAutofilled:!1}))):(n.classList.add(d),this._ngZone.run(()=>o.next({target:g.target,isAutofilled:!0})))};return this._ngZone.runOutsideAngular(()=>{n.addEventListener("animationstart",h,gL),n.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(n,{subject:o,unlisten:()=>{n.removeEventListener("animationstart",h,gL)}}),o}stopMonitoring(e){const n=Tn(e),r=this._monitoredElements.get(n);r&&(r.unlisten(),r.subject.complete(),n.classList.remove("cdk-text-field-autofill-monitored"),n.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(n))}ngOnDestroy(){this._monitoredElements.forEach((e,n)=>this.stopMonitoring(n))}}return i.\u0275fac=function(e){return new(e||i)(s.LFG(An),s.LFG(s.R0b))},i.\u0275prov=s.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),wG=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=s.oAB({type:i}),i.\u0275inj=s.cJS({}),i})();const _L=new s.OlP("MAT_INPUT_VALUE_ACCESSOR"),xG=["button","checkbox","file","hidden","image","radio","range","reset","submit"];let CG=0;const DG=gF(class{constructor(i,t,e,n){this._defaultErrorStateMatcher=i,this._parentForm=t,this._parentFormGroup=e,this.ngControl=n,this.stateChanges=new nt.x}});let LD=(()=>{class i extends DG{get disabled(){return this._disabled}set disabled(e){this._disabled=It(e),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(e){this._id=e||this._uid}get required(){return this._required??this.ngControl?.control?.hasValidator(ms.required)??!1}set required(e){this._required=It(e)}get type(){return this._type}set type(e){this._type=e||"text",this._validateType(),!this._isTextarea&&tC().has(this._type)&&(this._elementRef.nativeElement.type=this._type)}get value(){return this._inputValueAccessor.value}set value(e){e!==this.value&&(this._inputValueAccessor.value=e,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(e){this._readonly=It(e)}constructor(e,n,r,o,d,h,g,b,x,k){super(h,o,d,r),this._elementRef=e,this._platform=n,this._autofillMonitor=b,this._formField=k,this._uid="mat-input-"+CG++,this.focused=!1,this.stateChanges=new nt.x,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(H=>tC().has(H)),this._iOSKeyupListener=H=>{const X=H.target;!X.value&&0===X.selectionStart&&0===X.selectionEnd&&(X.setSelectionRange(1,1),X.setSelectionRange(0,0))};const T=this._elementRef.nativeElement,F=T.nodeName.toLowerCase();this._inputValueAccessor=g||T,this._previousNativeValue=this.value,this.id=this.id,n.IOS&&x.runOutsideAngular(()=>{e.nativeElement.addEventListener("keyup",this._iOSKeyupListener)}),this._isServer=!this._platform.isBrowser,this._isNativeSelect="select"===F,this._isTextarea="textarea"===F,this._isInFormField=!!k,this._isNativeSelect&&(this.controlType=T.multiple?"mat-native-select-multiple":"mat-native-select")}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(e=>{this.autofilled=e.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement),this._platform.IOS&&this._elementRef.nativeElement.removeEventListener("keyup",this._iOSKeyupListener)}ngDoCheck(){this.ngControl&&(this.updateErrorState(),null!==this.ngControl.disabled&&this.ngControl.disabled!==this.disabled&&(this.disabled=this.ngControl.disabled,this.stateChanges.next())),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(e){this._elementRef.nativeElement.focus(e)}_focusChanged(e){e!==this.focused&&(this.focused=e,this.stateChanges.next())}_onInput(){}_dirtyCheckNativeValue(){const e=this._elementRef.nativeElement.value;this._previousNativeValue!==e&&(this._previousNativeValue=e,this.stateChanges.next())}_dirtyCheckPlaceholder(){const e=this._getPlaceholder();if(e!==this._previousPlaceholder){const n=this._elementRef.nativeElement;this._previousPlaceholder=e,e?n.setAttribute("placeholder",e):n.removeAttribute("placeholder")}}_getPlaceholder(){return this.placeholder||null}_validateType(){xG.indexOf(this._type)}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let e=this._elementRef.nativeElement.validity;return e&&e.badInput}get empty(){return!(this._isNeverEmpty()||this._elementRef.nativeElement.value||this._isBadInput()||this.autofilled)}get shouldLabelFloat(){if(this._isNativeSelect){const e=this._elementRef.nativeElement,n=e.options[0];return this.focused||e.multiple||!this.empty||!!(e.selectedIndex>-1&&n&&n.label)}return this.focused||!this.empty}setDescribedByIds(e){e.length?this._elementRef.nativeElement.setAttribute("aria-describedby",e.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}_isInlineSelect(){const e=this._elementRef.nativeElement;return this._isNativeSelect&&(e.multiple||e.size>1)}}return i.\u0275fac=function(e){return new(e||i)(s.Y36(s.SBq),s.Y36(An),s.Y36(Kc,10),s.Y36(Ay,8),s.Y36(Zm,8),s.Y36(pD),s.Y36(_L,10),s.Y36(yG),s.Y36(s.R0b),s.Y36(Oy,8))},i.\u0275dir=s.lG2({type:i,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-mdc-input-element"],hostVars:18,hostBindings:function(e,n){1&e&&s.NdJ("focus",function(){return n._focusChanged(!0)})("blur",function(){return n._focusChanged(!1)})("input",function(){return n._onInput()}),2&e&&(s.Ikx("id",n.id)("disabled",n.disabled)("required",n.required),s.uIk("name",n.name||null)("readonly",n.readonly&&!n._isNativeSelect||null)("aria-invalid",n.empty&&n.required?null:n.errorState)("aria-required",n.required)("id",n.id),s.ekj("mat-input-server",n._isServer)("mat-mdc-form-field-textarea-control",n._isInFormField&&n._isTextarea)("mat-mdc-form-field-input-control",n._isInFormField)("mdc-text-field__input",n._isInFormField)("mat-mdc-native-select-inline",n._isInlineSelect()))},inputs:{disabled:"disabled",id:"id",placeholder:"placeholder",name:"name",required:"required",type:"type",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"],value:"value",readonly:"readonly"},exportAs:["matInput"],features:[s._Bn([{provide:yT,useExisting:i}]),s.qOj,s.TTD]}),i})(),EG=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=s.oAB({type:i}),i.\u0275inj=s.cJS({imports:[At,wT,wT,wG,At]}),i})(),IG=(()=>{class i{constructor(){this.changes=new nt.x,this.calendarLabel="Calendar",this.openCalendarLabel="Open calendar",this.closeCalendarLabel="Close calendar",this.prevMonthLabel="Previous month",this.nextMonthLabel="Next month",this.prevYearLabel="Previous year",this.nextYearLabel="Next year",this.prevMultiYearLabel="Previous 24 years",this.nextMultiYearLabel="Next 24 years",this.switchToMonthViewLabel="Choose date",this.switchToMultiYearViewLabel="Choose month and year",this.startDateLabel="Start date",this.endDateLabel="End date"}formatYearRange(e,n){return`${e} \u2013 ${n}`}formatYearRangeLabel(e,n){return`${e} to ${n}`}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=s.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();const BG={provide:new s.OlP("mat-datepicker-scroll-strategy"),deps:[_a],useFactory:function LG(i){return()=>i.scrollStrategies.reposition()}};let $G=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=s.oAB({type:i}),i.\u0275inj=s.cJS({providers:[IG,BG],imports:[Ni,OD,Mu,Tg,Zc,At,pa]}),i})();function YG(i,t){}class HD{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.maxWidth="80vw",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.delayFocusTrap=!0,this.closeOnNavigation=!0}}const RT="mdc-dialog--open",xL="mdc-dialog--opening",CL="mdc-dialog--closing";let ZG=(()=>{class i extends $N{constructor(e,n,r,o,d,h,g,b){super(e,n,r,o,d,h,g,b),this._animationStateChanged=new s.vpe}_captureInitialFocus(){this._config.delayFocusTrap||this._trapFocus()}_openAnimationDone(e){this._config.delayFocusTrap&&this._trapFocus(),this._animationStateChanged.next({state:"opened",totalTime:e})}}return i.\u0275fac=function(e){return new(e||i)(s.Y36(s.SBq),s.Y36(kg),s.Y36(K,8),s.Y36(HD),s.Y36(Rm),s.Y36(s.R0b),s.Y36(Cy),s.Y36(us))},i.\u0275cmp=s.Xpm({type:i,selectors:[["ng-component"]],features:[s.qOj],decls:0,vars:0,template:function(e,n){},encapsulation:2}),i})();const DL="--mat-dialog-transition-duration";function EL(i){return null==i?null:"number"==typeof i?i:i.endsWith("ms")?hr(i.substring(0,i.length-2)):i.endsWith("s")?1e3*hr(i.substring(0,i.length-1)):"0"===i?0:null}let KG=(()=>{class i extends ZG{constructor(e,n,r,o,d,h,g,b,x){super(e,n,r,o,d,h,g,x),this._animationMode=b,this._animationsEnabled="NoopAnimations"!==this._animationMode,this._hostElement=this._elementRef.nativeElement,this._openAnimationDuration=this._animationsEnabled?EL(this._config.enterAnimationDuration)??150:0,this._closeAnimationDuration=this._animationsEnabled?EL(this._config.exitAnimationDuration)??75:0,this._animationTimer=null,this._finishDialogOpen=()=>{this._clearAnimationClasses(),this._openAnimationDone(this._openAnimationDuration)},this._finishDialogClose=()=>{this._clearAnimationClasses(),this._animationStateChanged.emit({state:"closed",totalTime:this._closeAnimationDuration})}}_contentAttached(){super._contentAttached(),this._startOpenAnimation()}ngOnDestroy(){super.ngOnDestroy(),null!==this._animationTimer&&clearTimeout(this._animationTimer)}_startOpenAnimation(){this._animationStateChanged.emit({state:"opening",totalTime:this._openAnimationDuration}),this._animationsEnabled?(this._hostElement.style.setProperty(DL,`${this._openAnimationDuration}ms`),this._hostElement.classList.add(xL),this._hostElement.classList.add(RT),this._waitForAnimationToComplete(this._openAnimationDuration,this._finishDialogOpen)):(this._hostElement.classList.add(RT),Promise.resolve().then(()=>this._finishDialogOpen()))}_startExitAnimation(){this._animationStateChanged.emit({state:"closing",totalTime:this._closeAnimationDuration}),this._hostElement.classList.remove(RT),this._animationsEnabled?(this._hostElement.style.setProperty(DL,`${this._openAnimationDuration}ms`),this._hostElement.classList.add(CL),this._waitForAnimationToComplete(this._closeAnimationDuration,this._finishDialogClose)):Promise.resolve().then(()=>this._finishDialogClose())}_clearAnimationClasses(){this._hostElement.classList.remove(xL),this._hostElement.classList.remove(CL)}_waitForAnimationToComplete(e,n){null!==this._animationTimer&&clearTimeout(this._animationTimer),this._animationTimer=setTimeout(n,e)}}return i.\u0275fac=function(e){return new(e||i)(s.Y36(s.SBq),s.Y36(kg),s.Y36(K,8),s.Y36(HD),s.Y36(Rm),s.Y36(s.R0b),s.Y36(Cy),s.Y36(s.QbO,8),s.Y36(us))},i.\u0275cmp=s.Xpm({type:i,selectors:[["mat-dialog-container"]],hostAttrs:["tabindex","-1",1,"mat-mdc-dialog-container","mdc-dialog"],hostVars:8,hostBindings:function(e,n){2&e&&(s.Ikx("id",n._config.id),s.uIk("aria-modal",n._config.ariaModal)("role",n._config.role)("aria-labelledby",n._config.ariaLabel?null:n._ariaLabelledBy)("aria-label",n._config.ariaLabel)("aria-describedby",n._config.ariaDescribedBy||null),s.ekj("_mat-animation-noopable",!n._animationsEnabled))},features:[s.qOj],decls:3,vars:0,consts:[[1,"mdc-dialog__container"],[1,"mat-mdc-dialog-surface","mdc-dialog__surface"],["cdkPortalOutlet",""]],template:function(e,n){1&e&&(s.TgZ(0,"div",0)(1,"div",1),s.YNc(2,YG,0,0,"ng-template",2),s.qZA()())},dependencies:[KS],styles:['.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity, 0);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-dialog,.mdc-dialog__scrim{position:fixed;top:0;left:0;align-items:center;justify-content:center;box-sizing:border-box;width:100%;height:100%}.mdc-dialog{display:none;z-index:var(--mdc-dialog-z-index, 7)}.mdc-dialog .mdc-dialog__content{padding:20px 24px 20px 24px}.mdc-dialog .mdc-dialog__surface{min-width:280px}@media(max-width: 592px){.mdc-dialog .mdc-dialog__surface{max-width:calc(100vw - 32px)}}@media(min-width: 592px){.mdc-dialog .mdc-dialog__surface{max-width:560px}}.mdc-dialog .mdc-dialog__surface{max-height:calc(100% - 32px)}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-width:none}@media(max-width: 960px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-height:560px;width:560px}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{right:-12px}}@media(max-width: 720px)and (max-width: 672px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{width:calc(100vw - 112px)}}@media(max-width: 720px)and (min-width: 672px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{width:560px}}@media(max-width: 720px)and (max-height: 720px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-height:calc(100vh - 160px)}}@media(max-width: 720px)and (min-height: 720px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-height:560px}}@media(max-width: 720px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{right:-12px}}@media(max-width: 720px)and (max-height: 400px),(max-width: 600px),(min-width: 720px)and (max-height: 400px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{height:100%;max-height:100vh;max-width:100vw;width:100vw;border-radius:0}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{order:-1;left:-12px}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__header{padding:0 16px 9px;justify-content:flex-start}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__title{margin-left:calc(16px - 2 * 12px)}}@media(min-width: 960px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{width:calc(100vw - 400px)}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{right:-12px}}.mdc-dialog.mdc-dialog__scrim--hidden .mdc-dialog__scrim{opacity:0}.mdc-dialog__scrim{opacity:0;z-index:-1}.mdc-dialog__container{display:flex;flex-direction:row;align-items:center;justify-content:space-around;box-sizing:border-box;height:100%;transform:scale(0.8);opacity:0;pointer-events:none}.mdc-dialog__surface{position:relative;display:flex;flex-direction:column;flex-grow:0;flex-shrink:0;box-sizing:border-box;max-width:100%;max-height:100%;pointer-events:auto;overflow-y:auto}.mdc-dialog__surface .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}[dir=rtl] .mdc-dialog__surface,.mdc-dialog__surface[dir=rtl]{text-align:right}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mdc-dialog__surface{outline:2px solid windowText}}.mdc-dialog__surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:2px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-dialog__surface::before{border-color:CanvasText}}@media screen and (-ms-high-contrast: active),screen and (-ms-high-contrast: none){.mdc-dialog__surface::before{content:none}}.mdc-dialog__title{display:block;margin-top:0;position:relative;flex-shrink:0;box-sizing:border-box;margin:0 0 1px;padding:0 24px 9px}.mdc-dialog__title::before{display:inline-block;width:0;height:40px;content:"";vertical-align:0}[dir=rtl] .mdc-dialog__title,.mdc-dialog__title[dir=rtl]{text-align:right}.mdc-dialog--scrollable .mdc-dialog__title{margin-bottom:1px;padding-bottom:15px}.mdc-dialog--fullscreen .mdc-dialog__header{align-items:baseline;border-bottom:1px solid rgba(0,0,0,0);display:inline-flex;justify-content:space-between;padding:0 24px 9px;z-index:1}@media screen and (forced-colors: active){.mdc-dialog--fullscreen .mdc-dialog__header{border-bottom-color:CanvasText}}.mdc-dialog--fullscreen .mdc-dialog__header .mdc-dialog__close{right:-12px}.mdc-dialog--fullscreen .mdc-dialog__title{margin-bottom:0;padding:0;border-bottom:0}.mdc-dialog--fullscreen.mdc-dialog--scrollable .mdc-dialog__title{border-bottom:0;margin-bottom:0}.mdc-dialog--fullscreen .mdc-dialog__close{top:5px}.mdc-dialog--fullscreen.mdc-dialog--scrollable .mdc-dialog__actions{border-top:1px solid rgba(0,0,0,0)}@media screen and (forced-colors: active){.mdc-dialog--fullscreen.mdc-dialog--scrollable .mdc-dialog__actions{border-top-color:CanvasText}}.mdc-dialog--fullscreen--titleless .mdc-dialog__close{margin-top:4px}.mdc-dialog--fullscreen--titleless.mdc-dialog--scrollable .mdc-dialog__close{margin-top:0}.mdc-dialog__content{flex-grow:1;box-sizing:border-box;margin:0;overflow:auto}.mdc-dialog__content>:first-child{margin-top:0}.mdc-dialog__content>:last-child{margin-bottom:0}.mdc-dialog__title+.mdc-dialog__content,.mdc-dialog__header+.mdc-dialog__content{padding-top:0}.mdc-dialog--scrollable .mdc-dialog__title+.mdc-dialog__content{padding-top:8px;padding-bottom:8px}.mdc-dialog__content .mdc-deprecated-list:first-child:last-child{padding:6px 0 0}.mdc-dialog--scrollable .mdc-dialog__content .mdc-deprecated-list:first-child:last-child{padding:0}.mdc-dialog__actions{display:flex;position:relative;flex-shrink:0;flex-wrap:wrap;align-items:center;justify-content:flex-end;box-sizing:border-box;min-height:52px;margin:0;padding:8px;border-top:1px solid rgba(0,0,0,0)}@media screen and (forced-colors: active){.mdc-dialog__actions{border-top-color:CanvasText}}.mdc-dialog--stacked .mdc-dialog__actions{flex-direction:column;align-items:flex-end}.mdc-dialog__button{margin-left:8px;margin-right:0;max-width:100%;text-align:right}[dir=rtl] .mdc-dialog__button,.mdc-dialog__button[dir=rtl]{margin-left:0;margin-right:8px}.mdc-dialog__button:first-child{margin-left:0;margin-right:0}[dir=rtl] .mdc-dialog__button:first-child,.mdc-dialog__button:first-child[dir=rtl]{margin-left:0;margin-right:0}[dir=rtl] .mdc-dialog__button,.mdc-dialog__button[dir=rtl]{text-align:left}.mdc-dialog--stacked .mdc-dialog__button:not(:first-child){margin-top:12px}.mdc-dialog--open,.mdc-dialog--opening,.mdc-dialog--closing{display:flex}.mdc-dialog--opening .mdc-dialog__scrim{transition:opacity 150ms linear}.mdc-dialog--opening .mdc-dialog__container{transition:opacity 75ms linear,transform 150ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-dialog--closing .mdc-dialog__scrim,.mdc-dialog--closing .mdc-dialog__container{transition:opacity 75ms linear}.mdc-dialog--closing .mdc-dialog__container{transform:none}.mdc-dialog--open .mdc-dialog__scrim{opacity:1}.mdc-dialog--open .mdc-dialog__container{transform:none;opacity:1}.mdc-dialog--open.mdc-dialog__surface-scrim--shown .mdc-dialog__surface-scrim{opacity:1}.mdc-dialog--open.mdc-dialog__surface-scrim--hiding .mdc-dialog__surface-scrim{transition:opacity 75ms linear}.mdc-dialog--open.mdc-dialog__surface-scrim--showing .mdc-dialog__surface-scrim{transition:opacity 150ms linear}.mdc-dialog__surface-scrim{display:none;opacity:0;position:absolute;width:100%;height:100%;z-index:1}.mdc-dialog__surface-scrim--shown .mdc-dialog__surface-scrim,.mdc-dialog__surface-scrim--showing .mdc-dialog__surface-scrim,.mdc-dialog__surface-scrim--hiding .mdc-dialog__surface-scrim{display:block}.mdc-dialog-scroll-lock{overflow:hidden}.mdc-dialog--no-content-padding .mdc-dialog__content{padding:0}.mdc-dialog--sheet .mdc-dialog__close{right:12px;top:9px;position:absolute;z-index:1}.mdc-dialog__scrim--removed{pointer-events:none}.mdc-dialog__scrim--removed .mdc-dialog__scrim,.mdc-dialog__scrim--removed .mdc-dialog__surface-scrim{display:none}.mat-mdc-dialog-content{max-height:65vh}.mat-mdc-dialog-container{position:static;display:block}.mat-mdc-dialog-container,.mat-mdc-dialog-container .mdc-dialog__container,.mat-mdc-dialog-container .mdc-dialog__surface{max-height:inherit;min-height:inherit;min-width:inherit;max-width:inherit}.mat-mdc-dialog-container .mdc-dialog__surface{display:block;width:100%;height:100%}.mat-mdc-dialog-container{outline:0}.mat-mdc-dialog-container .mdc-dialog__surface{background-color:var(--mdc-dialog-container-color, white)}.mat-mdc-dialog-container .mdc-dialog__surface{box-shadow:var(--mdc-dialog-container-elevation, 0px 11px 15px -7px rgba(0, 0, 0, 0.2), 0px 24px 38px 3px rgba(0, 0, 0, 0.14), 0px 9px 46px 8px rgba(0, 0, 0, 0.12))}.mat-mdc-dialog-container .mdc-dialog__surface{border-radius:var(--mdc-dialog-container-shape, var(--mdc-shape-medium, 4px))}.mat-mdc-dialog-container.mdc-dialog--scrollable .mdc-dialog__title,.mat-mdc-dialog-container.mdc-dialog--scrollable .mdc-dialog__actions,.mat-mdc-dialog-container.mdc-dialog--scrollable.mdc-dialog-scroll-divider-footer .mdc-dialog__actions{border-color:var(--mdc-dialog-with-divider-divider-color, black)}.mat-mdc-dialog-container.mdc-dialog--scrollable .mdc-dialog__title{border-bottom-color:var(--mdc-dialog-with-divider-divider-color, black)}.mat-mdc-dialog-container .mdc-dialog__title{font-family:var(--mdc-dialog-subhead-font, "Arial");line-height:var(--mdc-dialog-subhead-line-height, 14px);font-size:var(--mdc-dialog-subhead-size, 14px);font-weight:var(--mdc-dialog-subhead-weight, 500);letter-spacing:var(--mdc-dialog-subhead-tracking, 1px)}.mat-mdc-dialog-container .mdc-dialog__title{color:var(--mdc-dialog-subhead-color, black)}.mat-mdc-dialog-container .mdc-dialog__content{font-family:var(--mdc-dialog-supporting-text-font, "Arial");line-height:var(--mdc-dialog-supporting-text-line-height, 14px);font-size:var(--mdc-dialog-supporting-text-size, 14px);font-weight:var(--mdc-dialog-supporting-text-weight, 500);letter-spacing:var(--mdc-dialog-supporting-text-tracking, 1px)}.mat-mdc-dialog-container .mdc-dialog__content{color:var(--mdc-dialog-supporting-text-color, black)}.mat-mdc-dialog-container .mdc-dialog__container{transition-duration:var(--mat-dialog-transition-duration, 0ms)}.mat-mdc-dialog-container._mat-animation-noopable .mdc-dialog__container{transition:none}.mat-mdc-dialog-content{display:block}.mat-mdc-dialog-actions{justify-content:start}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-center,.mat-mdc-dialog-actions[align=center]{justify-content:center}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-end,.mat-mdc-dialog-actions[align=end]{justify-content:flex-end}.mat-mdc-dialog-actions .mat-button-base+.mat-button-base,.mat-mdc-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-mdc-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-mdc-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}'],encapsulation:2}),i})();class UD{constructor(t,e,n){this._ref=t,this._containerInstance=n,this._afterOpened=new nt.x,this._beforeClosed=new nt.x,this._state=0,this.disableClose=e.disableClose,this.id=t.id,n._animationStateChanged.pipe(sn(r=>"opened"===r.state),Gi(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),n._animationStateChanged.pipe(sn(r=>"closed"===r.state),Gi(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._finishDialogClose()}),t.overlayRef.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._finishDialogClose()}),(0,Br.T)(this.backdropClick(),this.keydownEvents().pipe(sn(r=>27===r.keyCode&&!this.disableClose&&!ds(r)))).subscribe(r=>{this.disableClose||(r.preventDefault(),kL(this,"keydown"===r.type?"keyboard":"mouse"))})}close(t){this._result=t,this._containerInstance._animationStateChanged.pipe(sn(e=>"closing"===e.state),Gi(1)).subscribe(e=>{this._beforeClosed.next(t),this._beforeClosed.complete(),this._ref.overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>this._finishDialogClose(),e.totalTime+100)}),this._state=1,this._containerInstance._startExitAnimation()}afterOpened(){return this._afterOpened}afterClosed(){return this._ref.closed}beforeClosed(){return this._beforeClosed}backdropClick(){return this._ref.backdropClick}keydownEvents(){return this._ref.keydownEvents}updatePosition(t){let e=this._ref.config.positionStrategy;return t&&(t.left||t.right)?t.left?e.left(t.left):e.right(t.right):e.centerHorizontally(),t&&(t.top||t.bottom)?t.top?e.top(t.top):e.bottom(t.bottom):e.centerVertically(),this._ref.updatePosition(),this}updateSize(t="",e=""){return this._ref.updateSize(t,e),this}addPanelClass(t){return this._ref.addPanelClass(t),this}removePanelClass(t){return this._ref.removePanelClass(t),this}getState(){return this._state}_finishDialogClose(){this._state=2,this._ref.close(this._result,{focusOrigin:this._closeInteractionType}),this.componentInstance=null}}function kL(i,t,e){return i._closeInteractionType=t,i.close(e)}const OT=new s.OlP("MatMdcDialogData"),QG=new s.OlP("mat-mdc-dialog-default-options"),ML=new s.OlP("mat-mdc-dialog-scroll-strategy"),JG={provide:ML,deps:[_a],useFactory:function XG(i){return()=>i.scrollStrategies.block()}};let e8=0,t8=(()=>{class i{get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}_getAfterAllClosed(){const e=this._parentDialog;return e?e._getAfterAllClosed():this._afterAllClosedAtThisLevel}constructor(e,n,r,o,d,h,g,b,x,k){this._overlay=e,this._defaultOptions=r,this._parentDialog=o,this._dialogRefConstructor=g,this._dialogContainerType=b,this._dialogDataToken=x,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new nt.x,this._afterOpenedAtThisLevel=new nt.x,this._idPrefix="mat-dialog-",this.dialogConfigClass=HD,this.afterAllClosed=kl(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(sr(void 0))),this._scrollStrategy=h,this._dialog=n.get(qN)}open(e,n){let r;(n={...this._defaultOptions||new HD,...n}).id=n.id||`${this._idPrefix}${e8++}`,n.scrollStrategy=n.scrollStrategy||this._scrollStrategy();const o=this._dialog.open(e,{...n,positionStrategy:this._overlay.position().global().centerHorizontally().centerVertically(),disableClose:!0,closeOnDestroy:!1,closeOnOverlayDetachments:!1,container:{type:this._dialogContainerType,providers:()=>[{provide:this.dialogConfigClass,useValue:n},{provide:RD,useValue:n}]},templateContext:()=>({dialogRef:r}),providers:(d,h,g)=>(r=new this._dialogRefConstructor(d,n,g),r.updatePosition(n?.position),[{provide:this._dialogContainerType,useValue:g},{provide:this._dialogDataToken,useValue:h.data},{provide:this._dialogRefConstructor,useValue:r}])});return r.componentInstance=o.componentInstance,this.openDialogs.push(r),this.afterOpened.next(r),r.afterClosed().subscribe(()=>{const d=this.openDialogs.indexOf(r);d>-1&&(this.openDialogs.splice(d,1),this.openDialogs.length||this._getAfterAllClosed().next())}),r}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(e){return this.openDialogs.find(n=>n.id===e)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()}_closeDialogs(e){let n=e.length;for(;n--;)e[n].close()}}return i.\u0275fac=function(e){s.$Z()},i.\u0275prov=s.Yz7({token:i,factory:i.\u0275fac}),i})(),PT=(()=>{class i extends t8{constructor(e,n,r,o,d,h,g,b){super(e,n,o,h,g,d,UD,KG,OT,b),this._idPrefix="mat-mdc-dialog-"}}return i.\u0275fac=function(e){return new(e||i)(s.LFG(_a),s.LFG(s.zs3),s.LFG(He,8),s.LFG(QG,8),s.LFG(ML),s.LFG(i,12),s.LFG(gD),s.LFG(s.QbO,8))},i.\u0275prov=s.Yz7({token:i,factory:i.\u0275fac}),i})(),IL=(()=>{class i{constructor(e,n,r){this.dialogRef=e,this._elementRef=n,this._dialog=r,this.type="button"}ngOnInit(){this.dialogRef||(this.dialogRef=function n8(i,t){let e=i.nativeElement.parentElement;for(;e&&!e.classList.contains("mat-mdc-dialog-container");)e=e.parentElement;return e?t.find(n=>n.id===e.id):null}(this._elementRef,this._dialog.openDialogs))}ngOnChanges(e){const n=e._matDialogClose||e._matDialogCloseResult;n&&(this.dialogResult=n.currentValue)}_onButtonClick(e){kL(this.dialogRef,0===e.screenX&&0===e.screenY?"keyboard":"mouse",this.dialogResult)}}return i.\u0275fac=function(e){return new(e||i)(s.Y36(UD,8),s.Y36(s.SBq),s.Y36(PT))},i.\u0275dir=s.lG2({type:i,selectors:[["","mat-dialog-close",""],["","matDialogClose",""]],hostVars:2,hostBindings:function(e,n){1&e&&s.NdJ("click",function(o){return n._onButtonClick(o)}),2&e&&s.uIk("aria-label",n.ariaLabel||null)("type",n.type)},inputs:{ariaLabel:["aria-label","ariaLabel"],type:"type",dialogResult:["mat-dialog-close","dialogResult"],_matDialogClose:["matDialogClose","_matDialogClose"]},exportAs:["matDialogClose"],features:[s.TTD]}),i})(),SL=(()=>{class i{constructor(){this.align="start"}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275dir=s.lG2({type:i,selectors:[["","mat-dialog-actions",""],["mat-dialog-actions"],["","matDialogActions",""]],hostAttrs:[1,"mat-mdc-dialog-actions","mdc-dialog__actions"],hostVars:4,hostBindings:function(e,n){2&e&&s.ekj("mat-mdc-dialog-actions-align-center","center"===n.align)("mat-mdc-dialog-actions-align-end","end"===n.align)},inputs:{align:"align"}}),i})(),TL=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=s.oAB({type:i}),i.\u0275inj=s.cJS({providers:[PT,JG],imports:[WN,Mu,Zc,At,At]}),i})(),RL=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=s.oAB({type:i}),i.\u0275inj=s.cJS({imports:[At,At]}),i})(),r8=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=s.oAB({type:i}),i.\u0275inj=s.cJS({}),i})(),o8=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=s.oAB({type:i}),i.\u0275inj=s.cJS({imports:[Ni,At,r8,Zc]}),i})(),c8=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=s.oAB({type:i}),i.\u0275inj=s.cJS({imports:[_F,At,_F,At]}),i})();var FL=R(3099);class zD{}class FT{}class va{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?this.lazyInit="string"==typeof t?()=>{this.headers=new Map,t.split("\n").forEach(e=>{const n=e.indexOf(":");if(n>0){const r=e.slice(0,n),o=r.toLowerCase(),d=e.slice(n+1).trim();this.maybeSetNormalizedName(r,o),this.headers.has(o)?this.headers.get(o).push(d):this.headers.set(o,[d])}})}:()=>{this.headers=new Map,Object.keys(t).forEach(e=>{let n=t[e];const r=e.toLowerCase();"string"==typeof n&&(n=[n]),n.length>0&&(this.headers.set(r,n),this.maybeSetNormalizedName(e,r))})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();const e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,e){return this.clone({name:t,value:e,op:"a"})}set(t,e){return this.clone({name:t,value:e,op:"s"})}delete(t,e){return this.clone({name:t,value:e,op:"d"})}maybeSetNormalizedName(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)}init(){this.lazyInit&&(this.lazyInit instanceof va?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(e=>{this.headers.set(e,t.headers.get(e)),this.normalizedNames.set(e,t.normalizedNames.get(e))})}clone(t){const e=new va;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof va?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([t]),e}applyUpdate(t){const e=t.name.toLowerCase();switch(t.op){case"a":case"s":let n=t.value;if("string"==typeof n&&(n=[n]),0===n.length)return;this.maybeSetNormalizedName(t.name,e);const r=("a"===t.op?this.headers.get(e):void 0)||[];r.push(...n),this.headers.set(e,r);break;case"d":const o=t.value;if(o){let d=this.headers.get(e);if(!d)return;d=d.filter(h=>-1===o.indexOf(h)),0===d.length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,d)}else this.headers.delete(e),this.normalizedNames.delete(e)}}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>t(this.normalizedNames.get(e),this.headers.get(e)))}}class l8{encodeKey(t){return NL(t)}encodeValue(t){return NL(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}}const u8=/%(\d[a-f0-9])/gi,h8={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function NL(i){return encodeURIComponent(i).replace(u8,(t,e)=>h8[e]??t)}function jD(i){return`${i}`}class rc{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new l8,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function d8(i,t){const e=new Map;return i.length>0&&i.replace(/^\?/,"").split("&").forEach(r=>{const o=r.indexOf("="),[d,h]=-1==o?[t.decodeKey(r),""]:[t.decodeKey(r.slice(0,o)),t.decodeValue(r.slice(o+1))],g=e.get(d)||[];g.push(h),e.set(d,g)}),e}(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(e=>{const n=t.fromObject[e],r=Array.isArray(n)?n.map(jD):[jD(n)];this.map.set(e,r)})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();const e=this.map.get(t);return e?e[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,e){return this.clone({param:t,value:e,op:"a"})}appendAll(t){const e=[];return Object.keys(t).forEach(n=>{const r=t[n];Array.isArray(r)?r.forEach(o=>{e.push({param:n,value:o,op:"a"})}):e.push({param:n,value:r,op:"a"})}),this.clone(e)}set(t,e){return this.clone({param:t,value:e,op:"s"})}delete(t,e){return this.clone({param:t,value:e,op:"d"})}toString(){return this.init(),this.keys().map(t=>{const e=this.encoder.encodeKey(t);return this.map.get(t).map(n=>e+"="+this.encoder.encodeValue(n)).join("&")}).filter(t=>""!==t).join("&")}clone(t){const e=new rc({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat(t),e}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":const e=("a"===t.op?this.map.get(t.param):void 0)||[];e.push(jD(t.value)),this.map.set(t.param,e);break;case"d":if(void 0===t.value){this.map.delete(t.param);break}{let n=this.map.get(t.param)||[];const r=n.indexOf(jD(t.value));-1!==r&&n.splice(r,1),n.length>0?this.map.set(t.param,n):this.map.delete(t.param)}}}),this.cloneFrom=this.updates=null)}}class m8{constructor(){this.map=new Map}set(t,e){return this.map.set(t,e),this}get(t){return this.map.has(t)||this.map.set(t,t.defaultValue()),this.map.get(t)}delete(t){return this.map.delete(t),this}has(t){return this.map.has(t)}keys(){return this.map.keys()}}function LL(i){return typeof ArrayBuffer<"u"&&i instanceof ArrayBuffer}function BL(i){return typeof Blob<"u"&&i instanceof Blob}function VL(i){return typeof FormData<"u"&&i instanceof FormData}class Ny{constructor(t,e,n,r){let o;if(this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function p8(i){switch(i){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||r?(this.body=void 0!==n?n:null,o=r):o=n,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params)),this.headers||(this.headers=new va),this.context||(this.context=new m8),this.params){const d=this.params.toString();if(0===d.length)this.urlWithParams=e;else{const h=e.indexOf("?");this.urlWithParams=e+(-1===h?"?":h<e.length-1?"&":"")+d}}else this.params=new rc,this.urlWithParams=e}serializeBody(){return null===this.body?null:LL(this.body)||BL(this.body)||VL(this.body)||function f8(i){return typeof URLSearchParams<"u"&&i instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof rc?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||VL(this.body)?null:BL(this.body)?this.body.type||null:LL(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof rc?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(t={}){const e=t.method||this.method,n=t.url||this.url,r=t.responseType||this.responseType,o=void 0!==t.body?t.body:this.body,d=void 0!==t.withCredentials?t.withCredentials:this.withCredentials,h=void 0!==t.reportProgress?t.reportProgress:this.reportProgress;let g=t.headers||this.headers,b=t.params||this.params;const x=t.context??this.context;return void 0!==t.setHeaders&&(g=Object.keys(t.setHeaders).reduce((k,T)=>k.set(T,t.setHeaders[T]),g)),t.setParams&&(b=Object.keys(t.setParams).reduce((k,T)=>k.set(T,t.setParams[T]),b)),new Ny(e,n,o,{params:b,headers:g,context:x,reportProgress:h,responseType:r,withCredentials:d})}}var Dr=(()=>((Dr=Dr||{})[Dr.Sent=0]="Sent",Dr[Dr.UploadProgress=1]="UploadProgress",Dr[Dr.ResponseHeader=2]="ResponseHeader",Dr[Dr.DownloadProgress=3]="DownloadProgress",Dr[Dr.Response=4]="Response",Dr[Dr.User=5]="User",Dr))();class NT{constructor(t,e=200,n="OK"){this.headers=t.headers||new va,this.status=void 0!==t.status?t.status:e,this.statusText=t.statusText||n,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}}class LT extends NT{constructor(t={}){super(t),this.type=Dr.ResponseHeader}clone(t={}){return new LT({headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class GD extends NT{constructor(t={}){super(t),this.type=Dr.Response,this.body=void 0!==t.body?t.body:null}clone(t={}){return new GD({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class HL extends NT{constructor(t){super(t,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${t.url||"(unknown url)"}`:`Http failure response for ${t.url||"(unknown url)"}: ${t.status} ${t.statusText}`,this.error=t.error||null}}function BT(i,t){return{body:t,headers:i.headers,context:i.context,observe:i.observe,params:i.params,reportProgress:i.reportProgress,responseType:i.responseType,withCredentials:i.withCredentials}}let $D=(()=>{class i{constructor(e){this.handler=e}request(e,n,r={}){let o;if(e instanceof Ny)o=e;else{let g,b;g=r.headers instanceof va?r.headers:new va(r.headers),r.params&&(b=r.params instanceof rc?r.params:new rc({fromObject:r.params})),o=new Ny(e,n,void 0!==r.body?r.body:null,{headers:g,context:r.context,params:b,reportProgress:r.reportProgress,responseType:r.responseType||"json",withCredentials:r.withCredentials})}const d=it(o).pipe(Na(g=>this.handler.handle(g)));if(e instanceof Ny||"events"===r.observe)return d;const h=d.pipe(sn(g=>g instanceof GD));switch(r.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return h.pipe((0,kt.U)(g=>{if(null!==g.body&&!(g.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return g.body}));case"blob":return h.pipe((0,kt.U)(g=>{if(null!==g.body&&!(g.body instanceof Blob))throw new Error("Response is not a Blob.");return g.body}));case"text":return h.pipe((0,kt.U)(g=>{if(null!==g.body&&"string"!=typeof g.body)throw new Error("Response is not a string.");return g.body}));default:return h.pipe((0,kt.U)(g=>g.body))}case"response":return h;default:throw new Error(`Unreachable: unhandled observe type ${r.observe}}`)}}delete(e,n={}){return this.request("DELETE",e,n)}get(e,n={}){return this.request("GET",e,n)}head(e,n={}){return this.request("HEAD",e,n)}jsonp(e,n){return this.request("JSONP",e,{params:(new rc).append(n,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(e,n={}){return this.request("OPTIONS",e,n)}patch(e,n,r={}){return this.request("PATCH",e,BT(r,n))}post(e,n,r={}){return this.request("POST",e,BT(r,n))}put(e,n,r={}){return this.request("PUT",e,BT(r,n))}}return i.\u0275fac=function(e){return new(e||i)(s.LFG(zD))},i.\u0275prov=s.Yz7({token:i,factory:i.\u0275fac}),i})();function UL(i,t){return t(i)}function g8(i,t){return(e,n)=>t.intercept(e,{handle:r=>i(r,n)})}const v8=new s.OlP("HTTP_INTERCEPTORS"),Ly=new s.OlP("HTTP_INTERCEPTOR_FNS");function b8(){let i=null;return(t,e)=>(null===i&&(i=((0,s.f3M)(v8,{optional:!0})??[]).reduceRight(g8,UL)),i(t,e))}let zL=(()=>{class i extends zD{constructor(e,n){super(),this.backend=e,this.injector=n,this.chain=null}handle(e){if(null===this.chain){const n=Array.from(new Set(this.injector.get(Ly)));this.chain=n.reduceRight((r,o)=>function _8(i,t,e){return(n,r)=>e.runInContext(()=>t(n,o=>i(o,r)))}(r,o,this.injector),UL)}return this.chain(e,n=>this.backend.handle(n))}}return i.\u0275fac=function(e){return new(e||i)(s.LFG(FT),s.LFG(s.lqb))},i.\u0275prov=s.Yz7({token:i,factory:i.\u0275fac}),i})();const C8=/^\)\]\}',?\n/;let GL=(()=>{class i{constructor(e){this.xhrFactory=e}handle(e){if("JSONP"===e.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new vn.y(n=>{const r=this.xhrFactory.build();if(r.open(e.method,e.urlWithParams),e.withCredentials&&(r.withCredentials=!0),e.headers.forEach((F,H)=>r.setRequestHeader(F,H.join(","))),e.headers.has("Accept")||r.setRequestHeader("Accept","application/json, text/plain, */*"),!e.headers.has("Content-Type")){const F=e.detectContentTypeHeader();null!==F&&r.setRequestHeader("Content-Type",F)}if(e.responseType){const F=e.responseType.toLowerCase();r.responseType="json"!==F?F:"text"}const o=e.serializeBody();let d=null;const h=()=>{if(null!==d)return d;const F=r.statusText||"OK",H=new va(r.getAllResponseHeaders()),X=function D8(i){return"responseURL"in i&&i.responseURL?i.responseURL:/^X-Request-URL:/m.test(i.getAllResponseHeaders())?i.getResponseHeader("X-Request-URL"):null}(r)||e.url;return d=new LT({headers:H,status:r.status,statusText:F,url:X}),d},g=()=>{let{headers:F,status:H,statusText:X,url:ne}=h(),je=null;204!==H&&(je=typeof r.response>"u"?r.responseText:r.response),0===H&&(H=je?200:0);let Ct=H>=200&&H<300;if("json"===e.responseType&&"string"==typeof je){const wt=je;je=je.replace(C8,"");try{je=""!==je?JSON.parse(je):null}catch(Rt){je=wt,Ct&&(Ct=!1,je={error:Rt,text:je})}}Ct?(n.next(new GD({body:je,headers:F,status:H,statusText:X,url:ne||void 0})),n.complete()):n.error(new HL({error:je,headers:F,status:H,statusText:X,url:ne||void 0}))},b=F=>{const{url:H}=h(),X=new HL({error:F,status:r.status||0,statusText:r.statusText||"Unknown Error",url:H||void 0});n.error(X)};let x=!1;const k=F=>{x||(n.next(h()),x=!0);let H={type:Dr.DownloadProgress,loaded:F.loaded};F.lengthComputable&&(H.total=F.total),"text"===e.responseType&&r.responseText&&(H.partialText=r.responseText),n.next(H)},T=F=>{let H={type:Dr.UploadProgress,loaded:F.loaded};F.lengthComputable&&(H.total=F.total),n.next(H)};return r.addEventListener("load",g),r.addEventListener("error",b),r.addEventListener("timeout",b),r.addEventListener("abort",b),e.reportProgress&&(r.addEventListener("progress",k),null!==o&&r.upload&&r.upload.addEventListener("progress",T)),r.send(o),n.next({type:Dr.Sent}),()=>{r.removeEventListener("error",b),r.removeEventListener("abort",b),r.removeEventListener("load",g),r.removeEventListener("timeout",b),e.reportProgress&&(r.removeEventListener("progress",k),null!==o&&r.upload&&r.upload.removeEventListener("progress",T)),r.readyState!==r.DONE&&r.abort()}})}}return i.\u0275fac=function(e){return new(e||i)(s.LFG(Xt))},i.\u0275prov=s.Yz7({token:i,factory:i.\u0275fac}),i})();const VT=new s.OlP("XSRF_ENABLED"),$L=new s.OlP("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),YL=new s.OlP("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class qL{}let M8=(()=>{class i{constructor(e,n,r){this.doc=e,this.platform=n,this.cookieName=r,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const e=this.doc.cookie||"";return e!==this.lastCookieString&&(this.parseCount++,this.lastToken=Nn(e,this.cookieName),this.lastCookieString=e),this.lastToken}}return i.\u0275fac=function(e){return new(e||i)(s.LFG(K),s.LFG(s.Lbi),s.LFG($L))},i.\u0275prov=s.Yz7({token:i,factory:i.\u0275fac}),i})();function I8(i,t){const e=i.url.toLowerCase();if(!(0,s.f3M)(VT)||"GET"===i.method||"HEAD"===i.method||e.startsWith("http://")||e.startsWith("https://"))return t(i);const n=(0,s.f3M)(qL).getToken(),r=(0,s.f3M)(YL);return null!=n&&!i.headers.has(r)&&(i=i.clone({headers:i.headers.set(r,n)})),t(i)}var mr=(()=>((mr=mr||{})[mr.Interceptors=0]="Interceptors",mr[mr.LegacyInterceptors=1]="LegacyInterceptors",mr[mr.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",mr[mr.NoXsrfProtection=3]="NoXsrfProtection",mr[mr.JsonpSupport=4]="JsonpSupport",mr[mr.RequestsMadeViaParent=5]="RequestsMadeViaParent",mr))();function i_(i,t){return{\u0275kind:i,\u0275providers:t}}function S8(...i){const t=[$D,GL,zL,{provide:zD,useExisting:zL},{provide:FT,useExisting:GL},{provide:Ly,useValue:I8,multi:!0},{provide:VT,useValue:!0},{provide:qL,useClass:M8}];for(const e of i)t.push(...e.\u0275providers);return(0,s.MR2)(t)}const WL=new s.OlP("LEGACY_INTERCEPTOR_FN");let A8=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=s.oAB({type:i}),i.\u0275inj=s.cJS({providers:[S8(i_(mr.LegacyInterceptors,[{provide:WL,useFactory:b8},{provide:Ly,useExisting:WL,multi:!0}]))]}),i})();const R8=["*"];let YD;function By(i){return function O8(){if(void 0===YD&&(YD=null,typeof window<"u")){const i=window;void 0!==i.trustedTypes&&(YD=i.trustedTypes.createPolicy("angular#components",{createHTML:t=>t}))}return YD}()?.createHTML(i)||i}function ZL(i){return Error(`Unable to find icon with the name "${i}"`)}function KL(i){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${i}".`)}function QL(i){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${i}".`)}class Jm{constructor(t,e,n){this.url=t,this.svgText=e,this.options=n}}let qD=(()=>{class i{constructor(e,n,r,o){this._httpClient=e,this._sanitizer=n,this._errorHandler=o,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass=["material-icons","mat-ligature-font"],this._document=r}addSvgIcon(e,n,r){return this.addSvgIconInNamespace("",e,n,r)}addSvgIconLiteral(e,n,r){return this.addSvgIconLiteralInNamespace("",e,n,r)}addSvgIconInNamespace(e,n,r,o){return this._addSvgIconConfig(e,n,new Jm(r,null,o))}addSvgIconResolver(e){return this._resolvers.push(e),this}addSvgIconLiteralInNamespace(e,n,r,o){const d=this._sanitizer.sanitize(s.q3G.HTML,r);if(!d)throw QL(r);const h=By(d);return this._addSvgIconConfig(e,n,new Jm("",h,o))}addSvgIconSet(e,n){return this.addSvgIconSetInNamespace("",e,n)}addSvgIconSetLiteral(e,n){return this.addSvgIconSetLiteralInNamespace("",e,n)}addSvgIconSetInNamespace(e,n,r){return this._addSvgIconSetConfig(e,new Jm(n,null,r))}addSvgIconSetLiteralInNamespace(e,n,r){const o=this._sanitizer.sanitize(s.q3G.HTML,n);if(!o)throw QL(n);const d=By(o);return this._addSvgIconSetConfig(e,new Jm("",d,r))}registerFontClassAlias(e,n=e){return this._fontCssClassesByAlias.set(e,n),this}classNameForFontAlias(e){return this._fontCssClassesByAlias.get(e)||e}setDefaultFontSetClass(...e){return this._defaultFontSetClass=e,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(e){const n=this._sanitizer.sanitize(s.q3G.RESOURCE_URL,e);if(!n)throw KL(e);const r=this._cachedIconsByUrl.get(n);return r?it(WD(r)):this._loadSvgIconFromConfig(new Jm(e,null)).pipe((0,bn.b)(o=>this._cachedIconsByUrl.set(n,o)),(0,kt.U)(o=>WD(o)))}getNamedSvgIcon(e,n=""){const r=XL(n,e);let o=this._svgIconConfigs.get(r);if(o)return this._getSvgFromConfig(o);if(o=this._getIconConfigFromResolvers(n,e),o)return this._svgIconConfigs.set(r,o),this._getSvgFromConfig(o);const d=this._iconSetConfigs.get(n);return d?this._getSvgFromIconSetConfigs(e,d):Cc(ZL(r))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(e){return e.svgText?it(WD(this._svgElementFromConfig(e))):this._loadSvgIconFromConfig(e).pipe((0,kt.U)(n=>WD(n)))}_getSvgFromIconSetConfigs(e,n){const r=this._extractIconWithNameFromAnySet(e,n);return r?it(r):RF(n.filter(d=>!d.svgText).map(d=>this._loadSvgIconSetFromConfig(d).pipe(es(h=>{const b=`Loading icon set URL: ${this._sanitizer.sanitize(s.q3G.RESOURCE_URL,d.url)} failed: ${h.message}`;return this._errorHandler.handleError(new Error(b)),it(null)})))).pipe((0,kt.U)(()=>{const d=this._extractIconWithNameFromAnySet(e,n);if(!d)throw ZL(e);return d}))}_extractIconWithNameFromAnySet(e,n){for(let r=n.length-1;r>=0;r--){const o=n[r];if(o.svgText&&o.svgText.toString().indexOf(e)>-1){const d=this._svgElementFromConfig(o),h=this._extractSvgIconFromSet(d,e,o.options);if(h)return h}}return null}_loadSvgIconFromConfig(e){return this._fetchIcon(e).pipe((0,bn.b)(n=>e.svgText=n),(0,kt.U)(()=>this._svgElementFromConfig(e)))}_loadSvgIconSetFromConfig(e){return e.svgText?it(null):this._fetchIcon(e).pipe((0,bn.b)(n=>e.svgText=n))}_extractSvgIconFromSet(e,n,r){const o=e.querySelector(`[id="${n}"]`);if(!o)return null;const d=o.cloneNode(!0);if(d.removeAttribute("id"),"svg"===d.nodeName.toLowerCase())return this._setSvgAttributes(d,r);if("symbol"===d.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(d),r);const h=this._svgElementFromString(By("<svg></svg>"));return h.appendChild(d),this._setSvgAttributes(h,r)}_svgElementFromString(e){const n=this._document.createElement("DIV");n.innerHTML=e;const r=n.querySelector("svg");if(!r)throw Error("<svg> tag not found");return r}_toSvgElement(e){const n=this._svgElementFromString(By("<svg></svg>")),r=e.attributes;for(let o=0;o<r.length;o++){const{name:d,value:h}=r[o];"id"!==d&&n.setAttribute(d,h)}for(let o=0;o<e.childNodes.length;o++)e.childNodes[o].nodeType===this._document.ELEMENT_NODE&&n.appendChild(e.childNodes[o].cloneNode(!0));return n}_setSvgAttributes(e,n){return e.setAttribute("fit",""),e.setAttribute("height","100%"),e.setAttribute("width","100%"),e.setAttribute("preserveAspectRatio","xMidYMid meet"),e.setAttribute("focusable","false"),n&&n.viewBox&&e.setAttribute("viewBox",n.viewBox),e}_fetchIcon(e){const{url:n,options:r}=e,o=r?.withCredentials??!1;if(!this._httpClient)throw function P8(){return Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.")}();if(null==n)throw Error(`Cannot fetch icon from URL "${n}".`);const d=this._sanitizer.sanitize(s.q3G.RESOURCE_URL,n);if(!d)throw KL(n);const h=this._inProgressUrlFetches.get(d);if(h)return h;const g=this._httpClient.get(d,{responseType:"text",withCredentials:o}).pipe((0,kt.U)(b=>By(b)),Ec(()=>this._inProgressUrlFetches.delete(d)),(0,FL.B)());return this._inProgressUrlFetches.set(d,g),g}_addSvgIconConfig(e,n,r){return this._svgIconConfigs.set(XL(e,n),r),this}_addSvgIconSetConfig(e,n){const r=this._iconSetConfigs.get(e);return r?r.push(n):this._iconSetConfigs.set(e,[n]),this}_svgElementFromConfig(e){if(!e.svgElement){const n=this._svgElementFromString(e.svgText);this._setSvgAttributes(n,e.options),e.svgElement=n}return e.svgElement}_getIconConfigFromResolvers(e,n){for(let r=0;r<this._resolvers.length;r++){const o=this._resolvers[r](n,e);if(o)return N8(o)?new Jm(o.url,null,o.options):new Jm(o,null)}}}return i.\u0275fac=function(e){return new(e||i)(s.LFG($D,8),s.LFG(yl),s.LFG(K,8),s.LFG(s.qLn))},i.\u0275prov=s.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();function WD(i){return i.cloneNode(!0)}function XL(i,t){return i+":"+t}function N8(i){return!(!i.url||!i.options)}const L8=Wg(class{constructor(i){this._elementRef=i}}),B8=new s.OlP("MAT_ICON_DEFAULT_OPTIONS"),V8=new s.OlP("mat-icon-location",{providedIn:"root",factory:function H8(){const i=(0,s.f3M)(K),t=i?i.location:null;return{getPathname:()=>t?t.pathname+t.search:""}}}),JL=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],U8=JL.map(i=>`[${i}]`).join(", "),z8=/^url\(['"]?#(.*?)['"]?\)$/;let HT=(()=>{class i extends L8{get inline(){return this._inline}set inline(e){this._inline=It(e)}get svgIcon(){return this._svgIcon}set svgIcon(e){e!==this._svgIcon&&(e?this._updateSvgIcon(e):this._svgIcon&&this._clearSvgElement(),this._svgIcon=e)}get fontSet(){return this._fontSet}set fontSet(e){const n=this._cleanupFontValue(e);n!==this._fontSet&&(this._fontSet=n,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(e){const n=this._cleanupFontValue(e);n!==this._fontIcon&&(this._fontIcon=n,this._updateFontIconClasses())}constructor(e,n,r,o,d,h){super(e),this._iconRegistry=n,this._location=o,this._errorHandler=d,this._inline=!1,this._previousFontSetClass=[],this._currentIconFetch=xn.w0.EMPTY,h&&(h.color&&(this.color=this.defaultColor=h.color),h.fontSet&&(this.fontSet=h.fontSet)),r||e.nativeElement.setAttribute("aria-hidden","true")}_splitIconName(e){if(!e)return["",""];const n=e.split(":");switch(n.length){case 1:return["",n[0]];case 2:return n;default:throw Error(`Invalid icon name: "${e}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const e=this._elementsWithExternalReferences;if(e&&e.size){const n=this._location.getPathname();n!==this._previousPath&&(this._previousPath=n,this._prependPathToReferences(n))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(e){this._clearSvgElement();const n=this._location.getPathname();this._previousPath=n,this._cacheChildrenWithExternalReferences(e),this._prependPathToReferences(n),this._elementRef.nativeElement.appendChild(e)}_clearSvgElement(){const e=this._elementRef.nativeElement;let n=e.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();n--;){const r=e.childNodes[n];(1!==r.nodeType||"svg"===r.nodeName.toLowerCase())&&r.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const e=this._elementRef.nativeElement,n=(this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet).split(/ +/):this._iconRegistry.getDefaultFontSetClass()).filter(r=>r.length>0);this._previousFontSetClass.forEach(r=>e.classList.remove(r)),n.forEach(r=>e.classList.add(r)),this._previousFontSetClass=n,this.fontIcon!==this._previousFontIconClass&&!n.includes("mat-ligature-font")&&(this._previousFontIconClass&&e.classList.remove(this._previousFontIconClass),this.fontIcon&&e.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(e){return"string"==typeof e?e.trim().split(" ")[0]:e}_prependPathToReferences(e){const n=this._elementsWithExternalReferences;n&&n.forEach((r,o)=>{r.forEach(d=>{o.setAttribute(d.name,`url('${e}#${d.value}')`)})})}_cacheChildrenWithExternalReferences(e){const n=e.querySelectorAll(U8),r=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let o=0;o<n.length;o++)JL.forEach(d=>{const h=n[o],g=h.getAttribute(d),b=g?g.match(z8):null;if(b){let x=r.get(h);x||(x=[],r.set(h,x)),x.push({name:d,value:b[1]})}})}_updateSvgIcon(e){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),e){const[n,r]=this._splitIconName(e);n&&(this._svgNamespace=n),r&&(this._svgName=r),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(r,n).pipe(Gi(1)).subscribe(o=>this._setSvgElement(o),o=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${n}:${r}! ${o.message}`))})}}}return i.\u0275fac=function(e){return new(e||i)(s.Y36(s.SBq),s.Y36(qD),s.$8M("aria-hidden"),s.Y36(V8),s.Y36(s.qLn),s.Y36(B8,8))},i.\u0275cmp=s.Xpm({type:i,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:8,hostBindings:function(e,n){2&e&&(s.uIk("data-mat-icon-type",n._usingFontIcon()?"font":"svg")("data-mat-icon-name",n._svgName||n.fontIcon)("data-mat-icon-namespace",n._svgNamespace||n.fontSet)("fontIcon",n._usingFontIcon()?n.fontIcon:null),s.ekj("mat-icon-inline",n.inline)("mat-icon-no-color","primary"!==n.color&&"accent"!==n.color&&"warn"!==n.color))},inputs:{color:"color",inline:"inline",svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],features:[s.qOj],ngContentSelectors:R8,decls:1,vars:0,template:function(e,n){1&e&&(s.F$t(),s.Hsn(0))},styles:[".mat-icon{-webkit-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px;overflow:hidden}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}.mat-icon.mat-ligature-font[fontIcon]::before{content:attr(fontIcon)}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}"],encapsulation:2,changeDetection:0}),i})(),e2=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=s.oAB({type:i}),i.\u0275inj=s.cJS({imports:[At,At]}),i})(),b5=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=s.oAB({type:i}),i.\u0275inj=s.cJS({imports:[Am,Ni,At,Hs,CF,RL]}),i})();const C5={provide:new s.OlP("mat-menu-scroll-strategy"),deps:[_a],useFactory:function x5(i){return()=>i.scrollStrategies.reposition()}};let D5=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=s.oAB({type:i}),i.\u0275inj=s.cJS({providers:[C5],imports:[Ni,Hs,At,Mu,pa,At]}),i})();const S5={provide:new s.OlP("mat-select-scroll-strategy"),deps:[_a],useFactory:function I5(i){return()=>i.scrollStrategies.reposition()}};let a2=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=s.oAB({type:i}),i.\u0275inj=s.cJS({providers:[S5],imports:[Ni,Mu,fD,At,pa,wT,fD,At]}),i})();const O5={provide:new s.OlP("mat-tooltip-scroll-strategy"),deps:[_a],useFactory:function R5(i){return()=>i.scrollStrategies.reposition({scrollThrottle:20})}};let c2=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=s.oAB({type:i}),i.\u0275inj=s.cJS({providers:[O5],imports:[Tg,Ni,Mu,At,At,pa]}),i})(),zT=(()=>{class i{constructor(){this.changes=new nt.x,this.itemsPerPageLabel="Items per page:",this.nextPageLabel="Next page",this.previousPageLabel="Previous page",this.firstPageLabel="First page",this.lastPageLabel="Last page",this.getRangeLabel=(e,n,r)=>{if(0==r||0==n)return`0 of ${r}`;const o=e*n;return`${o+1} \u2013 ${o<(r=Math.max(r,0))?Math.min(o+n,r):o+n} of ${r}`}}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=s.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();const V5={provide:zT,deps:[[new s.FiY,new s.tp0,zT]],useFactory:function B5(i){return i||new zT}};let H5=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=s.oAB({type:i}),i.\u0275inj=s.cJS({providers:[V5],imports:[Ni,OD,a2,c2]}),i})(),z5=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=s.oAB({type:i}),i.\u0275inj=s.cJS({imports:[At]}),i})(),$5=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=s.oAB({type:i}),i.\u0275inj=s.cJS({imports:[Ni,At]}),i})(),n$=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=s.oAB({type:i}),i.\u0275inj=s.cJS({imports:[At,Ni,Hs,At]}),i})(),o$=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=s.oAB({type:i}),i.\u0275inj=s.cJS({imports:[Ni,At,pa,pa,At]}),i})(),m2=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=s.oAB({type:i}),i.\u0275inj=s.cJS({}),i})(),g$=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=s.oAB({type:i}),i.\u0275inj=s.cJS({imports:[m2,At,Hs,Ni,m2,At]}),i})(),E$=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=s.oAB({type:i}),i.\u0275inj=s.cJS({imports:[At,Ni,Hs]}),i})(),I$=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=s.oAB({type:i}),i.\u0275inj=s.cJS({imports:[Mu,Zc,Ni,OD,At,At]}),i})(),jT=(()=>{class i{constructor(){this.changes=new nt.x}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=s.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();const A$={provide:jT,deps:[[new s.FiY,new s.tp0,jT]],useFactory:function T$(i){return i||new jT}};let R$=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=s.oAB({type:i}),i.\u0275inj=s.cJS({providers:[A$],imports:[Ni,At]}),i})(),O$=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=s.oAB({type:i}),i.\u0275inj=s.cJS({imports:[Sm]}),i})(),GT=(()=>{class i{constructor(){this.changes=new nt.x,this.optionalLabel="Optional",this.completedLabel="Completed",this.editableLabel="Editable"}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=s.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();const G$={provide:GT,deps:[[new s.FiY,new s.tp0,GT]],useFactory:function j$(i){return i||new GT}};let $$=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=s.oAB({type:i}),i.\u0275inj=s.cJS({providers:[G$,pD],imports:[At,Ni,Zc,O$,e2,Hs,At]}),i})(),cY=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=s.oAB({type:i}),i.\u0275inj=s.cJS({imports:[At,US,At]}),i})(),pY=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=s.oAB({type:i}),i.\u0275inj=s.cJS({imports:[Ni,At,Zc,Hs,Am,Tg,At]}),i})();const fY=["*",[["mat-toolbar-row"]]],gY=["*","mat-toolbar-row"],_Y=Wg(class{constructor(i){this._elementRef=i}});let vY=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275dir=s.lG2({type:i,selectors:[["mat-toolbar-row"]],hostAttrs:[1,"mat-toolbar-row"],exportAs:["matToolbarRow"]}),i})(),bY=(()=>{class i extends _Y{constructor(e,n,r){super(e),this._platform=n,this._document=r}ngAfterViewInit(){this._platform.isBrowser&&(this._checkToolbarMixedModes(),this._toolbarRows.changes.subscribe(()=>this._checkToolbarMixedModes()))}_checkToolbarMixedModes(){}}return i.\u0275fac=function(e){return new(e||i)(s.Y36(s.SBq),s.Y36(An),s.Y36(K))},i.\u0275cmp=s.Xpm({type:i,selectors:[["mat-toolbar"]],contentQueries:function(e,n,r){if(1&e&&s.Suo(r,vY,5),2&e){let o;s.iGM(o=s.CRH())&&(n._toolbarRows=o)}},hostAttrs:[1,"mat-toolbar"],hostVars:4,hostBindings:function(e,n){2&e&&s.ekj("mat-toolbar-multiple-rows",n._toolbarRows.length>0)("mat-toolbar-single-row",0===n._toolbarRows.length)},inputs:{color:"color"},exportAs:["matToolbar"],features:[s.qOj],ngContentSelectors:gY,decls:2,vars:0,template:function(e,n){1&e&&(s.F$t(fY),s.Hsn(0),s.Hsn(1,1))},styles:[".cdk-high-contrast-active .mat-toolbar{outline:solid 1px}.mat-toolbar .mat-mdc-button-base.mat-unthemed{--mdc-text-button-label-text-color: inherit;--mdc-outlined-button-label-text-color: inherit}.mat-toolbar-row,.mat-toolbar-single-row{display:flex;box-sizing:border-box;padding:0 16px;width:100%;flex-direction:row;align-items:center;white-space:nowrap}.mat-toolbar-multiple-rows{display:flex;box-sizing:border-box;flex-direction:column;width:100%}"],encapsulation:2,changeDetection:0}),i})(),yY=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=s.oAB({type:i}),i.\u0275inj=s.cJS({imports:[At,At]}),i})(),IY=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=s.oAB({type:i}),i.\u0275inj=s.cJS({imports:[ii,At,At]}),i})(),SY=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=s.oAB({type:i}),i.\u0275inj=s.cJS({imports:[US,ii,ly,j6,G6,Q6,OD,u4,S4,z4,bG,$$,$G,TL,RL,o8,c8,e2,EG,b5,D5,A3,H5,z5,$5,n$,Hs,a2,o$,E$,g$,I$,R$,cY,pY,yY,c2,IY,Tm]}),i})();const TY=function(i){return{task:i,delete:!0}};function AY(i,t){if(1&i&&(s.TgZ(0,"button",8)(1,"mat-icon"),s._uU(2,"delete"),s.qZA()()),2&i){const e=s.oxw();s.Q6J("mat-dialog-close",s.VKq(1,TY,e.data.task))}}const RY=function(i){return{task:i}};let E2=(()=>{class i{constructor(e,n,r){this.dialogRef=e,this.data=n,this.relaySvc=r,this.backupTask={...this.data.task},this.user=this.relaySvc.currentUser}cancel(){this.data.task.title=this.backupTask.title,this.data.task.description=this.backupTask.description,this.data.task.username=this.backupTask.username,this.dialogRef.close(this.data)}}return i.\u0275fac=function(e){return new(e||i)(s.Y36(UD),s.Y36(OT),s.Y36(Fs))},i.\u0275cmp=s.Xpm({type:i,selectors:[["app-task-dialog"]],decls:19,vars:7,consts:[["matInput","","cdkFocusInitial","",3,"ngModel","ngModelChange"],["matInput","",3,"ngModel","ngModelChange"],["color","primary"],["matInput","","readonly","",3,"ngModel","ngModelChange"],["mat-dialog-actions",""],["mat-button","",3,"mat-dialog-close"],["mat-button","",3,"click"],["mat-fab","","color","primary","aria-label","Delete",3,"mat-dialog-close",4,"ngIf"],["mat-fab","","color","primary","aria-label","Delete",3,"mat-dialog-close"]],template:function(e,n){1&e&&(s.TgZ(0,"mat-card")(1,"mat-form-field")(2,"mat-label"),s._uU(3,"Title"),s.qZA(),s.TgZ(4,"input",0),s.NdJ("ngModelChange",function(o){return n.data.task.title=o}),s.qZA()(),s.TgZ(5,"mat-form-field")(6,"mat-label"),s._uU(7,"Description"),s.qZA(),s.TgZ(8,"textarea",1),s.NdJ("ngModelChange",function(o){return n.data.task.description=o}),s.qZA()(),s.TgZ(9,"mat-form-field",2)(10,"mat-label"),s._uU(11,"Added by:"),s.qZA(),s.TgZ(12,"input",3),s.NdJ("ngModelChange",function(o){return n.data.task.username=o}),s.qZA()(),s.TgZ(13,"div",4)(14,"button",5),s._uU(15,"Save"),s.qZA(),s.TgZ(16,"button",6),s.NdJ("click",function(){return n.cancel()}),s._uU(17,"Cancel"),s.qZA(),s.YNc(18,AY,3,3,"button",7),s.qZA()()),2&e&&(s.xp6(4),s.Q6J("ngModel",n.data.task.title),s.xp6(4),s.Q6J("ngModel",n.data.task.description),s.xp6(4),s.Q6J("ngModel",n.data.task.username),s.xp6(2),s.Q6J("mat-dialog-close",s.VKq(5,RY,n.data.task)),s.xp6(4),s.Q6J("ngIf",n.data.enableDelete))},dependencies:[ir,Py,eL,Qm,IL,SL,HT,LD,AD,Xg,qm,Dy,MD],styles:["mat-card[_ngcontent-%COMP%]{display:flex;align-items:center;height:max-content;padding:20px;margin:1em black solid;background-color:#add8e6}"]}),i})();const OY=function(i){return{mail:i,delete:!0}};function PY(i,t){if(1&i&&(s.TgZ(0,"button",6)(1,"mat-icon"),s._uU(2,"delete"),s.qZA()()),2&i){const e=s.oxw();s.Q6J("mat-dialog-close",s.VKq(1,OY,e.data.mail))}}const FY=function(i){return{mail:i}};let NY=(()=>{class i{constructor(e,n){this.dialogRef=e,this.data=n,this.title="",this.backupTask={...this.data.mail}}cancel(){this.data.mail.email=this.backupTask.email,this.dialogRef.close(this.data)}}return i.\u0275fac=function(e){return new(e||i)(s.Y36(UD),s.Y36(OT))},i.\u0275cmp=s.Xpm({type:i,selectors:[["app-email-dialog"]],decls:13,vars:6,consts:[["appearance","outline"],["matInput","","cdkFocusInitial","",3,"ngModel","ngModelChange"],["mat-dialog-actions",""],["mat-button","",3,"mat-dialog-close"],["mat-button","",3,"click"],["mat-fab","","color","primary","aria-label","Delete",3,"mat-dialog-close",4,"ngIf"],["mat-fab","","color","primary","aria-label","Delete",3,"mat-dialog-close"]],template:function(e,n){1&e&&(s.TgZ(0,"mat-card")(1,"h2"),s._uU(2),s.qZA(),s.TgZ(3,"mat-form-field",0)(4,"mat-label"),s._uU(5,"Recipient"),s.qZA(),s.TgZ(6,"input",1),s.NdJ("ngModelChange",function(o){return n.data.mail.email=o}),s.qZA()(),s.TgZ(7,"div",2)(8,"button",3),s._uU(9,"Send"),s.qZA(),s.TgZ(10,"button",4),s.NdJ("click",function(){return n.cancel()}),s._uU(11,"Cancel"),s.qZA(),s.YNc(12,PY,3,3,"button",5),s.qZA()()),2&e&&(s.xp6(2),s.hij(" ",n.title," "),s.xp6(4),s.Q6J("ngModel",n.data.mail.email),s.xp6(2),s.Q6J("mat-dialog-close",s.VKq(4,FY,n.data.mail)),s.xp6(4),s.Q6J("ngIf",n.data.enableDelete))},dependencies:[ir,Py,eL,Qm,IL,SL,HT,LD,AD,Xg,qm,Dy,MD],styles:["mat-card[_ngcontent-%COMP%]{display:flex;align-items:center;height:max-content;padding:20px;margin:1em black solid;background-color:#f08080}"]}),i})();var Jr=R(2432);function qT(){return(0,Sn.e)((i,t)=>{let e,n=!1;i.subscribe((0,rn.x)(t,r=>{const o=e;e=r,n&&t.next([o,r]),n=!0}))})}var Ft,oc=R(2011),LY=(R(6689),R(3942)),ke=R(5861),ep=R(9681),ZD=R(4859),Au=R(1877),Ui=R(2090),BY=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},sd={},WT=WT||{},di=BY||self;function KD(){}function QD(i){var t=typeof i;return"array"==(t="object"!=t?t:i?Array.isArray(i)?"array":t:"null")||"object"==t&&"number"==typeof i.length}function Vy(i){var t=typeof i;return"object"==t&&null!=i||"function"==t}var ZT="closure_uid_"+(1e9*Math.random()>>>0),HY=0;function UY(i,t,e){return i.call.apply(i.bind,arguments)}function zY(i,t,e){if(!i)throw Error();if(2<arguments.length){var n=Array.prototype.slice.call(arguments,2);return function(){var r=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(r,n),i.apply(t,r)}}return function(){return i.apply(t,arguments)}}function yo(i,t,e){return(yo=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?UY:zY).apply(null,arguments)}function XD(i,t){var e=Array.prototype.slice.call(arguments,1);return function(){var n=e.slice();return n.push.apply(n,arguments),i.apply(this,n)}}function eo(i,t){function e(){}e.prototype=t.prototype,i.X=t.prototype,i.prototype=new e,i.prototype.constructor=i,i.Wb=function(n,r,o){for(var d=Array(arguments.length-2),h=2;h<arguments.length;h++)d[h-2]=arguments[h];return t.prototype[r].apply(n,d)}}function Ru(){this.s=this.s,this.o=this.o}Ru.prototype.s=!1,Ru.prototype.na=function(){!this.s&&(this.s=!0,this.M(),0)&&function VY(i){Object.prototype.hasOwnProperty.call(i,ZT)&&i[ZT]||(i[ZT]=++HY)}(this)},Ru.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const k2=Array.prototype.indexOf?function(i,t){return Array.prototype.indexOf.call(i,t,void 0)}:function(i,t){if("string"==typeof i)return"string"!=typeof t||1!=t.length?-1:i.indexOf(t,0);for(let e=0;e<i.length;e++)if(e in i&&i[e]===t)return e;return-1};function KT(i){const t=i.length;if(0<t){const e=Array(t);for(let n=0;n<t;n++)e[n]=i[n];return e}return[]}function M2(i,t){for(let e=1;e<arguments.length;e++){const n=arguments[e];if(QD(n)){const r=i.length||0,o=n.length||0;i.length=r+o;for(let d=0;d<o;d++)i[r+d]=n[d]}else i.push(n)}}function wo(i,t){this.type=i,this.g=this.target=t,this.defaultPrevented=!1}wo.prototype.h=function(){this.defaultPrevented=!0};var GY=function(){if(!di.addEventListener||!Object.defineProperty)return!1;var i=!1,t=Object.defineProperty({},"passive",{get:function(){i=!0}});try{di.addEventListener("test",KD,t),di.removeEventListener("test",KD,t)}catch{}return i}();function JD(i){return/^[\s\xa0]*$/.test(i)}var I2=String.prototype.trim?function(i){return i.trim()}:function(i){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(i)[1]};function QT(i,t){return i<t?-1:i>t?1:0}function eE(){var i=di.navigator;return i&&(i=i.userAgent)?i:""}function Qc(i){return-1!=eE().indexOf(i)}function XT(i){return XT[" "](i),i}XT[" "]=KD;var tE,i,YY=Qc("Opera"),n_=Qc("Trident")||Qc("MSIE"),S2=Qc("Edge"),JT=S2||n_,T2=Qc("Gecko")&&!(-1!=eE().toLowerCase().indexOf("webkit")&&!Qc("Edge"))&&!(Qc("Trident")||Qc("MSIE"))&&!Qc("Edge"),qY=-1!=eE().toLowerCase().indexOf("webkit")&&!Qc("Edge");function A2(){var i=di.document;return i?i.documentMode:void 0}e:{var eA="",tA=(i=eE(),T2?/rv:([^\);]+)(\)|;)/.exec(i):S2?/Edge\/([\d\.]+)/.exec(i):n_?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(i):qY?/WebKit\/(\S+)/.exec(i):YY?/(?:Version)[ \/]?(\S+)/.exec(i):void 0);if(tA&&(eA=tA?tA[1]:""),n_){var iA=A2();if(null!=iA&&iA>parseFloat(eA)){tE=String(iA);break e}}tE=eA}var WY={};var KY=di.document&&n_&&(A2()||parseInt(tE,10))||void 0;function Hy(i,t){if(wo.call(this,i?i.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,i){var e=this.type=i.type,n=i.changedTouches&&i.changedTouches.length?i.changedTouches[0]:null;if(this.target=i.target||i.srcElement,this.g=t,t=i.relatedTarget){if(T2){e:{try{XT(t.nodeName);var r=!0;break e}catch{}r=!1}r||(t=null)}}else"mouseover"==e?t=i.fromElement:"mouseout"==e&&(t=i.toElement);this.relatedTarget=t,n?(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0):(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0),this.button=i.button,this.key=i.key||"",this.ctrlKey=i.ctrlKey,this.altKey=i.altKey,this.shiftKey=i.shiftKey,this.metaKey=i.metaKey,this.pointerId=i.pointerId||0,this.pointerType="string"==typeof i.pointerType?i.pointerType:QY[i.pointerType]||"",this.state=i.state,this.i=i,i.defaultPrevented&&Hy.X.h.call(this)}}eo(Hy,wo);var QY={2:"touch",3:"pen",4:"mouse"};Hy.prototype.h=function(){Hy.X.h.call(this);var i=this.i;i.preventDefault?i.preventDefault():i.returnValue=!1};var Uy="closure_listenable_"+(1e6*Math.random()|0),XY=0;function JY(i,t,e,n,r){this.listener=i,this.proxy=null,this.src=t,this.type=e,this.capture=!!n,this.ha=r,this.key=++XY,this.ba=this.ea=!1}function iE(i){i.ba=!0,i.listener=null,i.proxy=null,i.src=null,i.ha=null}function rA(i,t,e){for(const n in i)t.call(e,i[n],n,i)}function O2(i){const t={};for(const e in i)t[e]=i[e];return t}const P2="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function F2(i,t){let e,n;for(let r=1;r<arguments.length;r++){for(e in n=arguments[r],n)i[e]=n[e];for(let o=0;o<P2.length;o++)e=P2[o],Object.prototype.hasOwnProperty.call(n,e)&&(i[e]=n[e])}}function nE(i){this.src=i,this.g={},this.h=0}function oA(i,t){var e=t.type;if(e in i.g){var o,n=i.g[e],r=k2(n,t);(o=0<=r)&&Array.prototype.splice.call(n,r,1),o&&(iE(t),0==i.g[e].length&&(delete i.g[e],i.h--))}}function sA(i,t,e,n){for(var r=0;r<i.length;++r){var o=i[r];if(!o.ba&&o.listener==t&&o.capture==!!e&&o.ha==n)return r}return-1}nE.prototype.add=function(i,t,e,n,r){var o=i.toString();(i=this.g[o])||(i=this.g[o]=[],this.h++);var d=sA(i,t,n,r);return-1<d?(t=i[d],e||(t.ea=!1)):((t=new JY(t,this.src,o,!!n,r)).ea=e,i.push(t)),t};var aA="closure_lm_"+(1e6*Math.random()|0),cA={};function N2(i,t,e,n,r){if(n&&n.once)return B2(i,t,e,n,r);if(Array.isArray(t)){for(var o=0;o<t.length;o++)N2(i,t[o],e,n,r);return null}return e=hA(e),i&&i[Uy]?i.N(t,e,Vy(n)?!!n.capture:!!n,r):L2(i,t,e,!1,n,r)}function L2(i,t,e,n,r,o){if(!t)throw Error("Invalid event type");var d=Vy(r)?!!r.capture:!!r,h=dA(i);if(h||(i[aA]=h=new nE(i)),(e=h.add(t,e,n,d,o)).proxy)return e;if(n=function eq(){const t=tq;return function i(e){return t.call(i.src,i.listener,e)}}(),e.proxy=n,n.src=i,n.listener=e,i.addEventListener)GY||(r=d),void 0===r&&(r=!1),i.addEventListener(t.toString(),n,r);else if(i.attachEvent)i.attachEvent(H2(t.toString()),n);else{if(!i.addListener||!i.removeListener)throw Error("addEventListener and attachEvent are unavailable.");i.addListener(n)}return e}function B2(i,t,e,n,r){if(Array.isArray(t)){for(var o=0;o<t.length;o++)B2(i,t[o],e,n,r);return null}return e=hA(e),i&&i[Uy]?i.O(t,e,Vy(n)?!!n.capture:!!n,r):L2(i,t,e,!0,n,r)}function V2(i,t,e,n,r){if(Array.isArray(t))for(var o=0;o<t.length;o++)V2(i,t[o],e,n,r);else n=Vy(n)?!!n.capture:!!n,e=hA(e),i&&i[Uy]?(i=i.i,(t=String(t).toString())in i.g&&-1<(e=sA(o=i.g[t],e,n,r))&&(iE(o[e]),Array.prototype.splice.call(o,e,1),0==o.length&&(delete i.g[t],i.h--))):i&&(i=dA(i))&&(t=i.g[t.toString()],i=-1,t&&(i=sA(t,e,n,r)),(e=-1<i?t[i]:null)&&lA(e))}function lA(i){if("number"!=typeof i&&i&&!i.ba){var t=i.src;if(t&&t[Uy])oA(t.i,i);else{var e=i.type,n=i.proxy;t.removeEventListener?t.removeEventListener(e,n,i.capture):t.detachEvent?t.detachEvent(H2(e),n):t.addListener&&t.removeListener&&t.removeListener(n),(e=dA(t))?(oA(e,i),0==e.h&&(e.src=null,t[aA]=null)):iE(i)}}}function H2(i){return i in cA?cA[i]:cA[i]="on"+i}function tq(i,t){if(i.ba)i=!0;else{t=new Hy(t,this);var e=i.listener,n=i.ha||i.src;i.ea&&lA(i),i=e.call(n,t)}return i}function dA(i){return(i=i[aA])instanceof nE?i:null}var uA="__closure_events_fn_"+(1e9*Math.random()>>>0);function hA(i){return"function"==typeof i?i:(i[uA]||(i[uA]=function(t){return i.handleEvent(t)}),i[uA])}function Vr(){Ru.call(this),this.i=new nE(this),this.P=this,this.I=null}function to(i,t){var e,n=i.I;if(n)for(e=[];n;n=n.I)e.push(n);if(i=i.P,n=t.type||t,"string"==typeof t)t=new wo(t,i);else if(t instanceof wo)t.target=t.target||i;else{var r=t;F2(t=new wo(n,i),r)}if(r=!0,e)for(var o=e.length-1;0<=o;o--){var d=t.g=e[o];r=rE(d,n,!0,t)&&r}if(r=rE(d=t.g=i,n,!0,t)&&r,r=rE(d,n,!1,t)&&r,e)for(o=0;o<e.length;o++)r=rE(d=t.g=e[o],n,!1,t)&&r}function rE(i,t,e,n){if(!(t=i.i.g[String(t)]))return!0;t=t.concat();for(var r=!0,o=0;o<t.length;++o){var d=t[o];if(d&&!d.ba&&d.capture==e){var h=d.listener,g=d.ha||d.src;d.ea&&oA(i.i,d),r=!1!==h.call(g,n)&&r}}return r&&!n.defaultPrevented}eo(Vr,Ru),Vr.prototype[Uy]=!0,Vr.prototype.removeEventListener=function(i,t,e,n){V2(this,i,t,e,n)},Vr.prototype.M=function(){if(Vr.X.M.call(this),this.i){var t,i=this.i;for(t in i.g){for(var e=i.g[t],n=0;n<e.length;n++)iE(e[n]);delete i.g[t],i.h--}}this.I=null},Vr.prototype.N=function(i,t,e,n){return this.i.add(String(i),t,!1,e,n)},Vr.prototype.O=function(i,t,e,n){return this.i.add(String(i),t,!0,e,n)};var mA=di.JSON.stringify;function iq(){var i=j2;let t=null;return i.g&&(t=i.g,i.g=i.g.next,i.g||(i.h=null),t.next=null),t}var pA,U2=new class{constructor(i,t){this.i=i,this.j=t,this.h=0,this.g=null}get(){let i;return 0<this.h?(this.h--,i=this.g,this.g=i.next,i.next=null):i=this.i(),i}}(()=>new rq,i=>i.reset());class rq{constructor(){this.next=this.g=this.h=null}set(t,e){this.h=t,this.g=e,this.next=null}reset(){this.next=this.g=this.h=null}}function oq(i){di.setTimeout(()=>{throw i},0)}function z2(i,t){pA||function sq(){var i=di.Promise.resolve(void 0);pA=function(){i.then(aq)}}(),fA||(pA(),fA=!0),j2.add(i,t)}var fA=!1,j2=new class nq{constructor(){this.h=this.g=null}add(t,e){const n=U2.get();n.set(t,e),this.h?this.h.next=n:this.g=n,this.h=n}};function aq(){for(var i;i=iq();){try{i.h.call(i.g)}catch(e){oq(e)}var t=U2;t.j(i),100>t.h&&(t.h++,i.next=t.g,t.g=i)}fA=!1}function oE(i,t){Vr.call(this),this.h=i||1,this.g=t||di,this.j=yo(this.lb,this),this.l=Date.now()}function gA(i){i.ca=!1,i.R&&(i.g.clearTimeout(i.R),i.R=null)}function _A(i,t,e){if("function"==typeof i)e&&(i=yo(i,e));else{if(!i||"function"!=typeof i.handleEvent)throw Error("Invalid listener argument");i=yo(i.handleEvent,i)}return 2147483647<Number(t)?-1:di.setTimeout(i,t||0)}function G2(i){i.g=_A(()=>{i.g=null,i.i&&(i.i=!1,G2(i))},i.j);const t=i.h;i.h=null,i.m.apply(null,t)}eo(oE,Vr),(Ft=oE.prototype).ca=!1,Ft.R=null,Ft.lb=function(){if(this.ca){var i=Date.now()-this.l;0<i&&i<.8*this.h?this.R=this.g.setTimeout(this.j,this.h-i):(this.R&&(this.g.clearTimeout(this.R),this.R=null),to(this,"tick"),this.ca&&(gA(this),this.start()))}},Ft.start=function(){this.ca=!0,this.R||(this.R=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Ft.M=function(){oE.X.M.call(this),gA(this),delete this.g};class cq extends Ru{constructor(t,e){super(),this.m=t,this.j=e,this.h=null,this.i=!1,this.g=null}l(t){this.h=arguments,this.g?this.i=!0:G2(this)}M(){super.M(),this.g&&(di.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function zy(i){Ru.call(this),this.h=i,this.g={}}eo(zy,Ru);var $2=[];function Y2(i,t,e,n){Array.isArray(e)||(e&&($2[0]=e.toString()),e=$2);for(var r=0;r<e.length;r++){var o=N2(t,e[r],n||i.handleEvent,!1,i.h||i);if(!o)break;i.g[o.key]=o}}function q2(i){rA(i.g,function(t,e){this.g.hasOwnProperty(e)&&lA(t)},i),i.g={}}function sE(){this.g=!0}function r_(i,t,e,n){i.info(function(){return"XMLHTTP TEXT ("+t+"): "+function hq(i,t){if(!i.g)return t;if(!t)return null;try{var e=JSON.parse(t);if(e)for(i=0;i<e.length;i++)if(Array.isArray(e[i])){var n=e[i];if(!(2>n.length)){var r=n[1];if(Array.isArray(r)&&!(1>r.length)){var o=r[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var d=1;d<r.length;d++)r[d]=""}}}return mA(e)}catch{return t}}(i,e)+(n?" "+n:"")})}zy.prototype.M=function(){zy.X.M.call(this),q2(this)},zy.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},sE.prototype.Aa=function(){this.g=!1},sE.prototype.info=function(){};var tp={},W2=null;function aE(){return W2=W2||new Vr}function Z2(i){wo.call(this,tp.Pa,i)}function jy(i){const t=aE();to(t,new Z2(t))}function K2(i,t){wo.call(this,tp.STAT_EVENT,i),this.stat=t}function Yo(i){const t=aE();to(t,new K2(t,i))}function Q2(i,t){wo.call(this,tp.Qa,i),this.size=t}function Gy(i,t){if("function"!=typeof i)throw Error("Fn must not be null and must be a function");return di.setTimeout(function(){i()},t)}tp.Pa="serverreachability",eo(Z2,wo),tp.STAT_EVENT="statevent",eo(K2,wo),tp.Qa="timingevent",eo(Q2,wo);var cE={NO_ERROR:0,mb:1,zb:2,yb:3,tb:4,xb:5,Ab:6,Ma:7,TIMEOUT:8,Db:9},X2={rb:"complete",Nb:"success",Na:"error",Ma:"abort",Fb:"ready",Gb:"readystatechange",TIMEOUT:"timeout",Bb:"incrementaldata",Eb:"progress",ub:"downloadprogress",Vb:"uploadprogress"};function vA(){}function eB(){}vA.prototype.h=null;var wA,$y={OPEN:"a",qb:"b",Na:"c",Cb:"d"};function bA(){wo.call(this,"d")}function yA(){wo.call(this,"c")}function lE(){}function Yy(i,t,e,n){this.l=i,this.j=t,this.m=e,this.U=n||1,this.S=new zy(this),this.O=mq,this.T=new oE(i=JT?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.V=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.Y=-1,this.I=!1,this.N=0,this.L=null,this.$=this.J=this.Z=this.P=!1,this.h=new tB}function tB(){this.i=null,this.g="",this.h=!1}eo(bA,wo),eo(yA,wo),eo(lE,vA),lE.prototype.g=function(){return new XMLHttpRequest},lE.prototype.i=function(){return{}},wA=new lE;var mq=45e3,xA={},dE={};function CA(i,t,e){i.K=1,i.v=pE(ad(t)),i.s=e,i.P=!0,iB(i,null)}function iB(i,t){i.F=Date.now(),qy(i),i.A=ad(i.v);var e=i.A,n=i.U;Array.isArray(n)||(n=[String(n)]),hB(e.i,"t",n),i.C=0,e=i.l.H,i.h=new tB,i.g=NB(i.l,e?t:null,!i.s),0<i.N&&(i.L=new cq(yo(i.La,i,i.g),i.N)),Y2(i.S,i.g,"readystatechange",i.ib),t=i.H?O2(i.H):{},i.s?(i.u||(i.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",i.g.da(i.A,i.u,i.s,t)):(i.u="GET",i.g.da(i.A,i.u,null,t)),jy(),function lq(i,t,e,n,r,o){i.info(function(){if(i.g)if(o)for(var d="",h=o.split("&"),g=0;g<h.length;g++){var b=h[g].split("=");if(1<b.length){var x=b[0];b=b[1];var k=x.split("_");d=2<=k.length&&"type"==k[1]?d+(x+"=")+b+"&":d+(x+"=redacted&")}}else d=null;else d=o;return"XMLHTTP REQ ("+n+") [attempt "+r+"]: "+t+"\n"+e+"\n"+d})}(i.j,i.u,i.A,i.m,i.U,i.s)}function nB(i){return!!i.g&&"GET"==i.u&&2!=i.K&&i.l.Da}function rB(i,t,e){let r,n=!0;for(;!i.I&&i.C<e.length;){if(r=pq(i,e),r==dE){4==t&&(i.o=4,Yo(14),n=!1),r_(i.j,i.m,null,"[Incomplete Response]");break}if(r==xA){i.o=4,Yo(15),r_(i.j,i.m,e,"[Invalid Chunk]"),n=!1;break}r_(i.j,i.m,r,null),DA(i,r)}nB(i)&&r!=dE&&r!=xA&&(i.h.g="",i.C=0),4!=t||0!=e.length||i.h.h||(i.o=1,Yo(16),n=!1),i.i=i.i&&n,n?0<e.length&&!i.$&&(i.$=!0,(t=i.l).g==i&&t.$&&!t.K&&(t.j.info("Great, no buffering proxy detected. Bytes received: "+e.length),RA(t),t.K=!0,Yo(11))):(r_(i.j,i.m,e,"[Invalid Chunked Response]"),ip(i),Wy(i))}function pq(i,t){var e=i.C,n=t.indexOf("\n",e);return-1==n?dE:(e=Number(t.substring(e,n)),isNaN(e)?xA:(n+=1)+e>t.length?dE:(t=t.substr(n,e),i.C=n+e,t))}function qy(i){i.V=Date.now()+i.O,oB(i,i.O)}function oB(i,t){if(null!=i.B)throw Error("WatchDog timer not null");i.B=Gy(yo(i.gb,i),t)}function uE(i){i.B&&(di.clearTimeout(i.B),i.B=null)}function Wy(i){0==i.l.G||i.I||RB(i.l,i)}function ip(i){uE(i);var t=i.L;t&&"function"==typeof t.na&&t.na(),i.L=null,gA(i.T),q2(i.S),i.g&&(t=i.g,i.g=null,t.abort(),t.na())}function DA(i,t){try{var e=i.l;if(0!=e.G&&(e.g==i||EA(e.h,i)))if(!i.J&&EA(e.h,i)&&3==e.G){try{var n=e.Fa.g.parse(t)}catch{n=null}if(Array.isArray(n)&&3==n.length){var r=n;if(0==r[0]){e:if(!e.u){if(e.g){if(!(e.g.F+3e3<i.F))break e;yE(e),vE(e)}AA(e),Yo(18)}}else e.Ba=r[1],0<e.Ba-e.T&&37500>r[2]&&e.L&&0==e.A&&!e.v&&(e.v=Gy(yo(e.cb,e),6e3));if(1>=fB(e.h)&&e.ja){try{e.ja()}catch{}e.ja=void 0}}else rp(e,11)}else if((i.J||e.g==i)&&yE(e),!JD(t))for(r=e.Fa.g.parse(t),t=0;t<r.length;t++){let b=r[t];if(e.T=b[0],b=b[1],2==e.G)if("c"==b[0]){e.I=b[1],e.ka=b[2];const x=b[3];null!=x&&(e.ma=x,e.j.info("VER="+e.ma));const k=b[4];null!=k&&(e.Ca=k,e.j.info("SVER="+e.Ca));const T=b[5];null!=T&&"number"==typeof T&&0<T&&(e.J=n=1.5*T,e.j.info("backChannelRequestTimeoutMs_="+n)),n=e;const F=i.g;if(F){const H=F.g?F.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(H){var o=n.h;o.g||-1==H.indexOf("spdy")&&-1==H.indexOf("quic")&&-1==H.indexOf("h2")||(o.j=o.l,o.g=new Set,o.h&&(kA(o,o.h),o.h=null))}if(n.D){const X=F.g?F.g.getResponseHeader("X-HTTP-Session-Id"):null;X&&(n.za=X,Rn(n.F,n.D,X))}}e.G=3,e.l&&e.l.xa(),e.$&&(e.P=Date.now()-i.F,e.j.info("Handshake RTT: "+e.P+"ms"));var d=i;if((n=e).sa=FB(n,n.H?n.ka:null,n.V),d.J){gB(n.h,d);var h=d,g=n.J;g&&h.setTimeout(g),h.B&&(uE(h),qy(h)),n.g=d}else TB(n);0<e.i.length&&bE(e)}else"stop"!=b[0]&&"close"!=b[0]||rp(e,7);else 3==e.G&&("stop"==b[0]||"close"==b[0]?"stop"==b[0]?rp(e,7):TA(e):"noop"!=b[0]&&e.l&&e.l.wa(b),e.A=0)}jy()}catch{}}function sB(i,t){if(i.forEach&&"function"==typeof i.forEach)i.forEach(t,void 0);else if(QD(i)||"string"==typeof i)Array.prototype.forEach.call(i,t,void 0);else for(var e=function gq(i){if(i.oa&&"function"==typeof i.oa)return i.oa();if(!i.W||"function"!=typeof i.W){if(typeof Map<"u"&&i instanceof Map)return Array.from(i.keys());if(!(typeof Set<"u"&&i instanceof Set)){if(QD(i)||"string"==typeof i){var t=[];i=i.length;for(var e=0;e<i;e++)t.push(e);return t}t=[],e=0;for(const n in i)t[e++]=n;return t}}}(i),n=function fq(i){if(i.W&&"function"==typeof i.W)return i.W();if(typeof Map<"u"&&i instanceof Map||typeof Set<"u"&&i instanceof Set)return Array.from(i.values());if("string"==typeof i)return i.split("");if(QD(i)){for(var t=[],e=i.length,n=0;n<e;n++)t.push(i[n]);return t}for(n in t=[],e=0,i)t[e++]=i[n];return t}(i),r=n.length,o=0;o<r;o++)t.call(void 0,n[o],e&&e[o],i)}(Ft=Yy.prototype).setTimeout=function(i){this.O=i},Ft.ib=function(i){i=i.target;const t=this.L;t&&3==cd(i)?t.l():this.La(i)},Ft.La=function(i){try{if(i==this.g)e:{const x=cd(this.g);var t=this.g.Ea();if(this.g.aa(),!(3>x)&&(3!=x||JT||this.g&&(this.h.h||this.g.fa()||DB(this.g)))){this.I||4!=x||7==t||jy(),uE(this);var e=this.g.aa();this.Y=e;t:if(nB(this)){var n=DB(this.g);i="";var r=n.length,o=4==cd(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){ip(this),Wy(this);var d="";break t}this.h.i=new di.TextDecoder}for(t=0;t<r;t++)this.h.h=!0,i+=this.h.i.decode(n[t],{stream:o&&t==r-1});n.splice(0,r),this.h.g+=i,this.C=0,d=this.h.g}else d=this.g.fa();if(this.i=200==e,function dq(i,t,e,n,r,o,d){i.info(function(){return"XMLHTTP RESP ("+n+") [ attempt "+r+"]: "+t+"\n"+e+"\n"+o+" "+d})}(this.j,this.u,this.A,this.m,this.U,x,e),this.i){if(this.Z&&!this.J){t:{if(this.g){var h,g=this.g;if((h=g.g?g.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!JD(h)){var b=h;break t}}b=null}if(!(e=b)){this.i=!1,this.o=3,Yo(12),ip(this),Wy(this);break e}r_(this.j,this.m,e,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,DA(this,e)}this.P?(rB(this,x,d),JT&&this.i&&3==x&&(Y2(this.S,this.T,"tick",this.hb),this.T.start())):(r_(this.j,this.m,d,null),DA(this,d)),4==x&&ip(this),this.i&&!this.I&&(4==x?RB(this.l,this):(this.i=!1,qy(this)))}else 400==e&&0<d.indexOf("Unknown SID")?(this.o=3,Yo(12)):(this.o=0,Yo(13)),ip(this),Wy(this)}}}catch{}},Ft.hb=function(){if(this.g){var i=cd(this.g),t=this.g.fa();this.C<t.length&&(uE(this),rB(this,i,t),this.i&&4!=i&&qy(this))}},Ft.cancel=function(){this.I=!0,ip(this)},Ft.gb=function(){this.B=null;const i=Date.now();0<=i-this.V?(function uq(i,t){i.info(function(){return"TIMEOUT: "+t})}(this.j,this.A),2!=this.K&&(jy(),Yo(17)),ip(this),this.o=2,Wy(this)):oB(this,this.V-i)};var aB=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function np(i,t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,i instanceof np){this.h=void 0!==t?t:i.h,hE(this,i.j),this.s=i.s,this.g=i.g,mE(this,i.m),this.l=i.l,t=i.i;var e=new Qy;e.i=t.i,t.g&&(e.g=new Map(t.g),e.h=t.h),cB(this,e),this.o=i.o}else i&&(e=String(i).match(aB))?(this.h=!!t,hE(this,e[1]||"",!0),this.s=Zy(e[2]||""),this.g=Zy(e[3]||"",!0),mE(this,e[4]),this.l=Zy(e[5]||"",!0),cB(this,e[6]||"",!0),this.o=Zy(e[7]||"")):(this.h=!!t,this.i=new Qy(null,this.h))}function ad(i){return new np(i)}function hE(i,t,e){i.j=e?Zy(t,!0):t,i.j&&(i.j=i.j.replace(/:$/,""))}function mE(i,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);i.m=t}else i.m=null}function cB(i,t,e){t instanceof Qy?(i.i=t,function Cq(i,t){t&&!i.j&&(Ou(i),i.i=null,i.g.forEach(function(e,n){var r=n.toLowerCase();n!=r&&(dB(this,n),hB(this,r,e))},i)),i.j=t}(i.i,i.h)):(e||(t=Ky(t,wq)),i.i=new Qy(t,i.h))}function Rn(i,t,e){i.i.set(t,e)}function pE(i){return Rn(i,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),i}function Zy(i,t){return i?t?decodeURI(i.replace(/%25/g,"%2525")):decodeURIComponent(i):""}function Ky(i,t,e){return"string"==typeof i?(i=encodeURI(i).replace(t,vq),e&&(i=i.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),i):null}function vq(i){return"%"+((i=i.charCodeAt(0))>>4&15).toString(16)+(15&i).toString(16)}np.prototype.toString=function(){var i=[],t=this.j;t&&i.push(Ky(t,lB,!0),":");var e=this.g;return(e||"file"==t)&&(i.push("//"),(t=this.s)&&i.push(Ky(t,lB,!0),"@"),i.push(encodeURIComponent(String(e)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(e=this.m)&&i.push(":",String(e))),(e=this.l)&&(this.g&&"/"!=e.charAt(0)&&i.push("/"),i.push(Ky(e,"/"==e.charAt(0)?yq:bq,!0))),(e=this.i.toString())&&i.push("?",e),(e=this.o)&&i.push("#",Ky(e,xq)),i.join("")};var lB=/[#\/\?@]/g,bq=/[#\?:]/g,yq=/[#\?]/g,wq=/[#\?@]/g,xq=/#/g;function Qy(i,t){this.h=this.g=null,this.i=i||null,this.j=!!t}function Ou(i){i.g||(i.g=new Map,i.h=0,i.i&&function _q(i,t){if(i){i=i.split("&");for(var e=0;e<i.length;e++){var n=i[e].indexOf("="),r=null;if(0<=n){var o=i[e].substring(0,n);r=i[e].substring(n+1)}else o=i[e];t(o,r?decodeURIComponent(r.replace(/\+/g," ")):"")}}}(i.i,function(t,e){i.add(decodeURIComponent(t.replace(/\+/g," ")),e)}))}function dB(i,t){Ou(i),t=o_(i,t),i.g.has(t)&&(i.i=null,i.h-=i.g.get(t).length,i.g.delete(t))}function uB(i,t){return Ou(i),t=o_(i,t),i.g.has(t)}function hB(i,t,e){dB(i,t),0<e.length&&(i.i=null,i.g.set(o_(i,t),KT(e)),i.h+=e.length)}function o_(i,t){return t=String(t),i.j&&(t=t.toLowerCase()),t}function mB(i){this.l=i||Eq,i=di.PerformanceNavigationTiming?0<(i=di.performance.getEntriesByType("navigation")).length&&("hq"==i[0].nextHopProtocol||"h2"==i[0].nextHopProtocol):!!(di.g&&di.g.Ga&&di.g.Ga()&&di.g.Ga().$b),this.j=i?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(Ft=Qy.prototype).add=function(i,t){Ou(this),this.i=null,i=o_(this,i);var e=this.g.get(i);return e||this.g.set(i,e=[]),e.push(t),this.h+=1,this},Ft.forEach=function(i,t){Ou(this),this.g.forEach(function(e,n){e.forEach(function(r){i.call(t,r,n,this)},this)},this)},Ft.oa=function(){Ou(this);const i=Array.from(this.g.values()),t=Array.from(this.g.keys()),e=[];for(let n=0;n<t.length;n++){const r=i[n];for(let o=0;o<r.length;o++)e.push(t[n])}return e},Ft.W=function(i){Ou(this);let t=[];if("string"==typeof i)uB(this,i)&&(t=t.concat(this.g.get(o_(this,i))));else{i=Array.from(this.g.values());for(let e=0;e<i.length;e++)t=t.concat(i[e])}return t},Ft.set=function(i,t){return Ou(this),this.i=null,uB(this,i=o_(this,i))&&(this.h-=this.g.get(i).length),this.g.set(i,[t]),this.h+=1,this},Ft.get=function(i,t){return i&&0<(i=this.W(i)).length?String(i[0]):t},Ft.toString=function(){if(this.i)return this.i;if(!this.g)return"";const i=[],t=Array.from(this.g.keys());for(var e=0;e<t.length;e++){var n=t[e];const o=encodeURIComponent(String(n)),d=this.W(n);for(n=0;n<d.length;n++){var r=o;""!==d[n]&&(r+="="+encodeURIComponent(String(d[n]))),i.push(r)}}return this.i=i.join("&")};var Eq=10;function pB(i){return!!i.h||!!i.g&&i.g.size>=i.j}function fB(i){return i.h?1:i.g?i.g.size:0}function EA(i,t){return i.h?i.h==t:!!i.g&&i.g.has(t)}function kA(i,t){i.g?i.g.add(t):i.h=t}function gB(i,t){i.h&&i.h==t?i.h=null:i.g&&i.g.has(t)&&i.g.delete(t)}function _B(i){if(null!=i.h)return i.i.concat(i.h.D);if(null!=i.g&&0!==i.g.size){let t=i.i;for(const e of i.g.values())t=t.concat(e.D);return t}return KT(i.i)}function MA(){}function kq(){this.g=new MA}function Mq(i,t,e){const n=e||"";try{sB(i,function(r,o){let d=r;Vy(r)&&(d=mA(r)),t.push(n+o+"="+encodeURIComponent(d))})}catch(r){throw t.push(n+"type="+encodeURIComponent("_badmap")),r}}function fE(i,t,e,n,r){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,r(n)}catch{}}function Xy(i){this.l=i.ac||null,this.j=i.jb||!1}function gE(i,t){Vr.call(this),this.D=i,this.u=t,this.m=void 0,this.readyState=IA,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}mB.prototype.cancel=function(){if(this.i=_B(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const i of this.g.values())i.cancel();this.g.clear()}},MA.prototype.stringify=function(i){return di.JSON.stringify(i,void 0)},MA.prototype.parse=function(i){return di.JSON.parse(i,void 0)},eo(Xy,vA),Xy.prototype.g=function(){return new gE(this.l,this.j)},Xy.prototype.i=function(i){return function(){return i}}({}),eo(gE,Vr);var IA=0;function vB(i){i.j.read().then(i.Ta.bind(i)).catch(i.ga.bind(i))}function Jy(i){i.readyState=4,i.l=null,i.j=null,i.A=null,e0(i)}function e0(i){i.onreadystatechange&&i.onreadystatechange.call(i)}(Ft=gE.prototype).open=function(i,t){if(this.readyState!=IA)throw this.abort(),Error("Error reopening a connection");this.C=i,this.B=t,this.readyState=1,e0(this)},Ft.send=function(i){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};i&&(t.body=i),(this.D||di).fetch(new Request(this.B,t)).then(this.Wa.bind(this),this.ga.bind(this))},Ft.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Jy(this)),this.readyState=IA},Ft.Wa=function(i){if(this.g&&(this.l=i,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=i.headers,this.readyState=2,e0(this)),this.g&&(this.readyState=3,e0(this),this.g)))if("arraybuffer"===this.responseType)i.arrayBuffer().then(this.Ua.bind(this),this.ga.bind(this));else if(typeof di.ReadableStream<"u"&&"body"in i){if(this.j=i.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;vB(this)}else i.text().then(this.Va.bind(this),this.ga.bind(this))},Ft.Ta=function(i){if(this.g){if(this.u&&i.value)this.response.push(i.value);else if(!this.u){var t=i.value?i.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!i.done}))&&(this.response=this.responseText+=t)}i.done?Jy(this):e0(this),3==this.readyState&&vB(this)}},Ft.Va=function(i){this.g&&(this.response=this.responseText=i,Jy(this))},Ft.Ua=function(i){this.g&&(this.response=i,Jy(this))},Ft.ga=function(){this.g&&Jy(this)},Ft.setRequestHeader=function(i,t){this.v.append(i,t)},Ft.getResponseHeader=function(i){return this.h&&this.h.get(i.toLowerCase())||""},Ft.getAllResponseHeaders=function(){if(!this.h)return"";const i=[],t=this.h.entries();for(var e=t.next();!e.done;)i.push((e=e.value)[0]+": "+e[1]),e=t.next();return i.join("\r\n")},Object.defineProperty(gE.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(i){this.m=i?"include":"same-origin"}});var Sq=di.JSON.parse;function Qn(i){Vr.call(this),this.headers=new Map,this.u=i||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=bB,this.K=this.L=!1}eo(Qn,Vr);var bB="",Tq=/^https?$/i,Aq=["POST","PUT"];function yB(i,t){i.h=!1,i.g&&(i.l=!0,i.g.abort(),i.l=!1),i.j=t,i.m=5,wB(i),_E(i)}function wB(i){i.D||(i.D=!0,to(i,"complete"),to(i,"error"))}function xB(i){if(i.h&&typeof WT<"u"&&(!i.C[1]||4!=cd(i)||2!=i.aa()))if(i.v&&4==cd(i))_A(i.Ha,0,i);else if(to(i,"readystatechange"),4==cd(i)){i.h=!1;try{const h=i.aa();e:switch(h){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var e;if(!(e=t)){var n;if(n=0===h){var r=String(i.H).match(aB)[1]||null;if(!r&&di.self&&di.self.location){var o=di.self.location.protocol;r=o.substr(0,o.length-1)}n=!Tq.test(r?r.toLowerCase():"")}e=n}if(e)to(i,"complete"),to(i,"success");else{i.m=6;try{var d=2<cd(i)?i.g.statusText:""}catch{d=""}i.j=d+" ["+i.aa()+"]",wB(i)}}finally{_E(i)}}}function _E(i,t){if(i.g){CB(i);const e=i.g,n=i.C[0]?KD:null;i.g=null,i.C=null,t||to(i,"ready");try{e.onreadystatechange=n}catch{}}}function CB(i){i.g&&i.K&&(i.g.ontimeout=null),i.A&&(di.clearTimeout(i.A),i.A=null)}function cd(i){return i.g?i.g.readyState:0}function DB(i){try{if(!i.g)return null;if("response"in i.g)return i.g.response;switch(i.J){case bB:case"text":return i.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in i.g)return i.g.mozResponseArrayBuffer}return null}catch{return null}}function EB(i){let t="";return rA(i,function(e,n){t+=n,t+=":",t+=e,t+="\r\n"}),t}function SA(i,t,e){e:{for(n in e){var n=!1;break e}n=!0}n||(e=EB(e),"string"==typeof i?null!=e&&encodeURIComponent(String(e)):Rn(i,t,e))}function t0(i,t,e){return e&&e.internalChannelParams&&e.internalChannelParams[i]||t}function kB(i){this.Ca=0,this.i=[],this.j=new sE,this.ka=this.sa=this.F=this.V=this.g=this.za=this.D=this.ia=this.o=this.S=this.s=null,this.ab=this.U=0,this.Za=t0("failFast",!1,i),this.L=this.v=this.u=this.m=this.l=null,this.Y=!0,this.pa=this.Ba=this.T=-1,this.Z=this.A=this.C=0,this.Xa=t0("baseRetryDelayMs",5e3,i),this.bb=t0("retryDelaySeedMs",1e4,i),this.$a=t0("forwardChannelMaxRetries",2,i),this.ta=t0("forwardChannelRequestTimeoutMs",2e4,i),this.ra=i&&i.xmlHttpFactory||void 0,this.Da=i&&i.Zb||!1,this.J=void 0,this.H=i&&i.supportsCrossDomainXhr||!1,this.I="",this.h=new mB(i&&i.concurrentRequestLimit),this.Fa=new kq,this.O=i&&i.fastHandshake||!1,this.N=i&&i.encodeInitMessageHeaders||!1,this.O&&this.N&&(this.N=!1),this.Ya=i&&i.Xb||!1,i&&i.Aa&&this.j.Aa(),i&&i.forceLongPolling&&(this.Y=!1),this.$=!this.O&&this.Y&&i&&i.detectBufferingProxy||!1,this.ja=void 0,this.P=0,this.K=!1,this.la=this.B=null}function TA(i){if(MB(i),3==i.G){var t=i.U++,e=ad(i.F);Rn(e,"SID",i.I),Rn(e,"RID",t),Rn(e,"TYPE","terminate"),n0(i,e),(t=new Yy(i,i.j,t,void 0)).K=2,t.v=pE(ad(e)),e=!1,di.navigator&&di.navigator.sendBeacon&&(e=di.navigator.sendBeacon(t.v.toString(),"")),!e&&di.Image&&((new Image).src=t.v,e=!0),e||(t.g=NB(t.l,null),t.g.da(t.v)),t.F=Date.now(),qy(t)}PB(i)}function vE(i){i.g&&(RA(i),i.g.cancel(),i.g=null)}function MB(i){vE(i),i.u&&(di.clearTimeout(i.u),i.u=null),yE(i),i.h.cancel(),i.m&&("number"==typeof i.m&&di.clearTimeout(i.m),i.m=null)}function bE(i){pB(i.h)||i.m||(i.m=!0,z2(i.Ja,i),i.C=0)}function IB(i,t){var e;e=t?t.m:i.U++;const n=ad(i.F);Rn(n,"SID",i.I),Rn(n,"RID",e),Rn(n,"AID",i.T),n0(i,n),i.o&&i.s&&SA(n,i.o,i.s),e=new Yy(i,i.j,e,i.C+1),null===i.o&&(e.H=i.s),t&&(i.i=t.D.concat(i.i)),t=SB(i,e,1e3),e.setTimeout(Math.round(.5*i.ta)+Math.round(.5*i.ta*Math.random())),kA(i.h,e),CA(e,n,t)}function n0(i,t){i.ia&&rA(i.ia,function(e,n){Rn(t,n,e)}),i.l&&sB({},function(e,n){Rn(t,n,e)})}function SB(i,t,e){e=Math.min(i.i.length,e);var n=i.l?yo(i.l.Ra,i.l,i):null;e:{var r=i.i;let o=-1;for(;;){const d=["count="+e];-1==o?0<e?(o=r[0].h,d.push("ofs="+o)):o=0:d.push("ofs="+o);let h=!0;for(let g=0;g<e;g++){let b=r[g].h;const x=r[g].g;if(b-=o,0>b)o=Math.max(0,r[g].h-100),h=!1;else try{Mq(x,d,"req"+b+"_")}catch{n&&n(x)}}if(h){n=d.join("&");break e}}}return i=i.i.splice(0,e),t.D=i,n}function TB(i){i.g||i.u||(i.Z=1,z2(i.Ia,i),i.A=0)}function AA(i){return!(i.g||i.u||3<=i.A||(i.Z++,i.u=Gy(yo(i.Ia,i),OB(i,i.A)),i.A++,0))}function RA(i){null!=i.B&&(di.clearTimeout(i.B),i.B=null)}function AB(i){i.g=new Yy(i,i.j,"rpc",i.Z),null===i.o&&(i.g.H=i.s),i.g.N=0;var t=ad(i.sa);Rn(t,"RID","rpc"),Rn(t,"SID",i.I),Rn(t,"CI",i.L?"0":"1"),Rn(t,"AID",i.T),Rn(t,"TYPE","xmlhttp"),n0(i,t),i.o&&i.s&&SA(t,i.o,i.s),i.J&&i.g.setTimeout(i.J);var e=i.g;i=i.ka,e.K=1,e.v=pE(ad(t)),e.s=null,e.P=!0,iB(e,i)}function yE(i){null!=i.v&&(di.clearTimeout(i.v),i.v=null)}function RB(i,t){var e=null;if(i.g==t){yE(i),RA(i),i.g=null;var n=2}else{if(!EA(i.h,t))return;e=t.D,gB(i.h,t),n=1}if(0!=i.G)if(i.pa=t.Y,t.i)if(1==n){e=t.s?t.s.length:0,t=Date.now()-t.F;var r=i.C;to(n=aE(),new Q2(n,e)),bE(i)}else TB(i);else if(3==(r=t.o)||0==r&&0<i.pa||!(1==n&&function Oq(i,t){return!(fB(i.h)>=i.h.j-(i.m?1:0)||(i.m?(i.i=t.D.concat(i.i),0):1==i.G||2==i.G||i.C>=(i.Za?0:i.$a)||(i.m=Gy(yo(i.Ja,i,t),OB(i,i.C)),i.C++,0)))}(i,t)||2==n&&AA(i)))switch(e&&0<e.length&&(t=i.h,t.i=t.i.concat(e)),r){case 1:rp(i,5);break;case 4:rp(i,10);break;case 3:rp(i,6);break;default:rp(i,2)}}function OB(i,t){let e=i.Xa+Math.floor(Math.random()*i.bb);return i.l||(e*=2),e*t}function rp(i,t){if(i.j.info("Error code "+t),2==t){var e=null;i.l&&(e=null);var n=yo(i.kb,i);e||(e=new np("//www.google.com/images/cleardot.gif"),di.location&&"http"==di.location.protocol||hE(e,"https"),pE(e)),function Iq(i,t){const e=new sE;if(di.Image){const n=new Image;n.onload=XD(fE,e,n,"TestLoadImage: loaded",!0,t),n.onerror=XD(fE,e,n,"TestLoadImage: error",!1,t),n.onabort=XD(fE,e,n,"TestLoadImage: abort",!1,t),n.ontimeout=XD(fE,e,n,"TestLoadImage: timeout",!1,t),di.setTimeout(function(){n.ontimeout&&n.ontimeout()},1e4),n.src=i}else t(!1)}(e.toString(),n)}else Yo(2);i.G=0,i.l&&i.l.va(t),PB(i),MB(i)}function PB(i){if(i.G=0,i.la=[],i.l){const t=_B(i.h);(0!=t.length||0!=i.i.length)&&(M2(i.la,t),M2(i.la,i.i),i.h.i.length=0,KT(i.i),i.i.length=0),i.l.ua()}}function FB(i,t,e){var n=e instanceof np?ad(e):new np(e,void 0);if(""!=n.g)t&&(n.g=t+"."+n.g),mE(n,n.m);else{var r=di.location;n=r.protocol,t=t?t+"."+r.hostname:r.hostname,r=+r.port;var o=new np(null,void 0);n&&hE(o,n),t&&(o.g=t),r&&mE(o,r),e&&(o.l=e),n=o}return t=i.za,(e=i.D)&&t&&Rn(n,e,t),Rn(n,"VER",i.ma),n0(i,n),n}function NB(i,t,e){if(t&&!i.H)throw Error("Can't create secondary domain capable XhrIo object.");return(t=new Qn(e&&i.Da&&!i.ra?new Xy({jb:!0}):i.ra)).Ka(i.H),t}function LB(){}function wE(){if(n_&&!(10<=Number(KY)))throw Error("Environmental error: no available transport.")}function Us(i,t){Vr.call(this),this.g=new kB(t),this.l=i,this.h=t&&t.messageUrlParams||null,i=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(i?i["X-Client-Protocol"]="webchannel":i={"X-Client-Protocol":"webchannel"}),this.g.s=i,i=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(i?i["X-WebChannel-Content-Type"]=t.messageContentType:i={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(i?i["X-WebChannel-Client-Profile"]=t.ya:i={"X-WebChannel-Client-Profile":t.ya}),this.g.S=i,(i=t&&t.Yb)&&!JD(i)&&(this.g.o=i),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!JD(t)&&(this.g.D=t,null!==(i=this.h)&&t in i&&t in(i=this.h)&&delete i[t]),this.j=new s_(this)}function BB(i){bA.call(this);var t=i.__sm__;if(t){e:{for(const e in t){i=e;break e}i=void 0}(this.i=i)&&(i=this.i,t=null!==t&&i in t?t[i]:void 0),this.data=t}else this.data=i}function VB(){yA.call(this),this.status=1}function s_(i){this.g=i}(Ft=Qn.prototype).Ka=function(i){this.L=i},Ft.da=function(i,t,e,n){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+i);t=t?t.toUpperCase():"GET",this.H=i,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():wA.g(),this.C=function J2(i){return i.h||(i.h=i.i())}(this.u?this.u:wA),this.g.onreadystatechange=yo(this.Ha,this);try{this.F=!0,this.g.open(t,String(i),!0),this.F=!1}catch(o){return void yB(this,o)}if(i=e||"",e=new Map(this.headers),n)if(Object.getPrototypeOf(n)===Object.prototype)for(var r in n)e.set(r,n[r]);else{if("function"!=typeof n.keys||"function"!=typeof n.get)throw Error("Unknown input type for opt_headers: "+String(n));for(const o of n.keys())e.set(o,n.get(o))}n=Array.from(e.keys()).find(o=>"content-type"==o.toLowerCase()),r=di.FormData&&i instanceof di.FormData,!(0<=k2(Aq,t))||n||r||e.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[o,d]of e)this.g.setRequestHeader(o,d);this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{CB(this),0<this.B&&((this.K=function Rq(i){return n_&&function ZY(){return function $Y(i){var t=WY;return Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=i(9)}(function(){let i=0;const t=I2(String(tE)).split("."),e=I2("9").split("."),n=Math.max(t.length,e.length);for(let d=0;0==i&&d<n;d++){var r=t[d]||"",o=e[d]||"";do{if(r=/(\d*)(\D*)(.*)/.exec(r)||["","","",""],o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],0==r[0].length&&0==o[0].length)break;i=QT(0==r[1].length?0:parseInt(r[1],10),0==o[1].length?0:parseInt(o[1],10))||QT(0==r[2].length,0==o[2].length)||QT(r[2],o[2]),r=r[3],o=o[3]}while(0==i)}return 0<=i})}()&&"number"==typeof i.timeout&&void 0!==i.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=yo(this.qa,this)):this.A=_A(this.qa,this.B,this)),this.v=!0,this.g.send(i),this.v=!1}catch(o){yB(this,o)}},Ft.qa=function(){typeof WT<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,to(this,"timeout"),this.abort(8))},Ft.abort=function(i){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=i||7,to(this,"complete"),to(this,"abort"),_E(this))},Ft.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),_E(this,!0)),Qn.X.M.call(this)},Ft.Ha=function(){this.s||(this.F||this.v||this.l?xB(this):this.fb())},Ft.fb=function(){xB(this)},Ft.aa=function(){try{return 2<cd(this)?this.g.status:-1}catch{return-1}},Ft.fa=function(){try{return this.g?this.g.responseText:""}catch{return""}},Ft.Sa=function(i){if(this.g){var t=this.g.responseText;return i&&0==t.indexOf(i)&&(t=t.substring(i.length)),Sq(t)}},Ft.Ea=function(){return this.m},Ft.Oa=function(){return"string"==typeof this.j?this.j:String(this.j)},(Ft=kB.prototype).ma=8,Ft.G=1,Ft.Ja=function(i){if(this.m)if(this.m=null,1==this.G){if(!i){this.U=Math.floor(1e5*Math.random()),i=this.U++;const r=new Yy(this,this.j,i,void 0);let o=this.s;if(this.S&&(o?(o=O2(o),F2(o,this.S)):o=this.S),null!==this.o||this.N||(r.H=o,o=null),this.O)e:{for(var t=0,e=0;e<this.i.length;e++){var n=this.i[e];if(void 0===(n="__data__"in n.g&&"string"==typeof(n=n.g.__data__)?n.length:void 0))break;if(4096<(t+=n)){t=e;break e}if(4096===t||e===this.i.length-1){t=e+1;break e}}t=1e3}else t=1e3;t=SB(this,r,t),Rn(e=ad(this.F),"RID",i),Rn(e,"CVER",22),this.D&&Rn(e,"X-HTTP-Session-Id",this.D),n0(this,e),o&&(this.N?t="headers="+encodeURIComponent(String(EB(o)))+"&"+t:this.o&&SA(e,this.o,o)),kA(this.h,r),this.Ya&&Rn(e,"TYPE","init"),this.O?(Rn(e,"$req",t),Rn(e,"SID","null"),r.Z=!0,CA(r,e,null)):CA(r,e,t),this.G=2}}else 3==this.G&&(i?IB(this,i):0==this.i.length||pB(this.h)||IB(this))},Ft.Ia=function(){if(this.u=null,AB(this),this.$&&!(this.K||null==this.g||0>=this.P)){var i=2*this.P;this.j.info("BP detection timer enabled: "+i),this.B=Gy(yo(this.eb,this),i)}},Ft.eb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.L=!1,this.K=!0,Yo(10),vE(this),AB(this))},Ft.cb=function(){null!=this.v&&(this.v=null,vE(this),AA(this),Yo(19))},Ft.kb=function(i){i?(this.j.info("Successfully pinged google.com"),Yo(2)):(this.j.info("Failed to ping google.com"),Yo(1))},(Ft=LB.prototype).xa=function(){},Ft.wa=function(){},Ft.va=function(){},Ft.ua=function(){},Ft.Ra=function(){},wE.prototype.g=function(i,t){return new Us(i,t)},eo(Us,Vr),Us.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.H=!0);var i=this.g,t=this.l,e=this.h||void 0;Yo(0),i.V=t,i.ia=e||{},i.L=i.Y,i.F=FB(i,null,i.V),bE(i)},Us.prototype.close=function(){TA(this.g)},Us.prototype.u=function(i){var t=this.g;if("string"==typeof i){var e={};e.__data__=i,i=e}else this.v&&((e={}).__data__=mA(i),i=e);t.i.push(new class{constructor(i,t){this.h=i,this.g=t}}(t.ab++,i)),3==t.G&&bE(t)},Us.prototype.M=function(){this.g.l=null,delete this.j,TA(this.g),delete this.g,Us.X.M.call(this)},eo(BB,bA),eo(VB,yA),eo(s_,LB),s_.prototype.xa=function(){to(this.g,"a")},s_.prototype.wa=function(i){to(this.g,new BB(i))},s_.prototype.va=function(i){to(this.g,new VB)},s_.prototype.ua=function(){to(this.g,"b")},wE.prototype.createWebChannel=wE.prototype.g,Us.prototype.send=Us.prototype.u,Us.prototype.open=Us.prototype.m,Us.prototype.close=Us.prototype.close,cE.NO_ERROR=0,cE.TIMEOUT=8,cE.HTTP_ERROR=6,X2.COMPLETE="complete",eB.EventType=$y,$y.OPEN="a",$y.CLOSE="b",$y.ERROR="c",$y.MESSAGE="d",Vr.prototype.listen=Vr.prototype.N,Qn.prototype.listenOnce=Qn.prototype.O,Qn.prototype.getLastError=Qn.prototype.Oa,Qn.prototype.getLastErrorCode=Qn.prototype.Ea,Qn.prototype.getStatus=Qn.prototype.aa,Qn.prototype.getResponseJson=Qn.prototype.Sa,Qn.prototype.getResponseText=Qn.prototype.fa,Qn.prototype.send=Qn.prototype.da,Qn.prototype.setWithCredentials=Qn.prototype.Ka;var Pq=sd.createWebChannelTransport=function(){return new wE},Fq=sd.getStatEventTarget=function(){return aE()},OA=sd.ErrorCode=cE,Nq=sd.EventType=X2,Lq=sd.Event=tp,HB=sd.Stat={sb:0,vb:1,wb:2,Pb:3,Ub:4,Rb:5,Sb:6,Qb:7,Ob:8,Tb:9,PROXY:10,NOPROXY:11,Mb:12,Ib:13,Jb:14,Hb:15,Kb:16,Lb:17,ob:18,nb:19,pb:20},Bq=sd.FetchXmlHttpFactory=Xy,xE=sd.WebChannel=eB,Vq=sd.XhrIo=Qn;const UB="@firebase/firestore";class Hr{constructor(t){this.uid=t}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Hr.UNAUTHENTICATED=new Hr(null),Hr.GOOGLE_CREDENTIALS=new Hr("google-credentials-uid"),Hr.FIRST_PARTY=new Hr("first-party-uid"),Hr.MOCK_USER=new Hr("mock-user");let a_="9.20.0";const Pu=new Au.Yd("@firebase/firestore");function PA(){return Pu.logLevel}function ze(i,...t){if(Pu.logLevel<=Au.in.DEBUG){const e=t.map(FA);Pu.debug(`Firestore (${a_}): ${i}`,...e)}}function pr(i,...t){if(Pu.logLevel<=Au.in.ERROR){const e=t.map(FA);Pu.error(`Firestore (${a_}): ${i}`,...e)}}function Xc(i,...t){if(Pu.logLevel<=Au.in.WARN){const e=t.map(FA);Pu.warn(`Firestore (${a_}): ${i}`,...e)}}function FA(i){if("string"==typeof i)return i;try{return JSON.stringify(i)}catch{return i}}function St(i="Unexpected state"){const t=`FIRESTORE (${a_}) INTERNAL ASSERTION FAILED: `+i;throw pr(t),new Error(t)}function Lt(i,t){i||St()}function mt(i,t){return i}const pe={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Pe extends Ui.ZR{constructor(t,e){super(t,e),this.code=t,this.message=e,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Or{constructor(){this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}}class zB{constructor(t,e){this.user=e,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class zq{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,e){t.enqueueRetryable(()=>e(Hr.UNAUTHENTICATED))}shutdown(){}}class jq{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,e){this.changeListener=e,t.enqueueRetryable(()=>e(this.token.user))}shutdown(){this.changeListener=null}}class Gq{constructor(t){this.t=t,this.currentUser=Hr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,e){var n=this;let r=this.i;const o=b=>this.i!==r?(r=this.i,e(b)):Promise.resolve();let d=new Or;this.o=()=>{this.i++,this.currentUser=this.u(),d.resolve(),d=new Or,t.enqueueRetryable(()=>o(this.currentUser))};const h=()=>{const b=d;t.enqueueRetryable((0,ke.Z)(function*(){yield b.promise,yield o(n.currentUser)}))},g=b=>{ze("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=b,this.auth.addAuthTokenListener(this.o),h()};this.t.onInit(b=>g(b)),setTimeout(()=>{if(!this.auth){const b=this.t.getImmediate({optional:!0});b?g(b):(ze("FirebaseAuthCredentialsProvider","Auth not yet detected"),d.resolve(),d=new Or)}},0),h()}getToken(){const t=this.i,e=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(e).then(n=>this.i!==t?(ze("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):n?(Lt("string"==typeof n.accessToken),new zB(n.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const t=this.auth&&this.auth.getUid();return Lt(null===t||"string"==typeof t),new Hr(t)}}class $q{constructor(t,e,n){this.h=t,this.l=e,this.m=n,this.type="FirstParty",this.user=Hr.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const t=this.p();return t&&this.g.set("Authorization",t),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class Yq{constructor(t,e,n){this.h=t,this.l=e,this.m=n}getToken(){return Promise.resolve(new $q(this.h,this.l,this.m))}start(t,e){t.enqueueRetryable(()=>e(Hr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class jB{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class qq{constructor(t){this.I=t,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(t,e){const n=o=>{null!=o.error&&ze("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const d=o.token!==this.T;return this.T=o.token,ze("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?e(o.token):Promise.resolve()};this.o=o=>{t.enqueueRetryable(()=>n(o))};const r=o=>{ze("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.appCheck.addTokenListener(this.o)};this.I.onInit(o=>r(o)),setTimeout(()=>{if(!this.appCheck){const o=this.I.getImmediate({optional:!0});o?r(o):ze("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(e=>e?(Lt("string"==typeof e.token),this.T=e.token,new jB(e.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function Wq(i){const t=typeof self<"u"&&(self.crypto||self.msCrypto),e=new Uint8Array(i);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(e);else for(let n=0;n<i;n++)e[n]=Math.floor(256*Math.random());return e}class GB{static A(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=Math.floor(256/t.length)*t.length;let n="";for(;n.length<20;){const r=Wq(40);for(let o=0;o<r.length;++o)n.length<20&&r[o]<e&&(n+=t.charAt(r[o]%t.length))}return n}}function ui(i,t){return i<t?-1:i>t?1:0}function c_(i,t,e){return i.length===t.length&&i.every((n,r)=>e(n,t[r]))}function $B(i){return i+"\0"}class On{constructor(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new Pe(pe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new Pe(pe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new Pe(pe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Pe(pe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}static now(){return On.fromMillis(Date.now())}static fromDate(t){return On.fromMillis(t.getTime())}static fromMillis(t){const e=Math.floor(t/1e3),n=Math.floor(1e6*(t-1e3*e));return new On(e,n)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(t){return this.seconds===t.seconds?ui(this.nanoseconds,t.nanoseconds):ui(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Ut{constructor(t){this.timestamp=t}static fromTimestamp(t){return new Ut(t)}static min(){return new Ut(new On(0,0))}static max(){return new Ut(new On(253402300799,999999999))}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class r0{constructor(t,e,n){void 0===e?e=0:e>t.length&&St(),void 0===n?n=t.length-e:n>t.length-e&&St(),this.segments=t,this.offset=e,this.len=n}get length(){return this.len}isEqual(t){return 0===r0.comparator(this,t)}child(t){const e=this.segments.slice(this.offset,this.limit());return t instanceof r0?t.forEach(n=>{e.push(n)}):e.push(t),this.construct(e)}limit(){return this.offset+this.length}popFirst(t){return this.construct(this.segments,this.offset+(t=void 0===t?1:t),this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return 0===this.length}isPrefixOf(t){if(t.length<this.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}forEach(t){for(let e=this.offset,n=this.limit();e<n;e++)t(this.segments[e])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const o=t.get(r),d=e.get(r);if(o<d)return-1;if(o>d)return 1}return t.length<e.length?-1:t.length>e.length?1:0}}class Ai extends r0{construct(t,e,n){return new Ai(t,e,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...t){const e=[];for(const n of t){if(n.indexOf("//")>=0)throw new Pe(pe.INVALID_ARGUMENT,`Invalid segment (${n}). Paths must not contain // in them.`);e.push(...n.split("/").filter(r=>r.length>0))}return new Ai(e)}static emptyPath(){return new Ai([])}}const Zq=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Xn extends r0{construct(t,e,n){return new Xn(t,e,n)}static isValidIdentifier(t){return Zq.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Xn.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Xn(["__name__"])}static fromServerFormat(t){const e=[];let n="",r=0;const o=()=>{if(0===n.length)throw new Pe(pe.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);e.push(n),n=""};let d=!1;for(;r<t.length;){const h=t[r];if("\\"===h){if(r+1===t.length)throw new Pe(pe.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const g=t[r+1];if("\\"!==g&&"."!==g&&"`"!==g)throw new Pe(pe.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);n+=g,r+=2}else"`"===h?(d=!d,r++):"."!==h||d?(n+=h,r++):(o(),r++)}if(o(),d)throw new Pe(pe.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Xn(e)}static emptyPath(){return new Xn([])}}class dt{constructor(t){this.path=t}static fromPath(t){return new dt(Ai.fromString(t))}static fromName(t){return new dt(Ai.fromString(t).popFirst(5))}static empty(){return new dt(Ai.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return null!==t&&0===Ai.comparator(this.path,t.path)}toString(){return this.path.toString()}static comparator(t,e){return Ai.comparator(t.path,e.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new dt(new Ai(t.slice()))}}class CE{constructor(t,e,n,r){this.indexId=t,this.collectionGroup=e,this.fields=n,this.indexState=r}}function NA(i){return i.fields.find(t=>2===t.kind)}function op(i){return i.fields.filter(t=>2!==t.kind)}CE.UNKNOWN_ID=-1;class DE{constructor(t,e){this.fieldPath=t,this.kind=e}}class o0{constructor(t,e){this.sequenceNumber=t,this.offset=e}static empty(){return new o0(0,zs.min())}}function YB(i,t){const e=i.toTimestamp().seconds,n=i.toTimestamp().nanoseconds+1,r=Ut.fromTimestamp(1e9===n?new On(e+1,0):new On(e,n));return new zs(r,dt.empty(),t)}function qB(i){return new zs(i.readTime,i.key,-1)}class zs{constructor(t,e,n){this.readTime=t,this.documentKey=e,this.largestBatchId=n}static min(){return new zs(Ut.min(),dt.empty(),-1)}static max(){return new zs(Ut.max(),dt.empty(),-1)}}function LA(i,t){let e=i.readTime.compareTo(t.readTime);return 0!==e?e:(e=dt.comparator(i.documentKey,t.documentKey),0!==e?e:ui(i.largestBatchId,t.largestBatchId))}const WB="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class ZB{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}function Fu(i){return BA.apply(this,arguments)}function BA(){return BA=(0,ke.Z)(function*(i){if(i.code!==pe.FAILED_PRECONDITION||i.message!==WB)throw i;ze("LocalStore","Unexpectedly lost primary lease")}),BA.apply(this,arguments)}class de{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)},e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)})}catch(t){return this.next(void 0,t)}next(t,e){return this.callbackAttached&&St(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(e,this.error):this.wrapSuccess(t,this.result):new de((n,r)=>{this.nextCallback=o=>{this.wrapSuccess(t,o).next(n,r)},this.catchCallback=o=>{this.wrapFailure(e,o).next(n,r)}})}toPromise(){return new Promise((t,e)=>{this.next(t,e)})}wrapUserFunction(t){try{const e=t();return e instanceof de?e:de.resolve(e)}catch(e){return de.reject(e)}}wrapSuccess(t,e){return t?this.wrapUserFunction(()=>t(e)):de.resolve(e)}wrapFailure(t,e){return t?this.wrapUserFunction(()=>t(e)):de.reject(e)}static resolve(t){return new de((e,n)=>{e(t)})}static reject(t){return new de((e,n)=>{n(t)})}static waitFor(t){return new de((e,n)=>{let r=0,o=0,d=!1;t.forEach(h=>{++r,h.next(()=>{++o,d&&o===r&&e()},g=>n(g))}),d=!0,o===r&&e()})}static or(t){let e=de.resolve(!1);for(const n of t)e=e.next(r=>r?de.resolve(r):n());return e}static forEach(t,e){const n=[];return t.forEach((r,o)=>{n.push(e.call(this,r,o))}),this.waitFor(n)}static mapArray(t,e){return new de((n,r)=>{const o=t.length,d=new Array(o);let h=0;for(let g=0;g<o;g++){const b=g;e(t[b]).next(x=>{d[b]=x,++h,h===o&&n(d)},x=>r(x))}})}static doWhile(t,e){return new de((n,r)=>{const o=()=>{!0===t()?e().next(()=>{o()},r):n()};o()})}}class EE{constructor(t,e){this.action=t,this.transaction=e,this.aborted=!1,this.R=new Or,this.transaction.oncomplete=()=>{this.R.resolve()},this.transaction.onabort=()=>{e.error?this.R.reject(new s0(t,e.error)):this.R.resolve()},this.transaction.onerror=n=>{const r=VA(n.target.error);this.R.reject(new s0(t,r))}}static open(t,e,n,r){try{return new EE(e,t.transaction(r,n))}catch(o){throw new s0(e,o)}}get v(){return this.R.promise}abort(t){t&&this.R.reject(t),this.aborted||(ze("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}P(){const t=this.transaction;this.aborted||"function"!=typeof t.commit||t.commit()}store(t){const e=this.transaction.objectStore(t);return new Jq(e)}}class sc{constructor(t,e,n){this.name=t,this.version=e,this.V=n,12.2===sc.S((0,Ui.z$)())&&pr("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(t){return ze("SimpleDb","Removing database:",t),sp(window.indexedDB.deleteDatabase(t)).toPromise()}static D(){if(!(0,Ui.hl)())return!1;if(sc.C())return!0;const t=(0,Ui.z$)(),e=sc.S(t),n=0<e&&e<10,r=sc.N(t),o=0<r&&r<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||n||o)}static C(){var t;return typeof process<"u"&&"YES"===(null===(t=process.env)||void 0===t?void 0:t.k)}static O(t,e){return t.store(e)}static S(t){const e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(n)}static N(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}$(t){var e=this;return(0,ke.Z)(function*(){return e.db||(ze("SimpleDb","Opening database:",e.name),e.db=yield new Promise((n,r)=>{const o=indexedDB.open(e.name,e.version);o.onsuccess=d=>{n(d.target.result)},o.onblocked=()=>{r(new s0(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},o.onerror=d=>{const h=d.target.error;r("VersionError"===h.name?new Pe(pe.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===h.name?new Pe(pe.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+h):new s0(t,h))},o.onupgradeneeded=d=>{ze("SimpleDb",'Database "'+e.name+'" requires upgrade from version:',d.oldVersion),e.V.M(d.target.result,o.transaction,d.oldVersion,e.version).next(()=>{ze("SimpleDb","Database upgrade to version "+e.version+" complete")})}})),e.F&&(e.db.onversionchange=n=>e.F(n)),e.db})()}B(t){this.F=t,this.db&&(this.db.onversionchange=e=>t(e))}runTransaction(t,e,n,r){var o=this;return(0,ke.Z)(function*(){const d="readonly"===e;let h=0;for(;;){++h;try{o.db=yield o.$(t);const g=EE.open(o.db,t,d?"readonly":"readwrite",n),b=r(g).next(x=>(g.P(),x)).catch(x=>(g.abort(x),de.reject(x))).toPromise();return b.catch(()=>{}),yield g.v,b}catch(g){const b=g,x="FirebaseError"!==b.name&&h<3;if(ze("SimpleDb","Transaction failed with error:",b.message,"Retrying:",x),o.close(),!x)return Promise.reject(b)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class Xq{constructor(t){this.L=t,this.q=!1,this.U=null}get isDone(){return this.q}get K(){return this.U}set cursor(t){this.L=t}done(){this.q=!0}G(t){this.U=t}delete(){return sp(this.L.delete())}}class s0 extends Pe{constructor(t,e){super(pe.UNAVAILABLE,`IndexedDB transaction '${t}' failed: ${e}`),this.name="IndexedDbTransactionError"}}function Nu(i){return"IndexedDbTransactionError"===i.name}class Jq{constructor(t){this.store=t}put(t,e){let n;return void 0!==e?(ze("SimpleDb","PUT",this.store.name,t,e),n=this.store.put(e,t)):(ze("SimpleDb","PUT",this.store.name,"<auto-key>",t),n=this.store.put(t)),sp(n)}add(t){return ze("SimpleDb","ADD",this.store.name,t,t),sp(this.store.add(t))}get(t){return sp(this.store.get(t)).next(e=>(void 0===e&&(e=null),ze("SimpleDb","GET",this.store.name,t,e),e))}delete(t){return ze("SimpleDb","DELETE",this.store.name,t),sp(this.store.delete(t))}count(){return ze("SimpleDb","COUNT",this.store.name),sp(this.store.count())}j(t,e){const n=this.options(t,e);if(n.index||"function"!=typeof this.store.getAll){const r=this.cursor(n),o=[];return this.W(r,(d,h)=>{o.push(h)}).next(()=>o)}{const r=this.store.getAll(n.range);return new de((o,d)=>{r.onerror=h=>{d(h.target.error)},r.onsuccess=h=>{o(h.target.result)}})}}H(t,e){const n=this.store.getAll(t,null===e?void 0:e);return new de((r,o)=>{n.onerror=d=>{o(d.target.error)},n.onsuccess=d=>{r(d.target.result)}})}J(t,e){ze("SimpleDb","DELETE ALL",this.store.name);const n=this.options(t,e);n.Y=!1;const r=this.cursor(n);return this.W(r,(o,d,h)=>h.delete())}Z(t,e){let n;e?n=t:(n={},e=t);const r=this.cursor(n);return this.W(r,e)}X(t){const e=this.cursor({});return new de((n,r)=>{e.onerror=o=>{const d=VA(o.target.error);r(d)},e.onsuccess=o=>{const d=o.target.result;d?t(d.primaryKey,d.value).next(h=>{h?d.continue():n()}):n()}})}W(t,e){const n=[];return new de((r,o)=>{t.onerror=d=>{o(d.target.error)},t.onsuccess=d=>{const h=d.target.result;if(!h)return void r();const g=new Xq(h),b=e(h.primaryKey,h.value,g);if(b instanceof de){const x=b.catch(k=>(g.done(),de.reject(k)));n.push(x)}g.isDone?r():null===g.K?h.continue():h.continue(g.K)}}).next(()=>de.waitFor(n))}options(t,e){let n;return void 0!==t&&("string"==typeof t?n=t:e=t),{index:n,range:e}}cursor(t){let e="next";if(t.reverse&&(e="prev"),t.index){const n=this.store.index(t.index);return t.Y?n.openKeyCursor(t.range,e):n.openCursor(t.range,e)}return this.store.openCursor(t.range,e)}}function sp(i){return new de((t,e)=>{i.onsuccess=n=>{t(n.target.result)},i.onerror=n=>{const r=VA(n.target.error);e(r)}})}let KB=!1;function VA(i){const t=sc.S((0,Ui.z$)());if(t>=12.2&&t<13){const e="An internal error was encountered in the Indexed Database server";if(i.message.indexOf(e)>=0){const n=new Pe("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${e}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return KB||(KB=!0,setTimeout(()=>{throw n},0)),n}}return i}class eW{constructor(t,e){this.asyncQueue=t,this.tt=e,this.task=null}start(){this.et(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}et(t){var e=this;ze("IndexBackiller",`Scheduled in ${t}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",t,(0,ke.Z)(function*(){e.task=null;try{ze("IndexBackiller",`Documents written: ${yield e.tt.nt()}`)}catch(n){Nu(n)?ze("IndexBackiller","Ignoring IndexedDB error during index backfill: ",n):yield Fu(n)}yield e.et(6e4)}))}}class tW{constructor(t,e){this.localStore=t,this.persistence=e}nt(t=50){var e=this;return(0,ke.Z)(function*(){return e.persistence.runTransaction("Backfill Indexes","readwrite-primary",n=>e.st(n,t))})()}st(t,e){const n=new Set;let r=e,o=!0;return de.doWhile(()=>!0===o&&r>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(t).next(d=>{if(null!==d&&!n.has(d))return ze("IndexBackiller",`Processing collection: ${d}`),this.it(t,d,r).next(h=>{r-=h,n.add(d)});o=!1})).next(()=>e-r)}it(t,e,n){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(t,e).next(r=>this.localStore.localDocuments.getNextDocuments(t,e,r,n).next(o=>{const d=o.changes;return this.localStore.indexManager.updateIndexEntries(t,d).next(()=>this.rt(r,o)).next(h=>(ze("IndexBackiller",`Updating offset: ${h}`),this.localStore.indexManager.updateCollectionGroup(t,e,h))).next(()=>d.size)}))}rt(t,e){let n=t;return e.changes.forEach((r,o)=>{const d=qB(o);LA(d,n)>0&&(n=d)}),new zs(n.readTime,n.documentKey,Math.max(e.batchId,t.largestBatchId))}}let js=(()=>{class i{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ot(r),this.ut=r=>n.writeSequenceNumber(r))}ot(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ut&&this.ut(e),e}}return i.ct=-1,i})();function a0(i){return null==i}function c0(i){return 0===i&&1/i==-1/0}function QB(i){return"number"==typeof i&&Number.isInteger(i)&&!c0(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}function qo(i){let t="";for(let e=0;e<i.length;e++)t.length>0&&(t=XB(t)),t=iW(i.get(e),t);return XB(t)}function iW(i,t){let e=t;const n=i.length;for(let r=0;r<n;r++){const o=i.charAt(r);switch(o){case"\0":e+="\x01\x10";break;case"\x01":e+="\x01\x11";break;default:e+=o}}return e}function XB(i){return i+"\x01\x01"}function Jc(i){const t=i.length;if(Lt(t>=2),2===t)return Lt("\x01"===i.charAt(0)&&"\x01"===i.charAt(1)),Ai.emptyPath();const e=t-2,n=[];let r="";for(let o=0;o<t;){const d=i.indexOf("\x01",o);switch((d<0||d>e)&&St(),i.charAt(d+1)){case"\x01":const h=i.substring(o,d);let g;0===r.length?g=h:(r+=h,g=r,r=""),n.push(g);break;case"\x10":r+=i.substring(o,d),r+="\0";break;case"\x11":r+=i.substring(o,d+1);break;default:St()}o=d+2}return new Ai(n)}const JB=["userId","batchId"];function kE(i,t){return[i,qo(t)]}function eV(i,t,e){return[i,qo(t),e]}const nW={},rW=["prefixPath","collectionGroup","readTime","documentId"],oW=["prefixPath","collectionGroup","documentId"],sW=["collectionGroup","readTime","prefixPath","documentId"],aW=["canonicalId","targetId"],cW=["targetId","path"],lW=["path","targetId"],dW=["collectionId","parent"],uW=["indexId","uid"],hW=["uid","sequenceNumber"],mW=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],pW=["indexId","uid","orderedDocumentKey"],fW=["userId","collectionPath","documentId"],gW=["userId","collectionPath","largestBatchId"],_W=["userId","collectionGroup","largestBatchId"],tV=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],vW=[...tV,"documentOverlays"],iV=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],nV=iV,bW=[...nV,"indexConfiguration","indexState","indexEntries"];class HA extends ZB{constructor(t,e){super(),this.at=t,this.currentSequenceNumber=e}}function Ur(i,t){const e=mt(i);return sc.O(e.at,t)}function rV(i){let t=0;for(const e in i)Object.prototype.hasOwnProperty.call(i,e)&&t++;return t}function ap(i,t){for(const e in i)Object.prototype.hasOwnProperty.call(i,e)&&t(e,i[e])}function oV(i){for(const t in i)if(Object.prototype.hasOwnProperty.call(i,t))return!1;return!0}class Jn{constructor(t,e){this.comparator=t,this.root=e||io.EMPTY}insert(t,e){return new Jn(this.comparator,this.root.insert(t,e,this.comparator).copy(null,null,io.BLACK,null,null))}remove(t){return new Jn(this.comparator,this.root.remove(t,this.comparator).copy(null,null,io.BLACK,null,null))}get(t){let e=this.root;for(;!e.isEmpty();){const n=this.comparator(t,e.key);if(0===n)return e.value;n<0?e=e.left:n>0&&(e=e.right)}return null}indexOf(t){let e=0,n=this.root;for(;!n.isEmpty();){const r=this.comparator(t,n.key);if(0===r)return e+n.left.size;r<0?n=n.left:(e+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((e,n)=>(t(e,n),!1))}toString(){const t=[];return this.inorderTraversal((e,n)=>(t.push(`${e}:${n}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new ME(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new ME(this.root,t,this.comparator,!1)}getReverseIterator(){return new ME(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new ME(this.root,t,this.comparator,!0)}}class ME{constructor(t,e,n,r){this.isReverse=r,this.nodeStack=[];let o=1;for(;!t.isEmpty();)if(o=e?n(t.key,e):1,e&&r&&(o*=-1),o<0)t=this.isReverse?t.left:t.right;else{if(0===o){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class io{constructor(t,e,n,r,o){this.key=t,this.value=e,this.color=n??io.RED,this.left=r??io.EMPTY,this.right=o??io.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,e,n,r,o){return new io(t??this.key,e??this.value,n??this.color,r??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,e,n){let r=this;const o=n(t,r.key);return r=o<0?r.copy(null,null,null,r.left.insert(t,e,n),null):0===o?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.insert(t,e,n)),r.fixUp()}removeMin(){if(this.left.isEmpty())return io.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,e){let n,r=this;if(e(t,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(t,e),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===e(t,r.key)){if(r.right.isEmpty())return io.EMPTY;n=r.right.min(),r=r.copy(n.key,n.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(t,e))}return r.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,io.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,io.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw St();const t=this.left.check();if(t!==this.right.check())throw St();return t+(this.isRed()?0:1)}}io.EMPTY=null,io.RED=!0,io.BLACK=!1,io.EMPTY=new class{constructor(){this.size=0}get key(){throw St()}get value(){throw St()}get color(){throw St()}get left(){throw St()}get right(){throw St()}copy(i,t,e,n,r){return this}insert(i,t,e){return new io(i,t)}remove(i,t){return this}isEmpty(){return!0}inorderTraversal(i){return!1}reverseTraversal(i){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class cn{constructor(t){this.comparator=t,this.data=new Jn(this.comparator)}has(t){return null!==this.data.get(t)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((e,n)=>(t(e),!1))}forEachInRange(t,e){const n=this.data.getIteratorFrom(t[0]);for(;n.hasNext();){const r=n.getNext();if(this.comparator(r.key,t[1])>=0)return;e(r.key)}}forEachWhile(t,e){let n;for(n=void 0!==e?this.data.getIteratorFrom(e):this.data.getIterator();n.hasNext();)if(!t(n.getNext().key))return}firstAfterOrEqual(t){const e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null}getIterator(){return new sV(this.data.getIterator())}getIteratorFrom(t){return new sV(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let e=this;return e.size<t.size&&(e=t,t=this),t.forEach(n=>{e=e.add(n)}),e}isEqual(t){if(!(t instanceof cn)||this.size!==t.size)return!1;const e=this.data.getIterator(),n=t.data.getIterator();for(;e.hasNext();){const r=e.getNext().key,o=n.getNext().key;if(0!==this.comparator(r,o))return!1}return!0}toArray(){const t=[];return this.forEach(e=>{t.push(e)}),t}toString(){const t=[];return this.forEach(e=>t.push(e)),"SortedSet("+t.toString()+")"}copy(t){const e=new cn(this.comparator);return e.data=t,e}}class sV{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function l_(i){return i.hasNext()?i.getNext():void 0}class ps{constructor(t){this.fields=t,t.sort(Xn.comparator)}static empty(){return new ps([])}unionWith(t){let e=new cn(Xn.comparator);for(const n of this.fields)e=e.add(n);for(const n of t)e=e.add(n);return new ps(e.toArray())}covers(t){for(const e of this.fields)if(e.isPrefixOf(t))return!0;return!1}isEqual(t){return c_(this.fields,t.fields,(e,n)=>e.isEqual(n))}}class yW extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Pr{constructor(t){this.binaryString=t}static fromBase64String(t){const e=function(n){try{return atob(n)}catch(r){throw typeof DOMException<"u"&&r instanceof DOMException?new yW("Invalid base64 string: "+r):r}}(t);return new Pr(e)}static fromUint8Array(t){const e=function(n){let r="";for(let o=0;o<n.length;++o)r+=String.fromCharCode(n[o]);return r}(t);return new Pr(e)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(t){const e=new Uint8Array(t.length);for(let n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return ui(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Pr.EMPTY_BYTE_STRING=new Pr("");const xW=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Lu(i){if(Lt(!!i),"string"==typeof i){let t=0;const e=xW.exec(i);if(Lt(!!e),e[1]){let r=e[1];r=(r+"000000000").substr(0,9),t=Number(r)}const n=new Date(i);return{seconds:Math.floor(n.getTime()/1e3),nanos:t}}return{seconds:er(i.seconds),nanos:er(i.nanos)}}function er(i){return"number"==typeof i?i:"string"==typeof i?Number(i):0}function cp(i){return"string"==typeof i?Pr.fromBase64String(i):Pr.fromUint8Array(i)}function UA(i){var t,e;return"server_timestamp"===(null===(e=((null===(t=i?.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===e?void 0:e.stringValue)}function aV(i){const t=i.mapValue.fields.__previous_value__;return UA(t)?aV(t):t}function l0(i){const t=Lu(i.mapValue.fields.__local_write_time__.timestampValue);return new On(t.seconds,t.nanos)}class CW{constructor(t,e,n,r,o,d,h,g){this.databaseId=t,this.appId=e,this.persistenceKey=n,this.host=r,this.ssl=o,this.forceLongPolling=d,this.autoDetectLongPolling=h,this.useFetchStreams=g}}class Bu{constructor(t,e){this.projectId=t,this.database=e||"(default)"}static empty(){return new Bu("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(t){return t instanceof Bu&&t.projectId===this.projectId&&t.database===this.database}}const Vu={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},IE={nullValue:"NULL_VALUE"};function lp(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?UA(i)?4:uV(i)?9007199254740991:10:St()}function el(i,t){if(i===t)return!0;const e=lp(i);if(e!==lp(t))return!1;switch(e){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===t.booleanValue;case 4:return l0(i).isEqual(l0(t));case 3:return function(n,r){if("string"==typeof n.timestampValue&&"string"==typeof r.timestampValue&&n.timestampValue.length===r.timestampValue.length)return n.timestampValue===r.timestampValue;const o=Lu(n.timestampValue),d=Lu(r.timestampValue);return o.seconds===d.seconds&&o.nanos===d.nanos}(i,t);case 5:return i.stringValue===t.stringValue;case 6:return r=t,cp(i.bytesValue).isEqual(cp(r.bytesValue));case 7:return i.referenceValue===t.referenceValue;case 8:return function(n,r){return er(n.geoPointValue.latitude)===er(r.geoPointValue.latitude)&&er(n.geoPointValue.longitude)===er(r.geoPointValue.longitude)}(i,t);case 2:return function(n,r){if("integerValue"in n&&"integerValue"in r)return er(n.integerValue)===er(r.integerValue);if("doubleValue"in n&&"doubleValue"in r){const o=er(n.doubleValue),d=er(r.doubleValue);return o===d?c0(o)===c0(d):isNaN(o)&&isNaN(d)}return!1}(i,t);case 9:return c_(i.arrayValue.values||[],t.arrayValue.values||[],el);case 10:return function(n,r){const o=n.mapValue.fields||{},d=r.mapValue.fields||{};if(rV(o)!==rV(d))return!1;for(const h in o)if(o.hasOwnProperty(h)&&(void 0===d[h]||!el(o[h],d[h])))return!1;return!0}(i,t);default:return St()}var r}function d0(i,t){return void 0!==(i.values||[]).find(e=>el(e,t))}function Hu(i,t){if(i===t)return 0;const e=lp(i),n=lp(t);if(e!==n)return ui(e,n);switch(e){case 0:case 9007199254740991:return 0;case 1:return ui(i.booleanValue,t.booleanValue);case 2:return function(r,o){const d=er(r.integerValue||r.doubleValue),h=er(o.integerValue||o.doubleValue);return d<h?-1:d>h?1:d===h?0:isNaN(d)?isNaN(h)?0:-1:1}(i,t);case 3:return cV(i.timestampValue,t.timestampValue);case 4:return cV(l0(i),l0(t));case 5:return ui(i.stringValue,t.stringValue);case 6:return function(r,o){const d=cp(r),h=cp(o);return d.compareTo(h)}(i.bytesValue,t.bytesValue);case 7:return function(r,o){const d=r.split("/"),h=o.split("/");for(let g=0;g<d.length&&g<h.length;g++){const b=ui(d[g],h[g]);if(0!==b)return b}return ui(d.length,h.length)}(i.referenceValue,t.referenceValue);case 8:return function(r,o){const d=ui(er(r.latitude),er(o.latitude));return 0!==d?d:ui(er(r.longitude),er(o.longitude))}(i.geoPointValue,t.geoPointValue);case 9:return function(r,o){const d=r.values||[],h=o.values||[];for(let g=0;g<d.length&&g<h.length;++g){const b=Hu(d[g],h[g]);if(b)return b}return ui(d.length,h.length)}(i.arrayValue,t.arrayValue);case 10:return function(r,o){if(r===Vu.mapValue&&o===Vu.mapValue)return 0;if(r===Vu.mapValue)return 1;if(o===Vu.mapValue)return-1;const d=r.fields||{},h=Object.keys(d),g=o.fields||{},b=Object.keys(g);h.sort(),b.sort();for(let x=0;x<h.length&&x<b.length;++x){const k=ui(h[x],b[x]);if(0!==k)return k;const T=Hu(d[h[x]],g[b[x]]);if(0!==T)return T}return ui(h.length,b.length)}(i.mapValue,t.mapValue);default:throw St()}}function cV(i,t){if("string"==typeof i&&"string"==typeof t&&i.length===t.length)return ui(i,t);const e=Lu(i),n=Lu(t),r=ui(e.seconds,n.seconds);return 0!==r?r:ui(e.nanos,n.nanos)}function d_(i){return zA(i)}function zA(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?function(n){const r=Lu(n);return`time(${r.seconds},${r.nanos})`}(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?cp(i.bytesValue).toBase64():"referenceValue"in i?dt.fromName(i.referenceValue).toString():"geoPointValue"in i?`geo(${(t=i.geoPointValue).latitude},${t.longitude})`:"arrayValue"in i?function(n){let r="[",o=!0;for(const d of n.values||[])o?o=!1:r+=",",r+=zA(d);return r+"]"}(i.arrayValue):"mapValue"in i?function(n){const r=Object.keys(n.fields||{}).sort();let o="{",d=!0;for(const h of r)d?d=!1:o+=",",o+=`${h}:${zA(n.fields[h])}`;return o+"}"}(i.mapValue):St();var t}function dp(i,t){return{referenceValue:`projects/${i.projectId}/databases/${i.database}/documents/${t.path.canonicalString()}`}}function jA(i){return!!i&&"integerValue"in i}function u0(i){return!!i&&"arrayValue"in i}function lV(i){return!!i&&"nullValue"in i}function dV(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function SE(i){return!!i&&"mapValue"in i}function h0(i){if(i.geoPointValue)return{geoPointValue:Object.assign({},i.geoPointValue)};if(i.timestampValue&&"object"==typeof i.timestampValue)return{timestampValue:Object.assign({},i.timestampValue)};if(i.mapValue){const t={mapValue:{fields:{}}};return ap(i.mapValue.fields,(e,n)=>t.mapValue.fields[e]=h0(n)),t}if(i.arrayValue){const t={arrayValue:{values:[]}};for(let e=0;e<(i.arrayValue.values||[]).length;++e)t.arrayValue.values[e]=h0(i.arrayValue.values[e]);return t}return Object.assign({},i)}function uV(i){return"__max__"===(((i.mapValue||{}).fields||{}).__type__||{}).stringValue}function DW(i){return"nullValue"in i?IE:"booleanValue"in i?{booleanValue:!1}:"integerValue"in i||"doubleValue"in i?{doubleValue:NaN}:"timestampValue"in i?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in i?{stringValue:""}:"bytesValue"in i?{bytesValue:""}:"referenceValue"in i?dp(Bu.empty(),dt.empty()):"geoPointValue"in i?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in i?{arrayValue:{}}:"mapValue"in i?{mapValue:{}}:St()}function EW(i){return"nullValue"in i?{booleanValue:!1}:"booleanValue"in i?{doubleValue:NaN}:"integerValue"in i||"doubleValue"in i?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in i?{stringValue:""}:"stringValue"in i?{bytesValue:""}:"bytesValue"in i?dp(Bu.empty(),dt.empty()):"referenceValue"in i?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in i?{arrayValue:{}}:"arrayValue"in i?{mapValue:{}}:"mapValue"in i?Vu:St()}function hV(i,t){const e=Hu(i.value,t.value);return 0!==e?e:i.inclusive&&!t.inclusive?-1:!i.inclusive&&t.inclusive?1:0}function mV(i,t){const e=Hu(i.value,t.value);return 0!==e?e:i.inclusive&&!t.inclusive?1:!i.inclusive&&t.inclusive?-1:0}class zr{constructor(t){this.value=t}static empty(){return new zr({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let e=this.value;for(let n=0;n<t.length-1;++n)if(e=(e.mapValue.fields||{})[t.get(n)],!SE(e))return null;return e=(e.mapValue.fields||{})[t.lastSegment()],e||null}}set(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=h0(e)}setAll(t){let e=Xn.emptyPath(),n={},r=[];t.forEach((d,h)=>{if(!e.isImmediateParentOf(h)){const g=this.getFieldsMap(e);this.applyChanges(g,n,r),n={},r=[],e=h.popLast()}d?n[h.lastSegment()]=h0(d):r.push(h.lastSegment())});const o=this.getFieldsMap(e);this.applyChanges(o,n,r)}delete(t){const e=this.field(t.popLast());SE(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]}isEqual(t){return el(this.value,t.value)}getFieldsMap(t){let e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(let n=0;n<t.length;++n){let r=e.mapValue.fields[t.get(n)];SE(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},e.mapValue.fields[t.get(n)]=r),e=r}return e.mapValue.fields}applyChanges(t,e,n){ap(e,(r,o)=>t[r]=o);for(const r of n)delete t[r]}clone(){return new zr(h0(this.value))}}function pV(i){const t=[];return ap(i.fields,(e,n)=>{const r=new Xn([e]);if(SE(n)){const o=pV(n.mapValue).fields;if(0===o.length)t.push(r);else for(const d of o)t.push(r.child(d))}else t.push(r)}),new ps(t)}class Cn{constructor(t,e,n,r,o,d,h){this.key=t,this.documentType=e,this.version=n,this.readTime=r,this.createTime=o,this.data=d,this.documentState=h}static newInvalidDocument(t){return new Cn(t,0,Ut.min(),Ut.min(),Ut.min(),zr.empty(),0)}static newFoundDocument(t,e,n,r){return new Cn(t,1,e,Ut.min(),n,r,0)}static newNoDocument(t,e){return new Cn(t,2,e,Ut.min(),Ut.min(),zr.empty(),0)}static newUnknownDocument(t,e){return new Cn(t,3,e,Ut.min(),Ut.min(),zr.empty(),2)}convertToFoundDocument(t,e){return!this.createTime.isEqual(Ut.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=t),this.version=t,this.documentType=1,this.data=e,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=zr.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=zr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ut.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(t){return t instanceof Cn&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Cn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Uu{constructor(t,e){this.position=t,this.inclusive=e}}function fV(i,t,e){let n=0;for(let r=0;r<i.position.length;r++){const o=t[r],d=i.position[r];if(n=o.field.isKeyField()?dt.comparator(dt.fromName(d.referenceValue),e.key):Hu(d,e.data.field(o.field)),"desc"===o.dir&&(n*=-1),0!==n)break}return n}function gV(i,t){if(null===i)return null===t;if(null===t||i.inclusive!==t.inclusive||i.position.length!==t.position.length)return!1;for(let e=0;e<i.position.length;e++)if(!el(i.position[e],t.position[e]))return!1;return!0}class u_{constructor(t,e="asc"){this.field=t,this.dir=e}}function kW(i,t){return i.dir===t.dir&&i.field.isEqual(t.field)}class _V{}class Ii extends _V{constructor(t,e,n){super(),this.field=t,this.op=e,this.value=n}static create(t,e,n){return t.isKeyField()?"in"===e||"not-in"===e?this.createKeyFieldInFilter(t,e,n):new MW(t,e,n):"array-contains"===e?new TW(t,n):"in"===e?new CV(t,n):"not-in"===e?new AW(t,n):"array-contains-any"===e?new RW(t,n):new Ii(t,e,n)}static createKeyFieldInFilter(t,e,n){return"in"===e?new IW(t,n):new SW(t,n)}matches(t){const e=t.data.field(this.field);return"!="===this.op?null!==e&&this.matchesComparison(Hu(e,this.value)):null!==e&&lp(this.value)===lp(e)&&this.matchesComparison(Hu(e,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return St()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class Ji extends _V{constructor(t,e){super(),this.filters=t,this.op=e,this.ht=null}static create(t,e){return new Ji(t,e)}matches(t){return h_(this)?void 0===this.filters.find(e=>!e.matches(t)):void 0!==this.filters.find(e=>e.matches(t))}getFlattenedFilters(){return null!==this.ht||(this.ht=this.filters.reduce((t,e)=>t.concat(e.getFlattenedFilters()),[])),this.ht}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const t=this.lt(e=>e.isInequality());return null!==t?t.field:null}lt(t){for(const e of this.getFlattenedFilters())if(t(e))return e;return null}}function h_(i){return"and"===i.op}function GA(i){return"or"===i.op}function $A(i){return vV(i)&&h_(i)}function vV(i){for(const t of i.filters)if(t instanceof Ji)return!1;return!0}function YA(i){if(i instanceof Ii)return i.field.canonicalString()+i.op.toString()+d_(i.value);if($A(i))return i.filters.map(t=>YA(t)).join(",");{const t=i.filters.map(e=>YA(e)).join(",");return`${i.op}(${t})`}}function bV(i,t){return i instanceof Ii?(e=i,(n=t)instanceof Ii&&e.op===n.op&&e.field.isEqual(n.field)&&el(e.value,n.value)):i instanceof Ji?function(e,n){return n instanceof Ji&&e.op===n.op&&e.filters.length===n.filters.length&&e.filters.reduce((r,o,d)=>r&&bV(o,n.filters[d]),!0)}(i,t):void St();var e,n}function yV(i,t){const e=i.filters.concat(t);return Ji.create(e,i.op)}function wV(i){return i instanceof Ii?`${(t=i).field.canonicalString()} ${t.op} ${d_(t.value)}`:i instanceof Ji?function(t){return t.op.toString()+" {"+t.getFilters().map(wV).join(" ,")+"}"}(i):"Filter";var t}class MW extends Ii{constructor(t,e,n){super(t,e,n),this.key=dt.fromName(n.referenceValue)}matches(t){const e=dt.comparator(t.key,this.key);return this.matchesComparison(e)}}class IW extends Ii{constructor(t,e){super(t,"in",e),this.keys=xV(0,e)}matches(t){return this.keys.some(e=>e.isEqual(t.key))}}class SW extends Ii{constructor(t,e){super(t,"not-in",e),this.keys=xV(0,e)}matches(t){return!this.keys.some(e=>e.isEqual(t.key))}}function xV(i,t){var e;return((null===(e=t.arrayValue)||void 0===e?void 0:e.values)||[]).map(n=>dt.fromName(n.referenceValue))}class TW extends Ii{constructor(t,e){super(t,"array-contains",e)}matches(t){const e=t.data.field(this.field);return u0(e)&&d0(e.arrayValue,this.value)}}class CV extends Ii{constructor(t,e){super(t,"in",e)}matches(t){const e=t.data.field(this.field);return null!==e&&d0(this.value.arrayValue,e)}}class AW extends Ii{constructor(t,e){super(t,"not-in",e)}matches(t){if(d0(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const e=t.data.field(this.field);return null!==e&&!d0(this.value.arrayValue,e)}}class RW extends Ii{constructor(t,e){super(t,"array-contains-any",e)}matches(t){const e=t.data.field(this.field);return!(!u0(e)||!e.arrayValue.values)&&e.arrayValue.values.some(n=>d0(this.value.arrayValue,n))}}class OW{constructor(t,e=null,n=[],r=[],o=null,d=null,h=null){this.path=t,this.collectionGroup=e,this.orderBy=n,this.filters=r,this.limit=o,this.startAt=d,this.endAt=h,this.ft=null}}function qA(i,t=null,e=[],n=[],r=null,o=null,d=null){return new OW(i,t,e,n,r,o,d)}function up(i){const t=mt(i);if(null===t.ft){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map(n=>YA(n)).join(","),e+="|ob:",e+=t.orderBy.map(n=>{return(r=n).field.canonicalString()+r.dir;var r}).join(","),a0(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map(n=>d_(n)).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map(n=>d_(n)).join(",")),t.ft=e}return t.ft}function m0(i,t){if(i.limit!==t.limit||i.orderBy.length!==t.orderBy.length)return!1;for(let e=0;e<i.orderBy.length;e++)if(!kW(i.orderBy[e],t.orderBy[e]))return!1;if(i.filters.length!==t.filters.length)return!1;for(let e=0;e<i.filters.length;e++)if(!bV(i.filters[e],t.filters[e]))return!1;return i.collectionGroup===t.collectionGroup&&!!i.path.isEqual(t.path)&&!!gV(i.startAt,t.startAt)&&gV(i.endAt,t.endAt)}function TE(i){return dt.isDocumentKey(i.path)&&null===i.collectionGroup&&0===i.filters.length}function AE(i,t){return i.filters.filter(e=>e instanceof Ii&&e.field.isEqual(t))}function DV(i,t,e){let n=IE,r=!0;for(const o of AE(i,t)){let d=IE,h=!0;switch(o.op){case"<":case"<=":d=DW(o.value);break;case"==":case"in":case">=":d=o.value;break;case">":d=o.value,h=!1;break;case"!=":case"not-in":d=IE}hV({value:n,inclusive:r},{value:d,inclusive:h})<0&&(n=d,r=h)}if(null!==e)for(let o=0;o<i.orderBy.length;++o)if(i.orderBy[o].field.isEqual(t)){const d=e.position[o];hV({value:n,inclusive:r},{value:d,inclusive:e.inclusive})<0&&(n=d,r=e.inclusive);break}return{value:n,inclusive:r}}function EV(i,t,e){let n=Vu,r=!0;for(const o of AE(i,t)){let d=Vu,h=!0;switch(o.op){case">=":case">":d=EW(o.value),h=!1;break;case"==":case"in":case"<=":d=o.value;break;case"<":d=o.value,h=!1;break;case"!=":case"not-in":d=Vu}mV({value:n,inclusive:r},{value:d,inclusive:h})>0&&(n=d,r=h)}if(null!==e)for(let o=0;o<i.orderBy.length;++o)if(i.orderBy[o].field.isEqual(t)){const d=e.position[o];mV({value:n,inclusive:r},{value:d,inclusive:e.inclusive})>0&&(n=d,r=e.inclusive);break}return{value:n,inclusive:r}}class ld{constructor(t,e=null,n=[],r=[],o=null,d="F",h=null,g=null){this.path=t,this.collectionGroup=e,this.explicitOrderBy=n,this.filters=r,this.limit=o,this.limitType=d,this.startAt=h,this.endAt=g,this.dt=null,this.wt=null}}function kV(i,t,e,n,r,o,d,h){return new ld(i,t,e,n,r,o,d,h)}function m_(i){return new ld(i)}function MV(i){return 0===i.filters.length&&null===i.limit&&null==i.startAt&&null==i.endAt&&(0===i.explicitOrderBy.length||1===i.explicitOrderBy.length&&i.explicitOrderBy[0].field.isKeyField())}function WA(i){return i.explicitOrderBy.length>0?i.explicitOrderBy[0].field:null}function RE(i){for(const t of i.filters){const e=t.getFirstInequalityField();if(null!==e)return e}return null}function ZA(i){return null!==i.collectionGroup}function hp(i){const t=mt(i);if(null===t.dt){t.dt=[];const e=RE(t),n=WA(t);if(null!==e&&null===n)e.isKeyField()||t.dt.push(new u_(e)),t.dt.push(new u_(Xn.keyField(),"asc"));else{let r=!1;for(const o of t.explicitOrderBy)t.dt.push(o),o.field.isKeyField()&&(r=!0);if(!r){const o=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.dt.push(new u_(Xn.keyField(),o))}}}return t.dt}function Wo(i){const t=mt(i);if(!t.wt)if("F"===t.limitType)t.wt=qA(t.path,t.collectionGroup,hp(t),t.filters,t.limit,t.startAt,t.endAt);else{const e=[];for(const o of hp(t))e.push(new u_(o.field,"desc"===o.dir?"asc":"desc"));const n=t.endAt?new Uu(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Uu(t.startAt.position,t.startAt.inclusive):null;t.wt=qA(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}return t.wt}function KA(i,t){t.getFirstInequalityField(),RE(i);const e=i.filters.concat([t]);return new ld(i.path,i.collectionGroup,i.explicitOrderBy.slice(),e,i.limit,i.limitType,i.startAt,i.endAt)}function OE(i,t,e){return new ld(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),t,e,i.startAt,i.endAt)}function p0(i,t){return m0(Wo(i),Wo(t))&&i.limitType===t.limitType}function IV(i){return`${up(Wo(i))}|lt:${i.limitType}`}function QA(i){return`Query(target=${function(t){let e=t.path.canonicalString();return null!==t.collectionGroup&&(e+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(e+=`, filters: [${t.filters.map(n=>wV(n)).join(", ")}]`),a0(t.limit)||(e+=", limit: "+t.limit),t.orderBy.length>0&&(e+=`, orderBy: [${t.orderBy.map(n=>{return`${(r=n).field.canonicalString()} (${r.dir})`;var r}).join(", ")}]`),t.startAt&&(e+=", startAt: ",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map(n=>d_(n)).join(",")),t.endAt&&(e+=", endAt: ",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map(n=>d_(n)).join(",")),`Target(${e})`}(Wo(i))}; limitType=${i.limitType})`}function f0(i,t){return t.isFoundDocument()&&function(e,n){const r=n.key.path;return null!==e.collectionGroup?n.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(r):dt.isDocumentKey(e.path)?e.path.isEqual(r):e.path.isImmediateParentOf(r)}(i,t)&&function(e,n){for(const r of hp(e))if(!r.field.isKeyField()&&null===n.data.field(r.field))return!1;return!0}(i,t)&&function(e,n){for(const r of e.filters)if(!r.matches(n))return!1;return!0}(i,t)&&(n=t,!((e=i).startAt&&!function(r,o,d){const h=fV(r,o,d);return r.inclusive?h<=0:h<0}(e.startAt,hp(e),n)||e.endAt&&!function(r,o,d){const h=fV(r,o,d);return r.inclusive?h>=0:h>0}(e.endAt,hp(e),n)));var e,n}function SV(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function TV(i){return(t,e)=>{let n=!1;for(const r of hp(i)){const o=PW(r,t,e);if(0!==o)return o;n=n||r.field.isKeyField()}return 0}}function PW(i,t,e){const n=i.field.isKeyField()?dt.comparator(t.key,e.key):function(r,o,d){const h=o.data.field(r),g=d.data.field(r);return null!==h&&null!==g?Hu(h,g):St()}(i.field,t,e);switch(i.dir){case"asc":return n;case"desc":return-1*n;default:return St()}}class zu{constructor(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={},this.innerSize=0}get(t){const e=this.mapKeyFn(t),n=this.inner[e];if(void 0!==n)for(const[r,o]of n)if(this.equalsFn(r,t))return o}has(t){return void 0!==this.get(t)}set(t,e){const n=this.mapKeyFn(t),r=this.inner[n];if(void 0===r)return this.inner[n]=[[t,e]],void this.innerSize++;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],t))return void(r[o]=[t,e]);r.push([t,e]),this.innerSize++}delete(t){const e=this.mapKeyFn(t),n=this.inner[e];if(void 0===n)return!1;for(let r=0;r<n.length;r++)if(this.equalsFn(n[r][0],t))return 1===n.length?delete this.inner[e]:n.splice(r,1),this.innerSize--,!0;return!1}forEach(t){ap(this.inner,(e,n)=>{for(const[r,o]of n)t(r,o)})}isEmpty(){return oV(this.inner)}size(){return this.innerSize}}const FW=new Jn(dt.comparator);function fs(){return FW}const AV=new Jn(dt.comparator);function g0(...i){let t=AV;for(const e of i)t=t.insert(e.key,e);return t}function RV(i){let t=AV;return i.forEach((e,n)=>t=t.insert(e,n.overlayedDocument)),t}function tl(){return _0()}function OV(){return _0()}function _0(){return new zu(i=>i.toString(),(i,t)=>i.isEqual(t))}const NW=new Jn(dt.comparator),LW=new cn(dt.comparator);function xi(...i){let t=LW;for(const e of i)t=t.add(e);return t}const BW=new cn(ui);function PE(){return BW}function PV(i,t){if(i.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:c0(t)?"-0":t}}function FV(i){return{integerValue:""+i}}function NV(i,t){return QB(t)?FV(t):PV(i,t)}class FE{constructor(){this._=void 0}}function VW(i,t,e){return i instanceof p_?function(n,r){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:n.seconds,nanos:n.nanoseconds}}}};return r&&(o.fields.__previous_value__=r),{mapValue:o}}(e,t):i instanceof mp?BV(i,t):i instanceof pp?VV(i,t):function(n,r){const o=LV(n,r),d=HV(o)+HV(n._t);return jA(o)&&jA(n._t)?FV(d):PV(n.serializer,d)}(i,t)}function HW(i,t,e){return i instanceof mp?BV(i,t):i instanceof pp?VV(i,t):e}function LV(i,t){return i instanceof f_?jA(e=t)||(n=e)&&"doubleValue"in n?t:{integerValue:0}:null;var n,e}class p_ extends FE{}class mp extends FE{constructor(t){super(),this.elements=t}}function BV(i,t){const e=UV(t);for(const n of i.elements)e.some(r=>el(r,n))||e.push(n);return{arrayValue:{values:e}}}class pp extends FE{constructor(t){super(),this.elements=t}}function VV(i,t){let e=UV(t);for(const n of i.elements)e=e.filter(r=>!el(r,n));return{arrayValue:{values:e}}}class f_ extends FE{constructor(t,e){super(),this.serializer=t,this._t=e}}function HV(i){return er(i.integerValue||i.doubleValue)}function UV(i){return u0(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}class v0{constructor(t,e){this.field=t,this.transform=e}}class zW{constructor(t,e){this.version=t,this.transformResults=e}}class Pn{constructor(t,e){this.updateTime=t,this.exists=e}static none(){return new Pn}static exists(t){return new Pn(void 0,t)}static updateTime(t){return new Pn(t)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function NE(i,t){return void 0!==i.updateTime?t.isFoundDocument()&&t.version.isEqual(i.updateTime):void 0===i.exists||i.exists===t.isFoundDocument()}class LE{}function zV(i,t){if(!i.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return i.isNoDocument()?new __(i.key,Pn.none()):new g_(i.key,i.data,Pn.none());{const e=i.data,n=zr.empty();let r=new cn(Xn.comparator);for(let o of t.fields)if(!r.has(o)){let d=e.field(o);null===d&&o.length>1&&(o=o.popLast(),d=e.field(o)),null===d?n.delete(o):n.set(o,d),r=r.add(o)}return new dd(i.key,n,new ps(r.toArray()),Pn.none())}}function jW(i,t,e){i instanceof g_?function(n,r,o){const d=n.value.clone(),h=$V(n.fieldTransforms,r,o.transformResults);d.setAll(h),r.convertToFoundDocument(o.version,d).setHasCommittedMutations()}(i,t,e):i instanceof dd?function(n,r,o){if(!NE(n.precondition,r))return void r.convertToUnknownDocument(o.version);const d=$V(n.fieldTransforms,r,o.transformResults),h=r.data;h.setAll(GV(n)),h.setAll(d),r.convertToFoundDocument(o.version,h).setHasCommittedMutations()}(i,t,e):t.convertToNoDocument(e.version).setHasCommittedMutations()}function b0(i,t,e,n){return i instanceof g_?function(r,o,d,h){if(!NE(r.precondition,o))return d;const g=r.value.clone(),b=YV(r.fieldTransforms,h,o);return g.setAll(b),o.convertToFoundDocument(o.version,g).setHasLocalMutations(),null}(i,t,e,n):i instanceof dd?function(r,o,d,h){if(!NE(r.precondition,o))return d;const g=YV(r.fieldTransforms,h,o),b=o.data;return b.setAll(GV(r)),b.setAll(g),o.convertToFoundDocument(o.version,b).setHasLocalMutations(),null===d?null:d.unionWith(r.fieldMask.fields).unionWith(r.fieldTransforms.map(x=>x.field))}(i,t,e,n):(d=e,NE(i.precondition,o=t)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):d);var o,d}function GW(i,t){let e=null;for(const n of i.fieldTransforms){const r=t.data.field(n.field),o=LV(n.transform,r||null);null!=o&&(null===e&&(e=zr.empty()),e.set(n.field,o))}return e||null}function jV(i,t){return i.type===t.type&&!!i.key.isEqual(t.key)&&!!i.precondition.isEqual(t.precondition)&&(n=t.fieldTransforms,!!(void 0===(e=i.fieldTransforms)&&void 0===n||e&&n&&c_(e,n,(r,o)=>function UW(i,t){return i.field.isEqual(t.field)&&(n=t.transform,(e=i.transform)instanceof mp&&n instanceof mp||e instanceof pp&&n instanceof pp?c_(e.elements,n.elements,el):e instanceof f_&&n instanceof f_?el(e._t,n._t):e instanceof p_&&n instanceof p_);var e,n}(r,o))))&&(0===i.type?i.value.isEqual(t.value):1!==i.type||i.data.isEqual(t.data)&&i.fieldMask.isEqual(t.fieldMask));var e,n}class g_ extends LE{constructor(t,e,n,r=[]){super(),this.key=t,this.value=e,this.precondition=n,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class dd extends LE{constructor(t,e,n,r,o=[]){super(),this.key=t,this.data=e,this.fieldMask=n,this.precondition=r,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function GV(i){const t=new Map;return i.fieldMask.fields.forEach(e=>{if(!e.isEmpty()){const n=i.data.field(e);t.set(e,n)}}),t}function $V(i,t,e){const n=new Map;Lt(i.length===e.length);for(let r=0;r<e.length;r++){const o=i[r],d=o.transform,h=t.data.field(o.field);n.set(o.field,HW(d,h,e[r]))}return n}function YV(i,t,e){const n=new Map;for(const r of i){const o=r.transform,d=e.data.field(r.field);n.set(r.field,VW(o,d,t))}return n}class __ extends LE{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class XA extends LE{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class JA{constructor(t,e,n,r){this.batchId=t,this.localWriteTime=e,this.baseMutations=n,this.mutations=r}applyToRemoteDocument(t,e){const n=e.mutationResults;for(let r=0;r<this.mutations.length;r++){const o=this.mutations[r];o.key.isEqual(t.key)&&jW(o,t,n[r])}}applyToLocalView(t,e){for(const n of this.baseMutations)n.key.isEqual(t.key)&&(e=b0(n,t,e,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(t.key)&&(e=b0(n,t,e,this.localWriteTime));return e}applyToLocalDocumentSet(t,e){const n=OV();return this.mutations.forEach(r=>{const o=t.get(r.key),d=o.overlayedDocument;let h=this.applyToLocalView(d,o.mutatedFields);h=e.has(r.key)?null:h;const g=zV(d,h);null!==g&&n.set(r.key,g),d.isValidDocument()||d.convertToNoDocument(Ut.min())}),n}keys(){return this.mutations.reduce((t,e)=>t.add(e.key),xi())}isEqual(t){return this.batchId===t.batchId&&c_(this.mutations,t.mutations,(e,n)=>jV(e,n))&&c_(this.baseMutations,t.baseMutations,(e,n)=>jV(e,n))}}class eR{constructor(t,e,n,r){this.batch=t,this.commitVersion=e,this.mutationResults=n,this.docVersions=r}static from(t,e,n){Lt(t.mutations.length===n.length);let r=NW;const o=t.mutations;for(let d=0;d<o.length;d++)r=r.insert(o[d].key,n[d].version);return new eR(t,e,n,r)}}class tR{constructor(t,e){this.largestBatchId=t,this.mutation=e}getKey(){return this.mutation.key}isEqual(t){return null!==t&&this.mutation===t.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class qW{constructor(t){this.count=t}}var Er,Ri;function qV(i){switch(i){default:return St();case pe.CANCELLED:case pe.UNKNOWN:case pe.DEADLINE_EXCEEDED:case pe.RESOURCE_EXHAUSTED:case pe.INTERNAL:case pe.UNAVAILABLE:case pe.UNAUTHENTICATED:return!1;case pe.INVALID_ARGUMENT:case pe.NOT_FOUND:case pe.ALREADY_EXISTS:case pe.PERMISSION_DENIED:case pe.FAILED_PRECONDITION:case pe.ABORTED:case pe.OUT_OF_RANGE:case pe.UNIMPLEMENTED:case pe.DATA_LOSS:return!0}}function WV(i){if(void 0===i)return pr("GRPC error has no .code"),pe.UNKNOWN;switch(i){case Er.OK:return pe.OK;case Er.CANCELLED:return pe.CANCELLED;case Er.UNKNOWN:return pe.UNKNOWN;case Er.DEADLINE_EXCEEDED:return pe.DEADLINE_EXCEEDED;case Er.RESOURCE_EXHAUSTED:return pe.RESOURCE_EXHAUSTED;case Er.INTERNAL:return pe.INTERNAL;case Er.UNAVAILABLE:return pe.UNAVAILABLE;case Er.UNAUTHENTICATED:return pe.UNAUTHENTICATED;case Er.INVALID_ARGUMENT:return pe.INVALID_ARGUMENT;case Er.NOT_FOUND:return pe.NOT_FOUND;case Er.ALREADY_EXISTS:return pe.ALREADY_EXISTS;case Er.PERMISSION_DENIED:return pe.PERMISSION_DENIED;case Er.FAILED_PRECONDITION:return pe.FAILED_PRECONDITION;case Er.ABORTED:return pe.ABORTED;case Er.OUT_OF_RANGE:return pe.OUT_OF_RANGE;case Er.UNIMPLEMENTED:return pe.UNIMPLEMENTED;case Er.DATA_LOSS:return pe.DATA_LOSS;default:return St()}}(Ri=Er||(Er={}))[Ri.OK=0]="OK",Ri[Ri.CANCELLED=1]="CANCELLED",Ri[Ri.UNKNOWN=2]="UNKNOWN",Ri[Ri.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ri[Ri.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ri[Ri.NOT_FOUND=5]="NOT_FOUND",Ri[Ri.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ri[Ri.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ri[Ri.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ri[Ri.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ri[Ri.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ri[Ri.ABORTED=10]="ABORTED",Ri[Ri.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ri[Ri.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ri[Ri.INTERNAL=13]="INTERNAL",Ri[Ri.UNAVAILABLE=14]="UNAVAILABLE",Ri[Ri.DATA_LOSS=15]="DATA_LOSS";class nR{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return BE}static getOrCreateInstance(){return null===BE&&(BE=new nR),BE}onExistenceFilterMismatch(t){const e=Symbol();return this.onExistenceFilterMismatchCallbacks.set(e,t),()=>this.onExistenceFilterMismatchCallbacks.delete(e)}notifyOnExistenceFilterMismatch(t){this.onExistenceFilterMismatchCallbacks.forEach(e=>e(t))}}let BE=null;class y0{constructor(t,e,n,r,o){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(t,e,n){const r=new Map;return r.set(t,w0.createSynthesizedTargetChangeForCurrentChange(t,e,n)),new y0(Ut.min(),r,PE(),fs(),xi())}}class w0{constructor(t,e,n,r,o){this.resumeToken=t,this.current=e,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(t,e,n){return new w0(n,e,xi(),xi(),xi())}}class VE{constructor(t,e,n,r){this.It=t,this.removedTargetIds=e,this.key=n,this.Tt=r}}class ZV{constructor(t,e){this.targetId=t,this.Et=e}}class KV{constructor(t,e,n=Pr.EMPTY_BYTE_STRING,r=null){this.state=t,this.targetIds=e,this.resumeToken=n,this.cause=r}}class QV{constructor(){this.At=0,this.Rt=JV(),this.vt=Pr.EMPTY_BYTE_STRING,this.bt=!1,this.Pt=!0}get current(){return this.bt}get resumeToken(){return this.vt}get Vt(){return 0!==this.At}get St(){return this.Pt}Dt(t){t.approximateByteSize()>0&&(this.Pt=!0,this.vt=t)}Ct(){let t=xi(),e=xi(),n=xi();return this.Rt.forEach((r,o)=>{switch(o){case 0:t=t.add(r);break;case 2:e=e.add(r);break;case 1:n=n.add(r);break;default:St()}}),new w0(this.vt,this.bt,t,e,n)}xt(){this.Pt=!1,this.Rt=JV()}Nt(t,e){this.Pt=!0,this.Rt=this.Rt.insert(t,e)}kt(t){this.Pt=!0,this.Rt=this.Rt.remove(t)}Ot(){this.At+=1}$t(){this.At-=1}Mt(){this.Pt=!0,this.bt=!0}}class WW{constructor(t){this.Ft=t,this.Bt=new Map,this.Lt=fs(),this.qt=XV(),this.Ut=new cn(ui)}Kt(t){for(const e of t.It)t.Tt&&t.Tt.isFoundDocument()?this.Gt(e,t.Tt):this.Qt(e,t.key,t.Tt);for(const e of t.removedTargetIds)this.Qt(e,t.key,t.Tt)}zt(t){this.forEachTarget(t,e=>{const n=this.jt(e);switch(t.state){case 0:this.Wt(e)&&n.Dt(t.resumeToken);break;case 1:n.$t(),n.Vt||n.xt(),n.Dt(t.resumeToken);break;case 2:n.$t(),n.Vt||this.removeTarget(e);break;case 3:this.Wt(e)&&(n.Mt(),n.Dt(t.resumeToken));break;case 4:this.Wt(e)&&(this.Ht(e),n.Dt(t.resumeToken));break;default:St()}})}forEachTarget(t,e){t.targetIds.length>0?t.targetIds.forEach(e):this.Bt.forEach((n,r)=>{this.Wt(r)&&e(r)})}Jt(t){var e;const n=t.targetId,r=t.Et.count,o=this.Yt(n);if(o){const d=o.target;if(TE(d))if(0===r){const h=new dt(d.path);this.Qt(n,h,Cn.newNoDocument(h,Ut.min()))}else Lt(1===r);else{const h=this.Zt(n);h!==r&&(this.Ht(n),this.Ut=this.Ut.add(n),null===(e=nR.instance)||void 0===e||e.notifyOnExistenceFilterMismatch({localCacheCount:h,existenceFilterCount:t.Et.count}))}}}Xt(t){const e=new Map;this.Bt.forEach((o,d)=>{const h=this.Yt(d);if(h){if(o.current&&TE(h.target)){const g=new dt(h.target.path);null!==this.Lt.get(g)||this.te(d,g)||this.Qt(d,g,Cn.newNoDocument(g,t))}o.St&&(e.set(d,o.Ct()),o.xt())}});let n=xi();this.qt.forEach((o,d)=>{let h=!0;d.forEachWhile(g=>{const b=this.Yt(g);return!b||2===b.purpose||(h=!1,!1)}),h&&(n=n.add(o))}),this.Lt.forEach((o,d)=>d.setReadTime(t));const r=new y0(t,e,this.Ut,this.Lt,n);return this.Lt=fs(),this.qt=XV(),this.Ut=new cn(ui),r}Gt(t,e){if(!this.Wt(t))return;const n=this.te(t,e.key)?2:0;this.jt(t).Nt(e.key,n),this.Lt=this.Lt.insert(e.key,e),this.qt=this.qt.insert(e.key,this.ee(e.key).add(t))}Qt(t,e,n){if(!this.Wt(t))return;const r=this.jt(t);this.te(t,e)?r.Nt(e,1):r.kt(e),this.qt=this.qt.insert(e,this.ee(e).delete(t)),n&&(this.Lt=this.Lt.insert(e,n))}removeTarget(t){this.Bt.delete(t)}Zt(t){const e=this.jt(t).Ct();return this.Ft.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size}Ot(t){this.jt(t).Ot()}jt(t){let e=this.Bt.get(t);return e||(e=new QV,this.Bt.set(t,e)),e}ee(t){let e=this.qt.get(t);return e||(e=new cn(ui),this.qt=this.qt.insert(t,e)),e}Wt(t){const e=null!==this.Yt(t);return e||ze("WatchChangeAggregator","Detected inactive target",t),e}Yt(t){const e=this.Bt.get(t);return e&&e.Vt?null:this.Ft.ne(t)}Ht(t){this.Bt.set(t,new QV),this.Ft.getRemoteKeysForTarget(t).forEach(e=>{this.Qt(t,e,null)})}te(t,e){return this.Ft.getRemoteKeysForTarget(t).has(e)}}function XV(){return new Jn(dt.comparator)}function JV(){return new Jn(dt.comparator)}const ZW={asc:"ASCENDING",desc:"DESCENDING"},KW={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},QW={and:"AND",or:"OR"};class XW{constructor(t,e){this.databaseId=t,this.useProto3Json=e}}function v_(i,t){return i.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function eH(i,t){return i.useProto3Json?t.toBase64():t.toUint8Array()}function JW(i,t){return v_(i,t.toTimestamp())}function fr(i){return Lt(!!i),Ut.fromTimestamp(function(t){const e=Lu(t);return new On(e.seconds,e.nanos)}(i))}function rR(i,t){return(e=i,new Ai(["projects",e.projectId,"databases",e.database])).child("documents").child(t).canonicalString();var e}function tH(i){const t=Ai.fromString(i);return Lt(dH(t)),t}function x0(i,t){return rR(i.databaseId,t.path)}function il(i,t){const e=tH(t);if(e.get(1)!==i.databaseId.projectId)throw new Pe(pe.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+e.get(1)+" vs "+i.databaseId.projectId);if(e.get(3)!==i.databaseId.database)throw new Pe(pe.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+e.get(3)+" vs "+i.databaseId.database);return new dt(nH(e))}function oR(i,t){return rR(i.databaseId,t)}function iH(i){const t=tH(i);return 4===t.length?Ai.emptyPath():nH(t)}function C0(i){return new Ai(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function nH(i){return Lt(i.length>4&&"documents"===i.get(4)),i.popFirst(5)}function rH(i,t,e){return{name:x0(i,t),fields:e.value.mapValue.fields}}function oH(i,t,e){const n=il(i,t.name),r=fr(t.updateTime),o=t.createTime?fr(t.createTime):Ut.min(),d=new zr({mapValue:{fields:t.fields}}),h=Cn.newFoundDocument(n,r,o,d);return e&&h.setHasCommittedMutations(),e?h.setHasCommittedMutations():h}function D0(i,t){let e;if(t instanceof g_)e={update:rH(i,t.key,t.value)};else if(t instanceof __)e={delete:x0(i,t.key)};else if(t instanceof dd)e={update:rH(i,t.key,t.data),updateMask:aZ(t.fieldMask)};else{if(!(t instanceof XA))return St();e={verify:x0(i,t.key)}}return t.fieldTransforms.length>0&&(e.updateTransforms=t.fieldTransforms.map(n=>function(r,o){const d=o.transform;if(d instanceof p_)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof mp)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof pp)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof f_)return{fieldPath:o.field.canonicalString(),increment:d._t};throw St()}(0,n))),t.precondition.isNone||(e.currentDocument=void 0!==(r=t.precondition).updateTime?{updateTime:JW(i,r.updateTime)}:void 0!==r.exists?{exists:r.exists}:St()),e;var r}function sR(i,t){const e=t.currentDocument?void 0!==(r=t.currentDocument).updateTime?Pn.updateTime(fr(r.updateTime)):void 0!==r.exists?Pn.exists(r.exists):Pn.none():Pn.none(),n=t.updateTransforms?t.updateTransforms.map(r=>function(o,d){let h=null;"setToServerValue"in d?(Lt("REQUEST_TIME"===d.setToServerValue),h=new p_):"appendMissingElements"in d?h=new mp(d.appendMissingElements.values||[]):"removeAllFromArray"in d?h=new pp(d.removeAllFromArray.values||[]):"increment"in d?h=new f_(o,d.increment):St();const g=Xn.fromServerFormat(d.fieldPath);return new v0(g,h)}(i,r)):[];var r;if(t.update){const r=il(i,t.update.name),o=new zr({mapValue:{fields:t.update.fields}});if(t.updateMask){const d=new ps((t.updateMask.fieldPaths||[]).map(b=>Xn.fromServerFormat(b)));return new dd(r,o,d,e,n)}return new g_(r,o,e,n)}if(t.delete){const r=il(i,t.delete);return new __(r,e)}if(t.verify){const r=il(i,t.verify);return new XA(r,e)}return St()}function sH(i,t){return{documents:[oR(i,t.path)]}}function aR(i,t){const e={structuredQuery:{}},n=t.path;null!==t.collectionGroup?(e.parent=oR(i,n),e.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(e.parent=oR(i,n.popLast()),e.structuredQuery.from=[{collectionId:n.lastSegment()}]);const r=function(g){if(0!==g.length)return lH(Ji.create(g,"and"))}(t.filters);r&&(e.structuredQuery.where=r);const o=function(g){if(0!==g.length)return g.map(b=>{return{field:ju((x=b).field),direction:rZ(x.dir)};var x})}(t.orderBy);o&&(e.structuredQuery.orderBy=o);const d=(b=t.limit,i.useProto3Json||a0(b)?b:{value:b});var b,h,g;return null!==d&&(e.structuredQuery.limit=d),t.startAt&&(e.structuredQuery.startAt={before:(h=t.startAt).inclusive,values:h.position}),t.endAt&&(e.structuredQuery.endAt={before:!(g=t.endAt).inclusive,values:g.position}),e}function aH(i){let t=iH(i.parent);const e=i.structuredQuery,n=e.from?e.from.length:0;let r=null;if(n>0){Lt(1===n);const x=e.from[0];x.allDescendants?r=x.collectionId:t=t.child(x.collectionId)}let o=[];e.where&&(o=function(x){const k=cH(x);return k instanceof Ji&&$A(k)?k.getFilters():[k]}(e.where));let d=[];e.orderBy&&(d=e.orderBy.map(x=>{return new u_(b_((k=x).field),function(T){switch(T){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(k.direction));var k}));let h=null;e.limit&&(h=function(x){let k;return k="object"==typeof x?x.value:x,a0(k)?null:k}(e.limit));let g=null;var x;e.startAt&&(g=new Uu((x=e.startAt).values||[],!!x.before));let b=null;return e.endAt&&(b=function(x){return new Uu(x.values||[],!x.before)}(e.endAt)),kV(t,r,d,o,h,"F",g,b)}function cH(i){return void 0!==i.unaryFilter?function(t){switch(t.unaryFilter.op){case"IS_NAN":const e=b_(t.unaryFilter.field);return Ii.create(e,"==",{doubleValue:NaN});case"IS_NULL":const n=b_(t.unaryFilter.field);return Ii.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=b_(t.unaryFilter.field);return Ii.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=b_(t.unaryFilter.field);return Ii.create(o,"!=",{nullValue:"NULL_VALUE"});default:return St()}}(i):void 0!==i.fieldFilter?Ii.create(b_((t=i).fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return St()}}(t.fieldFilter.op),t.fieldFilter.value):void 0!==i.compositeFilter?function(t){return Ji.create(t.compositeFilter.filters.map(e=>cH(e)),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return St()}}(t.compositeFilter.op))}(i):St();var t}function rZ(i){return ZW[i]}function oZ(i){return KW[i]}function sZ(i){return QW[i]}function ju(i){return{fieldPath:i.canonicalString()}}function b_(i){return Xn.fromServerFormat(i.fieldPath)}function lH(i){return i instanceof Ii?function(t){if("=="===t.op){if(dV(t.value))return{unaryFilter:{field:ju(t.field),op:"IS_NAN"}};if(lV(t.value))return{unaryFilter:{field:ju(t.field),op:"IS_NULL"}}}else if("!="===t.op){if(dV(t.value))return{unaryFilter:{field:ju(t.field),op:"IS_NOT_NAN"}};if(lV(t.value))return{unaryFilter:{field:ju(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ju(t.field),op:oZ(t.op),value:t.value}}}(i):i instanceof Ji?function(t){const e=t.getFilters().map(n=>lH(n));return 1===e.length?e[0]:{compositeFilter:{op:sZ(t.op),filters:e}}}(i):St()}function aZ(i){const t=[];return i.fields.forEach(e=>t.push(e.canonicalString())),{fieldPaths:t}}function dH(i){return i.length>=4&&"projects"===i.get(0)&&"databases"===i.get(2)}class Gu{constructor(t,e,n,r,o=Ut.min(),d=Ut.min(),h=Pr.EMPTY_BYTE_STRING){this.target=t,this.targetId=e,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=h}withSequenceNumber(t){return new Gu(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(t,e){return new Gu(this.target,this.targetId,this.purpose,this.sequenceNumber,e,this.lastLimboFreeSnapshotVersion,t)}withLastLimboFreeSnapshotVersion(t){return new Gu(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)}}class uH{constructor(t){this.se=t}}function hH(i,t){const e=t.key,n={prefixPath:e.getCollectionPath().popLast().toArray(),collectionGroup:e.collectionGroup,documentId:e.path.lastSegment(),readTime:HE(t.readTime),hasCommittedMutations:t.hasCommittedMutations};if(t.isFoundDocument())n.document={name:x0(r=i.se,(o=t).key),fields:o.data.value.mapValue.fields,updateTime:v_(r,o.version.toTimestamp()),createTime:v_(r,o.createTime.toTimestamp())};else if(t.isNoDocument())n.noDocument={path:e.path.toArray(),readTime:fp(t.version)};else{if(!t.isUnknownDocument())return St();n.unknownDocument={path:e.path.toArray(),version:fp(t.version)}}var r,o;return n}function HE(i){const t=i.toTimestamp();return[t.seconds,t.nanoseconds]}function fp(i){const t=i.toTimestamp();return{seconds:t.seconds,nanoseconds:t.nanoseconds}}function gp(i){const t=new On(i.seconds,i.nanoseconds);return Ut.fromTimestamp(t)}function _p(i,t){const e=(t.baseMutations||[]).map(o=>sR(i.se,o));for(let o=0;o<t.mutations.length-1;++o)o+1<t.mutations.length&&void 0!==t.mutations[o+1].transform&&(t.mutations[o].updateTransforms=t.mutations[o+1].transform.fieldTransforms,t.mutations.splice(o+1,1),++o);const n=t.mutations.map(o=>sR(i.se,o)),r=On.fromMillis(t.localWriteTimeMs);return new JA(t.batchId,r,e,n)}function E0(i){const t=gp(i.readTime),e=void 0!==i.lastLimboFreeSnapshotVersion?gp(i.lastLimboFreeSnapshotVersion):Ut.min();let n;var r;return void 0!==i.query.documents?(Lt(1===(r=i.query).documents.length),n=Wo(m_(iH(r.documents[0])))):n=Wo(aH(i.query)),new Gu(n,i.targetId,0,i.lastListenSequenceNumber,t,e,Pr.fromBase64String(i.resumeToken))}function mH(i,t){const e=fp(t.snapshotVersion),n=fp(t.lastLimboFreeSnapshotVersion);let r;r=TE(t.target)?sH(i.se,t.target):aR(i.se,t.target);const o=t.resumeToken.toBase64();return{targetId:t.targetId,canonicalId:up(t.target),readTime:e,resumeToken:o,lastListenSequenceNumber:t.sequenceNumber,lastLimboFreeSnapshotVersion:n,query:r}}function cR(i){const t=aH({parent:i.parent,structuredQuery:i.structuredQuery});return"LAST"===i.limitType?OE(t,t.limit,"L"):t}function lR(i,t){return new tR(t.largestBatchId,sR(i.se,t.overlayMutation))}function pH(i,t){const e=t.path.lastSegment();return[i,qo(t.path.popLast()),e]}function fH(i,t,e,n){return{indexId:i,uid:t.uid||"",sequenceNumber:e,readTime:fp(n.readTime),documentKey:qo(n.documentKey.path),largestBatchId:n.largestBatchId}}class lZ{getBundleMetadata(t,e){return gH(t).get(e).next(n=>{if(n)return{id:(r=n).bundleId,createTime:gp(r.createTime),version:r.version};var r})}saveBundleMetadata(t,e){return gH(t).put({bundleId:(n=e).id,createTime:fp(fr(n.createTime)),version:n.version});var n}getNamedQuery(t,e){return _H(t).get(e).next(n=>{if(n)return{name:(r=n).name,query:cR(r.bundledQuery),readTime:gp(r.readTime)};var r})}saveNamedQuery(t,e){return _H(t).put({name:(n=e).name,readTime:fp(fr(n.readTime)),bundledQuery:n.bundledQuery});var n}}function gH(i){return Ur(i,"bundles")}function _H(i){return Ur(i,"namedQueries")}class UE{constructor(t,e){this.serializer=t,this.userId=e}static ie(t,e){return new UE(t,e.uid||"")}getOverlay(t,e){return k0(t).get(pH(this.userId,e)).next(n=>n?lR(this.serializer,n):null)}getOverlays(t,e){const n=tl();return de.forEach(e,r=>this.getOverlay(t,r).next(o=>{null!==o&&n.set(r,o)})).next(()=>n)}saveOverlays(t,e,n){const r=[];return n.forEach((o,d)=>{const h=new tR(e,d);r.push(this.re(t,h))}),de.waitFor(r)}removeOverlaysForBatchId(t,e,n){const r=new Set;e.forEach(d=>r.add(qo(d.getCollectionPath())));const o=[];return r.forEach(d=>{const h=IDBKeyRange.bound([this.userId,d,n],[this.userId,d,n+1],!1,!0);o.push(k0(t).J("collectionPathOverlayIndex",h))}),de.waitFor(o)}getOverlaysForCollection(t,e,n){const r=tl(),o=qo(e),d=IDBKeyRange.bound([this.userId,o,n],[this.userId,o,Number.POSITIVE_INFINITY],!0);return k0(t).j("collectionPathOverlayIndex",d).next(h=>{for(const g of h){const b=lR(this.serializer,g);r.set(b.getKey(),b)}return r})}getOverlaysForCollectionGroup(t,e,n,r){const o=tl();let d;const h=IDBKeyRange.bound([this.userId,e,n],[this.userId,e,Number.POSITIVE_INFINITY],!0);return k0(t).Z({index:"collectionGroupOverlayIndex",range:h},(g,b,x)=>{const k=lR(this.serializer,b);o.size()<r||k.largestBatchId===d?(o.set(k.getKey(),k),d=k.largestBatchId):x.done()}).next(()=>o)}re(t,e){return k0(t).put(function(n,r,o){const[d,h,g]=pH(r,o.mutation.key);return{userId:r,collectionPath:h,documentId:g,collectionGroup:o.mutation.key.getCollectionGroup(),largestBatchId:o.largestBatchId,overlayMutation:D0(n.se,o.mutation)}}(this.serializer,this.userId,e))}}function k0(i){return Ur(i,"documentOverlays")}class vp{constructor(){}oe(t,e){this.ue(t,e),e.ce()}ue(t,e){if("nullValue"in t)this.ae(e,5);else if("booleanValue"in t)this.ae(e,10),e.he(t.booleanValue?1:0);else if("integerValue"in t)this.ae(e,15),e.he(er(t.integerValue));else if("doubleValue"in t){const n=er(t.doubleValue);isNaN(n)?this.ae(e,13):(this.ae(e,15),c0(n)?e.he(0):e.he(n))}else if("timestampValue"in t){const n=t.timestampValue;this.ae(e,20),"string"==typeof n?e.le(n):(e.le(`${n.seconds||""}`),e.he(n.nanos||0))}else if("stringValue"in t)this.fe(t.stringValue,e),this.de(e);else if("bytesValue"in t)this.ae(e,30),e.we(cp(t.bytesValue)),this.de(e);else if("referenceValue"in t)this._e(t.referenceValue,e);else if("geoPointValue"in t){const n=t.geoPointValue;this.ae(e,45),e.he(n.latitude||0),e.he(n.longitude||0)}else"mapValue"in t?uV(t)?this.ae(e,Number.MAX_SAFE_INTEGER):(this.me(t.mapValue,e),this.de(e)):"arrayValue"in t?(this.ge(t.arrayValue,e),this.de(e)):St()}fe(t,e){this.ae(e,25),this.ye(t,e)}ye(t,e){e.le(t)}me(t,e){const n=t.fields||{};this.ae(e,55);for(const r of Object.keys(n))this.fe(r,e),this.ue(n[r],e)}ge(t,e){const n=t.values||[];this.ae(e,50);for(const r of n)this.ue(r,e)}_e(t,e){this.ae(e,37),dt.fromName(t).path.forEach(n=>{this.ae(e,60),this.ye(n,e)})}ae(t,e){t.he(e)}de(t){t.he(2)}}function dZ(i){if(0===i)return 8;let t=0;return!(i>>4)&&(t+=4,i<<=4),!(i>>6)&&(t+=2,i<<=2),!(i>>7)&&(t+=1),t}function vH(i){const t=64-function(e){let n=0;for(let r=0;r<8;++r){const o=dZ(255&e[r]);if(n+=o,8!==o)break}return n}(i);return Math.ceil(t/8)}vp.pe=new vp;class uZ{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Ie(t){const e=t[Symbol.iterator]();let n=e.next();for(;!n.done;)this.Te(n.value),n=e.next();this.Ee()}Ae(t){const e=t[Symbol.iterator]();let n=e.next();for(;!n.done;)this.Re(n.value),n=e.next();this.ve()}be(t){for(const e of t){const n=e.charCodeAt(0);if(n<128)this.Te(n);else if(n<2048)this.Te(960|n>>>6),this.Te(128|63&n);else if(e<"\ud800"||"\udbff"<e)this.Te(480|n>>>12),this.Te(128|63&n>>>6),this.Te(128|63&n);else{const r=e.codePointAt(0);this.Te(240|r>>>18),this.Te(128|63&r>>>12),this.Te(128|63&r>>>6),this.Te(128|63&r)}}this.Ee()}Pe(t){for(const e of t){const n=e.charCodeAt(0);if(n<128)this.Re(n);else if(n<2048)this.Re(960|n>>>6),this.Re(128|63&n);else if(e<"\ud800"||"\udbff"<e)this.Re(480|n>>>12),this.Re(128|63&n>>>6),this.Re(128|63&n);else{const r=e.codePointAt(0);this.Re(240|r>>>18),this.Re(128|63&r>>>12),this.Re(128|63&r>>>6),this.Re(128|63&r)}}this.ve()}Ve(t){const e=this.Se(t),n=vH(e);this.De(1+n),this.buffer[this.position++]=255&n;for(let r=e.length-n;r<e.length;++r)this.buffer[this.position++]=255&e[r]}Ce(t){const e=this.Se(t),n=vH(e);this.De(1+n),this.buffer[this.position++]=~(255&n);for(let r=e.length-n;r<e.length;++r)this.buffer[this.position++]=~(255&e[r])}xe(){this.Ne(255),this.Ne(255)}ke(){this.Oe(255),this.Oe(255)}reset(){this.position=0}seed(t){this.De(t.length),this.buffer.set(t,this.position),this.position+=t.length}$e(){return this.buffer.slice(0,this.position)}Se(t){const e=function(r){const o=new DataView(new ArrayBuffer(8));return o.setFloat64(0,r,!1),new Uint8Array(o.buffer)}(t),n=0!=(128&e[0]);e[0]^=n?255:128;for(let r=1;r<e.length;++r)e[r]^=n?255:0;return e}Te(t){const e=255&t;0===e?(this.Ne(0),this.Ne(255)):255===e?(this.Ne(255),this.Ne(0)):this.Ne(e)}Re(t){const e=255&t;0===e?(this.Oe(0),this.Oe(255)):255===e?(this.Oe(255),this.Oe(0)):this.Oe(t)}Ee(){this.Ne(0),this.Ne(1)}ve(){this.Oe(0),this.Oe(1)}Ne(t){this.De(1),this.buffer[this.position++]=t}Oe(t){this.De(1),this.buffer[this.position++]=~t}De(t){const e=t+this.position;if(e<=this.buffer.length)return;let n=2*this.buffer.length;n<e&&(n=e);const r=new Uint8Array(n);r.set(this.buffer),this.buffer=r}}class hZ{constructor(t){this.Me=t}we(t){this.Me.Ie(t)}le(t){this.Me.be(t)}he(t){this.Me.Ve(t)}ce(){this.Me.xe()}}class mZ{constructor(t){this.Me=t}we(t){this.Me.Ae(t)}le(t){this.Me.Pe(t)}he(t){this.Me.Ce(t)}ce(){this.Me.ke()}}class M0{constructor(){this.Me=new uZ,this.Fe=new hZ(this.Me),this.Be=new mZ(this.Me)}seed(t){this.Me.seed(t)}Le(t){return 0===t?this.Fe:this.Be}$e(){return this.Me.$e()}reset(){this.Me.reset()}}class bp{constructor(t,e,n,r){this.indexId=t,this.documentKey=e,this.arrayValue=n,this.directionalValue=r}qe(){const t=this.directionalValue.length,e=0===t||255===this.directionalValue[t-1]?t+1:t,n=new Uint8Array(e);return n.set(this.directionalValue,0),e!==t?n.set([0],this.directionalValue.length):++n[n.length-1],new bp(this.indexId,this.documentKey,this.arrayValue,n)}}function $u(i,t){let e=i.indexId-t.indexId;return 0!==e?e:(e=bH(i.arrayValue,t.arrayValue),0!==e?e:(e=bH(i.directionalValue,t.directionalValue),0!==e?e:dt.comparator(i.documentKey,t.documentKey)))}function bH(i,t){for(let e=0;e<i.length&&e<t.length;++e){const n=i[e]-t[e];if(0!==n)return n}return i.length-t.length}class pZ{constructor(t){this.collectionId=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment(),this.Ue=t.orderBy,this.Ke=[];for(const e of t.filters){const n=e;n.isInequality()?this.Ge=n:this.Ke.push(n)}}Qe(t){Lt(t.collectionGroup===this.collectionId);const e=NA(t);if(void 0!==e&&!this.ze(e))return!1;const n=op(t);let r=0,o=0;for(;r<n.length&&this.ze(n[r]);++r);if(r===n.length)return!0;if(void 0!==this.Ge){const d=n[r];if(!this.je(this.Ge,d)||!this.We(this.Ue[o++],d))return!1;++r}for(;r<n.length;++r)if(o>=this.Ue.length||!this.We(this.Ue[o++],n[r]))return!1;return!0}ze(t){for(const e of this.Ke)if(this.je(e,t))return!0;return!1}je(t,e){return!(void 0===t||!t.field.isEqual(e.fieldPath))&&2===e.kind==("array-contains"===t.op||"array-contains-any"===t.op)}We(t,e){return!!t.field.isEqual(e.fieldPath)&&(0===e.kind&&"asc"===t.dir||1===e.kind&&"desc"===t.dir)}}function yH(i){var t,e;if(Lt(i instanceof Ii||i instanceof Ji),i instanceof Ii){if(i instanceof CV){const r=(null===(e=null===(t=i.value.arrayValue)||void 0===t?void 0:t.values)||void 0===e?void 0:e.map(o=>Ii.create(i.field,"==",o)))||[];return Ji.create(r,"or")}return i}const n=i.filters.map(r=>yH(r));return Ji.create(n,i.op)}function fZ(i){if(0===i.getFilters().length)return[];const t=hR(yH(i));return Lt(wH(t)),dR(t)||uR(t)?[t]:t.getFilters()}function dR(i){return i instanceof Ii}function uR(i){return i instanceof Ji&&$A(i)}function wH(i){return dR(i)||uR(i)||function(t){if(t instanceof Ji&&GA(t)){for(const e of t.getFilters())if(!dR(e)&&!uR(e))return!1;return!0}return!1}(i)}function hR(i){if(Lt(i instanceof Ii||i instanceof Ji),i instanceof Ii)return i;if(1===i.filters.length)return hR(i.filters[0]);const t=i.filters.map(n=>hR(n));let e=Ji.create(t,i.op);return e=zE(e),wH(e)?e:(Lt(e instanceof Ji),Lt(h_(e)),Lt(e.filters.length>1),e.filters.reduce((n,r)=>mR(n,r)))}function mR(i,t){let e;return Lt(i instanceof Ii||i instanceof Ji),Lt(t instanceof Ii||t instanceof Ji),e=i instanceof Ii?t instanceof Ii?Ji.create([i,t],"and"):xH(i,t):t instanceof Ii?xH(t,i):function(n,r){if(Lt(n.filters.length>0&&r.filters.length>0),h_(n)&&h_(r))return yV(n,r.getFilters());const o=GA(n)?n:r,d=GA(n)?r:n,h=o.filters.map(g=>mR(g,d));return Ji.create(h,"or")}(i,t),zE(e)}function xH(i,t){if(h_(t))return yV(t,i.getFilters());{const e=t.filters.map(n=>mR(i,n));return Ji.create(e,"or")}}function zE(i){if(Lt(i instanceof Ii||i instanceof Ji),i instanceof Ii)return i;const t=i.getFilters();if(1===t.length)return zE(t[0]);if(vV(i))return i;const e=t.map(r=>zE(r)),n=[];return e.forEach(r=>{r instanceof Ii?n.push(r):r instanceof Ji&&(r.op===i.op?n.push(...r.filters):n.push(r))}),1===n.length?n[0]:Ji.create(n,i.op)}class gZ{constructor(){this.He=new pR}addToCollectionParentIndex(t,e){return this.He.add(e),de.resolve()}getCollectionParents(t,e){return de.resolve(this.He.getEntries(e))}addFieldIndex(t,e){return de.resolve()}deleteFieldIndex(t,e){return de.resolve()}getDocumentsMatchingTarget(t,e){return de.resolve(null)}getIndexType(t,e){return de.resolve(0)}getFieldIndexes(t,e){return de.resolve([])}getNextCollectionGroupToUpdate(t){return de.resolve(null)}getMinOffset(t,e){return de.resolve(zs.min())}getMinOffsetFromCollectionGroup(t,e){return de.resolve(zs.min())}updateCollectionGroup(t,e,n){return de.resolve()}updateIndexEntries(t,e){return de.resolve()}}class pR{constructor(){this.index={}}add(t){const e=t.lastSegment(),n=t.popLast(),r=this.index[e]||new cn(Ai.comparator),o=!r.has(n);return this.index[e]=r.add(n),o}has(t){const e=t.lastSegment(),n=t.popLast(),r=this.index[e];return r&&r.has(n)}getEntries(t){return(this.index[t]||new cn(Ai.comparator)).toArray()}}const jE=new Uint8Array(0);class _Z{constructor(t,e){this.user=t,this.databaseId=e,this.Je=new pR,this.Ye=new zu(n=>up(n),(n,r)=>m0(n,r)),this.uid=t.uid||""}addToCollectionParentIndex(t,e){if(!this.Je.has(e)){const n=e.lastSegment(),r=e.popLast();t.addOnCommittedListener(()=>{this.Je.add(e)});const o={collectionId:n,parent:qo(r)};return CH(t).put(o)}return de.resolve()}getCollectionParents(t,e){const n=[],r=IDBKeyRange.bound([e,""],[$B(e),""],!1,!0);return CH(t).j(r).next(o=>{for(const d of o){if(d.collectionId!==e)break;n.push(Jc(d.parent))}return n})}addFieldIndex(t,e){const n=GE(t),r={indexId:(d=e).indexId,collectionGroup:d.collectionGroup,fields:d.fields.map(h=>[h.fieldPath.canonicalString(),h.kind])};var d;delete r.indexId;const o=n.add(r);if(e.indexState){const d=S0(t);return o.next(h=>{d.put(fH(h,this.user,e.indexState.sequenceNumber,e.indexState.offset))})}return o.next()}deleteFieldIndex(t,e){const n=GE(t),r=S0(t),o=I0(t);return n.delete(e.indexId).next(()=>r.delete(IDBKeyRange.bound([e.indexId],[e.indexId+1],!1,!0))).next(()=>o.delete(IDBKeyRange.bound([e.indexId],[e.indexId+1],!1,!0)))}getDocumentsMatchingTarget(t,e){const n=I0(t);let r=!0;const o=new Map;return de.forEach(this.Ze(e),d=>this.Xe(t,d).next(h=>{r&&(r=!!h),o.set(d,h)})).next(()=>{if(r){let d=xi();const h=[];return de.forEach(o,(g,b)=>{var x;ze("IndexedDbIndexManager",`Using index ${x=g,`id=${x.indexId}|cg=${x.collectionGroup}|f=${x.fields.map(wt=>`${wt.fieldPath}:${wt.kind}`).join(",")}`} to execute ${up(e)}`);const k=function(wt,Rt){const oi=NA(Rt);if(void 0===oi)return null;for(const hi of AE(wt,oi.fieldPath))switch(hi.op){case"array-contains-any":return hi.value.arrayValue.values||[];case"array-contains":return[hi.value]}return null}(b,g),T=function(wt,Rt){const oi=new Map;for(const hi of op(Rt))for(const $i of AE(wt,hi.fieldPath))switch($i.op){case"==":case"in":oi.set(hi.fieldPath.canonicalString(),$i.value);break;case"not-in":case"!=":return oi.set(hi.fieldPath.canonicalString(),$i.value),Array.from(oi.values())}return null}(b,g),F=function(wt,Rt){const oi=[];let hi=!0;for(const $i of op(Rt)){const Gr=0===$i.kind?DV(wt,$i.fieldPath,wt.startAt):EV(wt,$i.fieldPath,wt.startAt);oi.push(Gr.value),hi&&(hi=Gr.inclusive)}return new Uu(oi,hi)}(b,g),H=function(wt,Rt){const oi=[];let hi=!0;for(const $i of op(Rt)){const Gr=0===$i.kind?EV(wt,$i.fieldPath,wt.endAt):DV(wt,$i.fieldPath,wt.endAt);oi.push(Gr.value),hi&&(hi=Gr.inclusive)}return new Uu(oi,hi)}(b,g),X=this.tn(g,b,F),ne=this.tn(g,b,H),je=this.en(g,b,T),Ct=this.nn(g.indexId,k,X,F.inclusive,ne,H.inclusive,je);return de.forEach(Ct,wt=>n.H(wt,e.limit).next(Rt=>{Rt.forEach(oi=>{const hi=dt.fromSegments(oi.documentKey);d.has(hi)||(d=d.add(hi),h.push(hi))})}))}).next(()=>h)}return de.resolve(null)})}Ze(t){let e=this.Ye.get(t);return e||(e=0===t.filters.length?[t]:fZ(Ji.create(t.filters,"and")).map(n=>qA(t.path,t.collectionGroup,t.orderBy,n.getFilters(),t.limit,t.startAt,t.endAt)),this.Ye.set(t,e),e)}nn(t,e,n,r,o,d,h){const g=(null!=e?e.length:1)*Math.max(n.length,o.length),b=g/(null!=e?e.length:1),x=[];for(let k=0;k<g;++k){const T=e?this.sn(e[k/b]):jE,F=this.rn(t,T,n[k%b],r),H=this.on(t,T,o[k%b],d),X=h.map(ne=>this.rn(t,T,ne,!0));x.push(...this.createRange(F,H,X))}return x}rn(t,e,n,r){const o=new bp(t,dt.empty(),e,n);return r?o:o.qe()}on(t,e,n,r){const o=new bp(t,dt.empty(),e,n);return r?o.qe():o}Xe(t,e){const n=new pZ(e),r=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment();return this.getFieldIndexes(t,r).next(o=>{let d=null;for(const h of o)n.Qe(h)&&(!d||h.fields.length>d.fields.length)&&(d=h);return d})}getIndexType(t,e){let n=2;const r=this.Ze(e);return de.forEach(r,o=>this.Xe(t,o).next(d=>{d?0!==n&&d.fields.length<function(h){let g=new cn(Xn.comparator),b=!1;for(const x of h.filters)for(const k of x.getFlattenedFilters())k.field.isKeyField()||("array-contains"===k.op||"array-contains-any"===k.op?b=!0:g=g.add(k.field));for(const x of h.orderBy)x.field.isKeyField()||(g=g.add(x.field));return g.size+(b?1:0)}(o)&&(n=1):n=0})).next(()=>null!==e.limit&&r.length>1&&2===n?1:n)}un(t,e){const n=new M0;for(const r of op(t)){const o=e.data.field(r.fieldPath);if(null==o)return null;const d=n.Le(r.kind);vp.pe.oe(o,d)}return n.$e()}sn(t){const e=new M0;return vp.pe.oe(t,e.Le(0)),e.$e()}cn(t,e){const n=new M0;return vp.pe.oe(dp(this.databaseId,e),n.Le(function(r){const o=op(r);return 0===o.length?0:o[o.length-1].kind}(t))),n.$e()}en(t,e,n){if(null===n)return[];let r=[];r.push(new M0);let o=0;for(const d of op(t)){const h=n[o++];for(const g of r)if(this.an(e,d.fieldPath)&&u0(h))r=this.hn(r,d,h);else{const b=g.Le(d.kind);vp.pe.oe(h,b)}}return this.ln(r)}tn(t,e,n){return this.en(t,e,n.position)}ln(t){const e=[];for(let n=0;n<t.length;++n)e[n]=t[n].$e();return e}hn(t,e,n){const r=[...t],o=[];for(const d of n.arrayValue.values||[])for(const h of r){const g=new M0;g.seed(h.$e()),vp.pe.oe(d,g.Le(e.kind)),o.push(g)}return o}an(t,e){return!!t.filters.find(n=>n instanceof Ii&&n.field.isEqual(e)&&("in"===n.op||"not-in"===n.op))}getFieldIndexes(t,e){const n=GE(t),r=S0(t);return(e?n.j("collectionGroupIndex",IDBKeyRange.bound(e,e)):n.j()).next(o=>{const d=[];return de.forEach(o,h=>r.get([h.indexId,this.uid]).next(g=>{d.push(function(b,x){const k=x?new o0(x.sequenceNumber,new zs(gp(x.readTime),new dt(Jc(x.documentKey)),x.largestBatchId)):o0.empty(),T=b.fields.map(([F,H])=>new DE(Xn.fromServerFormat(F),H));return new CE(b.indexId,b.collectionGroup,T,k)}(h,g))})).next(()=>d)})}getNextCollectionGroupToUpdate(t){return this.getFieldIndexes(t).next(e=>0===e.length?null:(e.sort((n,r)=>{const o=n.indexState.sequenceNumber-r.indexState.sequenceNumber;return 0!==o?o:ui(n.collectionGroup,r.collectionGroup)}),e[0].collectionGroup))}updateCollectionGroup(t,e,n){const r=GE(t),o=S0(t);return this.fn(t).next(d=>r.j("collectionGroupIndex",IDBKeyRange.bound(e,e)).next(h=>de.forEach(h,g=>o.put(fH(g.indexId,this.user,d,n)))))}updateIndexEntries(t,e){const n=new Map;return de.forEach(e,(r,o)=>{const d=n.get(r.collectionGroup);return(d?de.resolve(d):this.getFieldIndexes(t,r.collectionGroup)).next(h=>(n.set(r.collectionGroup,h),de.forEach(h,g=>this.dn(t,r,g).next(b=>{const x=this.wn(o,g);return b.isEqual(x)?de.resolve():this._n(t,o,g,b,x)}))))})}mn(t,e,n,r){return I0(t).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,orderedDocumentKey:this.cn(n,e.key),documentKey:e.key.path.toArray()})}gn(t,e,n,r){return I0(t).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,this.cn(n,e.key),e.key.path.toArray()])}dn(t,e,n){const r=I0(t);let o=new cn($u);return r.Z({index:"documentKeyIndex",range:IDBKeyRange.only([n.indexId,this.uid,this.cn(n,e)])},(d,h)=>{o=o.add(new bp(n.indexId,e,h.arrayValue,h.directionalValue))}).next(()=>o)}wn(t,e){let n=new cn($u);const r=this.un(e,t);if(null==r)return n;const o=NA(e);if(null!=o){const d=t.data.field(o.fieldPath);if(u0(d))for(const h of d.arrayValue.values||[])n=n.add(new bp(e.indexId,t.key,this.sn(h),r))}else n=n.add(new bp(e.indexId,t.key,jE,r));return n}_n(t,e,n,r,o){ze("IndexedDbIndexManager","Updating index entries for document '%s'",e.key);const d=[];return function(h,g,b,x,k){const T=h.getIterator(),F=g.getIterator();let H=l_(T),X=l_(F);for(;H||X;){let ne=!1,je=!1;if(H&&X){const Ct=b(H,X);Ct<0?je=!0:Ct>0&&(ne=!0)}else null!=H?je=!0:ne=!0;ne?(x(X),X=l_(F)):je?(k(H),H=l_(T)):(H=l_(T),X=l_(F))}}(r,o,$u,h=>{d.push(this.mn(t,e,n,h))},h=>{d.push(this.gn(t,e,n,h))}),de.waitFor(d)}fn(t){let e=1;return S0(t).Z({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(n,r,o)=>{o.done(),e=r.sequenceNumber+1}).next(()=>e)}createRange(t,e,n){n=n.sort((d,h)=>$u(d,h)).filter((d,h,g)=>!h||0!==$u(d,g[h-1]));const r=[];r.push(t);for(const d of n){const h=$u(d,t),g=$u(d,e);if(0===h)r[0]=t.qe();else if(h>0&&g<0)r.push(d),r.push(d.qe());else if(g>0)break}r.push(e);const o=[];for(let d=0;d<r.length;d+=2){if(this.yn(r[d],r[d+1]))return[];o.push(IDBKeyRange.bound([r[d].indexId,this.uid,r[d].arrayValue,r[d].directionalValue,jE,[]],[r[d+1].indexId,this.uid,r[d+1].arrayValue,r[d+1].directionalValue,jE,[]]))}return o}yn(t,e){return $u(t,e)>0}getMinOffsetFromCollectionGroup(t,e){return this.getFieldIndexes(t,e).next(DH)}getMinOffset(t,e){return de.mapArray(this.Ze(e),n=>this.Xe(t,n).next(r=>r||St())).next(DH)}}function CH(i){return Ur(i,"collectionParents")}function I0(i){return Ur(i,"indexEntries")}function GE(i){return Ur(i,"indexConfiguration")}function S0(i){return Ur(i,"indexState")}function DH(i){Lt(0!==i.length);let t=i[0].indexState.offset,e=t.largestBatchId;for(let n=1;n<i.length;n++){const r=i[n].indexState.offset;LA(r,t)<0&&(t=r),e<r.largestBatchId&&(e=r.largestBatchId)}return new zs(t.readTime,t.documentKey,e)}const EH={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class gs{constructor(t,e,n){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=n}static withCacheSize(t){return new gs(t,gs.DEFAULT_COLLECTION_PERCENTILE,gs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function kH(i,t,e){const n=i.store("mutations"),r=i.store("documentMutations"),o=[],d=IDBKeyRange.only(e.batchId);let h=0;const g=n.Z({range:d},(x,k,T)=>(h++,T.delete()));o.push(g.next(()=>{Lt(1===h)}));const b=[];for(const x of e.mutations){const k=eV(t,x.key.path,e.batchId);o.push(r.delete(k)),b.push(x.key)}return de.waitFor(o).next(()=>b)}function $E(i){if(!i)return 0;let t;if(i.document)t=i.document;else if(i.unknownDocument)t=i.unknownDocument;else{if(!i.noDocument)throw St();t=i.noDocument}return JSON.stringify(t).length}gs.DEFAULT_COLLECTION_PERCENTILE=10,gs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,gs.DEFAULT=new gs(41943040,gs.DEFAULT_COLLECTION_PERCENTILE,gs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),gs.DISABLED=new gs(-1,0,0);class YE{constructor(t,e,n,r){this.userId=t,this.serializer=e,this.indexManager=n,this.referenceDelegate=r,this.pn={}}static ie(t,e,n,r){Lt(""!==t.uid);const o=t.isAuthenticated()?t.uid:"";return new YE(o,e,n,r)}checkEmpty(t){let e=!0;const n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Yu(t).Z({index:"userMutationsIndex",range:n},(r,o,d)=>{e=!1,d.done()}).next(()=>e)}addMutationBatch(t,e,n,r){const o=y_(t),d=Yu(t);return d.add({}).next(h=>{Lt("number"==typeof h);const g=new JA(h,e,n,r),b=function(T,F,H){const X=H.baseMutations.map(je=>D0(T.se,je)),ne=H.mutations.map(je=>D0(T.se,je));return{userId:F,batchId:H.batchId,localWriteTimeMs:H.localWriteTime.toMillis(),baseMutations:X,mutations:ne}}(this.serializer,this.userId,g),x=[];let k=new cn((T,F)=>ui(T.canonicalString(),F.canonicalString()));for(const T of r){const F=eV(this.userId,T.key.path,h);k=k.add(T.key.path.popLast()),x.push(d.put(b)),x.push(o.put(F,nW))}return k.forEach(T=>{x.push(this.indexManager.addToCollectionParentIndex(t,T))}),t.addOnCommittedListener(()=>{this.pn[h]=g.keys()}),de.waitFor(x).next(()=>g)})}lookupMutationBatch(t,e){return Yu(t).get(e).next(n=>n?(Lt(n.userId===this.userId),_p(this.serializer,n)):null)}In(t,e){return this.pn[e]?de.resolve(this.pn[e]):this.lookupMutationBatch(t,e).next(n=>{if(n){const r=n.keys();return this.pn[e]=r,r}return null})}getNextMutationBatchAfterBatchId(t,e){const n=e+1,r=IDBKeyRange.lowerBound([this.userId,n]);let o=null;return Yu(t).Z({index:"userMutationsIndex",range:r},(d,h,g)=>{h.userId===this.userId&&(Lt(h.batchId>=n),o=_p(this.serializer,h)),g.done()}).next(()=>o)}getHighestUnacknowledgedBatchId(t){const e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let n=-1;return Yu(t).Z({index:"userMutationsIndex",range:e,reverse:!0},(r,o,d)=>{n=o.batchId,d.done()}).next(()=>n)}getAllMutationBatches(t){const e=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Yu(t).j("userMutationsIndex",e).next(n=>n.map(r=>_p(this.serializer,r)))}getAllMutationBatchesAffectingDocumentKey(t,e){const n=kE(this.userId,e.path),r=IDBKeyRange.lowerBound(n),o=[];return y_(t).Z({range:r},(d,h,g)=>{const[b,x,k]=d,T=Jc(x);if(b===this.userId&&e.path.isEqual(T))return Yu(t).get(k).next(F=>{if(!F)throw St();Lt(F.userId===this.userId),o.push(_p(this.serializer,F))});g.done()}).next(()=>o)}getAllMutationBatchesAffectingDocumentKeys(t,e){let n=new cn(ui);const r=[];return e.forEach(o=>{const d=kE(this.userId,o.path),h=IDBKeyRange.lowerBound(d),g=y_(t).Z({range:h},(b,x,k)=>{const[T,F,H]=b,X=Jc(F);T===this.userId&&o.path.isEqual(X)?n=n.add(H):k.done()});r.push(g)}),de.waitFor(r).next(()=>this.Tn(t,n))}getAllMutationBatchesAffectingQuery(t,e){const n=e.path,r=n.length+1,o=kE(this.userId,n),d=IDBKeyRange.lowerBound(o);let h=new cn(ui);return y_(t).Z({range:d},(g,b,x)=>{const[k,T,F]=g,H=Jc(T);k===this.userId&&n.isPrefixOf(H)?H.length===r&&(h=h.add(F)):x.done()}).next(()=>this.Tn(t,h))}Tn(t,e){const n=[],r=[];return e.forEach(o=>{r.push(Yu(t).get(o).next(d=>{if(null===d)throw St();Lt(d.userId===this.userId),n.push(_p(this.serializer,d))}))}),de.waitFor(r).next(()=>n)}removeMutationBatch(t,e){return kH(t.at,this.userId,e).next(n=>(t.addOnCommittedListener(()=>{this.En(e.batchId)}),de.forEach(n,r=>this.referenceDelegate.markPotentiallyOrphaned(t,r))))}En(t){delete this.pn[t]}performConsistencyCheck(t){return this.checkEmpty(t).next(e=>{if(!e)return de.resolve();const n=IDBKeyRange.lowerBound([this.userId]),r=[];return y_(t).Z({range:n},(o,d,h)=>{if(o[0]===this.userId){const g=Jc(o[1]);r.push(g)}else h.done()}).next(()=>{Lt(0===r.length)})})}containsKey(t,e){return MH(t,this.userId,e)}An(t){return IH(t).get(this.userId).next(e=>e||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function MH(i,t,e){const n=kE(t,e.path),r=n[1],o=IDBKeyRange.lowerBound(n);let d=!1;return y_(i).Z({range:o,Y:!0},(h,g,b)=>{const[x,k,T]=h;x===t&&k===r&&(d=!0),b.done()}).next(()=>d)}function Yu(i){return Ur(i,"mutations")}function y_(i){return Ur(i,"documentMutations")}function IH(i){return Ur(i,"mutationQueues")}class yp{constructor(t){this.Rn=t}next(){return this.Rn+=2,this.Rn}static vn(){return new yp(0)}static bn(){return new yp(-1)}}class vZ{constructor(t,e){this.referenceDelegate=t,this.serializer=e}allocateTargetId(t){return this.Pn(t).next(e=>{const n=new yp(e.highestTargetId);return e.highestTargetId=n.next(),this.Vn(t,e).next(()=>e.highestTargetId)})}getLastRemoteSnapshotVersion(t){return this.Pn(t).next(e=>Ut.fromTimestamp(new On(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(t){return this.Pn(t).next(e=>e.highestListenSequenceNumber)}setTargetsMetadata(t,e,n){return this.Pn(t).next(r=>(r.highestListenSequenceNumber=e,n&&(r.lastRemoteSnapshotVersion=n.toTimestamp()),e>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=e),this.Vn(t,r)))}addTargetData(t,e){return this.Sn(t,e).next(()=>this.Pn(t).next(n=>(n.targetCount+=1,this.Dn(e,n),this.Vn(t,n))))}updateTargetData(t,e){return this.Sn(t,e)}removeTargetData(t,e){return this.removeMatchingKeysForTargetId(t,e.targetId).next(()=>w_(t).delete(e.targetId)).next(()=>this.Pn(t)).next(n=>(Lt(n.targetCount>0),n.targetCount-=1,this.Vn(t,n)))}removeTargets(t,e,n){let r=0;const o=[];return w_(t).Z((d,h)=>{const g=E0(h);g.sequenceNumber<=e&&null===n.get(g.targetId)&&(r++,o.push(this.removeTargetData(t,g)))}).next(()=>de.waitFor(o)).next(()=>r)}forEachTarget(t,e){return w_(t).Z((n,r)=>{const o=E0(r);e(o)})}Pn(t){return SH(t).get("targetGlobalKey").next(e=>(Lt(null!==e),e))}Vn(t,e){return SH(t).put("targetGlobalKey",e)}Sn(t,e){return w_(t).put(mH(this.serializer,e))}Dn(t,e){let n=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,n=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,n=!0),n}getTargetCount(t){return this.Pn(t).next(e=>e.targetCount)}getTargetData(t,e){const n=up(e),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]);let o=null;return w_(t).Z({range:r,index:"queryTargetsIndex"},(d,h,g)=>{const b=E0(h);m0(e,b.target)&&(o=b,g.done())}).next(()=>o)}addMatchingKeys(t,e,n){const r=[],o=qu(t);return e.forEach(d=>{const h=qo(d.path);r.push(o.put({targetId:n,path:h})),r.push(this.referenceDelegate.addReference(t,n,d))}),de.waitFor(r)}removeMatchingKeys(t,e,n){const r=qu(t);return de.forEach(e,o=>{const d=qo(o.path);return de.waitFor([r.delete([n,d]),this.referenceDelegate.removeReference(t,n,o)])})}removeMatchingKeysForTargetId(t,e){const n=qu(t),r=IDBKeyRange.bound([e],[e+1],!1,!0);return n.delete(r)}getMatchingKeysForTargetId(t,e){const n=IDBKeyRange.bound([e],[e+1],!1,!0),r=qu(t);let o=xi();return r.Z({range:n,Y:!0},(d,h,g)=>{const b=Jc(d[1]),x=new dt(b);o=o.add(x)}).next(()=>o)}containsKey(t,e){const n=qo(e.path),r=IDBKeyRange.bound([n],[$B(n)],!1,!0);let o=0;return qu(t).Z({index:"documentTargetsIndex",Y:!0,range:r},([d,h],g,b)=>{0!==d&&(o++,b.done())}).next(()=>o>0)}ne(t,e){return w_(t).get(e).next(n=>n?E0(n):null)}}function w_(i){return Ur(i,"targets")}function SH(i){return Ur(i,"targetGlobal")}function qu(i){return Ur(i,"targetDocuments")}function TH([i,t],[e,n]){const r=ui(i,e);return 0===r?ui(t,n):r}class bZ{constructor(t){this.Cn=t,this.buffer=new cn(TH),this.xn=0}Nn(){return++this.xn}kn(t){const e=[t,this.Nn()];if(this.buffer.size<this.Cn)this.buffer=this.buffer.add(e);else{const n=this.buffer.last();TH(e,n)<0&&(this.buffer=this.buffer.delete(n).add(e))}}get maxValue(){return this.buffer.last()[0]}}class yZ{constructor(t,e,n){this.garbageCollector=t,this.asyncQueue=e,this.localStore=n,this.On=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.$n(6e4)}stop(){this.On&&(this.On.cancel(),this.On=null)}get started(){return null!==this.On}$n(t){var e=this;ze("LruGarbageCollector",`Garbage collection scheduled in ${t}ms`),this.On=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(0,ke.Z)(function*(){e.On=null;try{yield e.localStore.collectGarbage(e.garbageCollector)}catch(n){Nu(n)?ze("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",n):yield Fu(n)}yield e.$n(3e5)}))}}class wZ{constructor(t,e){this.Mn=t,this.params=e}calculateTargetCount(t,e){return this.Mn.Fn(t).next(n=>Math.floor(e/100*n))}nthSequenceNumber(t,e){if(0===e)return de.resolve(js.ct);const n=new bZ(e);return this.Mn.forEachTarget(t,r=>n.kn(r.sequenceNumber)).next(()=>this.Mn.Bn(t,r=>n.kn(r))).next(()=>n.maxValue)}removeTargets(t,e,n){return this.Mn.removeTargets(t,e,n)}removeOrphanedDocuments(t,e){return this.Mn.removeOrphanedDocuments(t,e)}collect(t,e){return-1===this.params.cacheSizeCollectionThreshold?(ze("LruGarbageCollector","Garbage collection skipped; disabled"),de.resolve(EH)):this.getCacheSize(t).next(n=>n<this.params.cacheSizeCollectionThreshold?(ze("LruGarbageCollector",`Garbage collection skipped; Cache size ${n} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),EH):this.Ln(t,e))}getCacheSize(t){return this.Mn.getCacheSize(t)}Ln(t,e){let n,r,o,d,h,g,b;const x=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(k=>(k>this.params.maximumSequenceNumbersToCollect?(ze("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${k}`),r=this.params.maximumSequenceNumbersToCollect):r=k,d=Date.now(),this.nthSequenceNumber(t,r))).next(k=>(n=k,h=Date.now(),this.removeTargets(t,n,e))).next(k=>(o=k,g=Date.now(),this.removeOrphanedDocuments(t,n))).next(k=>(b=Date.now(),PA()<=Au.in.DEBUG&&ze("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${d-x}ms\n\tDetermined least recently used ${r} in `+(h-d)+`ms\n\tRemoved ${o} targets in `+(g-h)+`ms\n\tRemoved ${k} documents in `+(b-g)+`ms\nTotal Duration: ${b-x}ms`),de.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:o,documentsRemoved:k})))}}class xZ{constructor(t,e){this.db=t,this.garbageCollector=new wZ(this,e)}Fn(t){const e=this.qn(t);return this.db.getTargetCache().getTargetCount(t).next(n=>e.next(r=>n+r))}qn(t){let e=0;return this.Bn(t,n=>{e++}).next(()=>e)}forEachTarget(t,e){return this.db.getTargetCache().forEachTarget(t,e)}Bn(t,e){return this.Un(t,(n,r)=>e(r))}addReference(t,e,n){return qE(t,n)}removeReference(t,e,n){return qE(t,n)}removeTargets(t,e,n){return this.db.getTargetCache().removeTargets(t,e,n)}markPotentiallyOrphaned(t,e){return qE(t,e)}Kn(t,e){return function(n,r){let o=!1;return IH(n).X(d=>MH(n,d,r).next(h=>(h&&(o=!0),de.resolve(!h)))).next(()=>o)}(t,e)}removeOrphanedDocuments(t,e){const n=this.db.getRemoteDocumentCache().newChangeBuffer(),r=[];let o=0;return this.Un(t,(d,h)=>{if(h<=e){const g=this.Kn(t,d).next(b=>{if(!b)return o++,n.getEntry(t,d).next(()=>(n.removeEntry(d,Ut.min()),qu(t).delete([0,qo(d.path)])))});r.push(g)}}).next(()=>de.waitFor(r)).next(()=>n.apply(t)).next(()=>o)}removeTarget(t,e){const n=e.withSequenceNumber(t.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(t,n)}updateLimboDocument(t,e){return qE(t,e)}Un(t,e){const n=qu(t);let r,o=js.ct;return n.Z({index:"documentTargetsIndex"},([d,h],{path:g,sequenceNumber:b})=>{0===d?(o!==js.ct&&e(new dt(Jc(r)),o),o=b,r=g):o=js.ct}).next(()=>{o!==js.ct&&e(new dt(Jc(r)),o)})}getCacheSize(t){return this.db.getRemoteDocumentCache().getSize(t)}}function qE(i,t){return qu(i).put((n=i.currentSequenceNumber,{targetId:0,path:qo(t.path),sequenceNumber:n}));var n}class AH{constructor(){this.changes=new zu(t=>t.toString(),(t,e)=>t.isEqual(e)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,e){this.assertNotApplied(),this.changes.set(t,Cn.newInvalidDocument(t).setReadTime(e))}getEntry(t,e){this.assertNotApplied();const n=this.changes.get(e);return void 0!==n?de.resolve(n):this.getFromCache(t,e)}getEntries(t,e){return this.getAllFromCache(t,e)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class CZ{constructor(t){this.serializer=t}setIndexManager(t){this.indexManager=t}addEntry(t,e,n){return wp(t).put(n)}removeEntry(t,e,n){return wp(t).delete(function(r,o){const d=r.path.toArray();return[d.slice(0,d.length-2),d[d.length-2],HE(o),d[d.length-1]]}(e,n))}updateMetadata(t,e){return this.getMetadata(t).next(n=>(n.byteSize+=e,this.Gn(t,n)))}getEntry(t,e){let n=Cn.newInvalidDocument(e);return wp(t).Z({index:"documentKeyIndex",range:IDBKeyRange.only(T0(e))},(r,o)=>{n=this.Qn(e,o)}).next(()=>n)}zn(t,e){let n={size:0,document:Cn.newInvalidDocument(e)};return wp(t).Z({index:"documentKeyIndex",range:IDBKeyRange.only(T0(e))},(r,o)=>{n={document:this.Qn(e,o),size:$E(o)}}).next(()=>n)}getEntries(t,e){let n=fs();return this.jn(t,e,(r,o)=>{const d=this.Qn(r,o);n=n.insert(r,d)}).next(()=>n)}Wn(t,e){let n=fs(),r=new Jn(dt.comparator);return this.jn(t,e,(o,d)=>{const h=this.Qn(o,d);n=n.insert(o,h),r=r.insert(o,$E(d))}).next(()=>({documents:n,Hn:r}))}jn(t,e,n){if(e.isEmpty())return de.resolve();let r=new cn(FH);e.forEach(g=>r=r.add(g));const o=IDBKeyRange.bound(T0(r.first()),T0(r.last())),d=r.getIterator();let h=d.getNext();return wp(t).Z({index:"documentKeyIndex",range:o},(g,b,x)=>{const k=dt.fromSegments([...b.prefixPath,b.collectionGroup,b.documentId]);for(;h&&FH(h,k)<0;)n(h,null),h=d.getNext();h&&h.isEqual(k)&&(n(h,b),h=d.hasNext()?d.getNext():null),h?x.G(T0(h)):x.done()}).next(()=>{for(;h;)n(h,null),h=d.hasNext()?d.getNext():null})}getDocumentsMatchingQuery(t,e,n,r){const o=e.path,d=[o.popLast().toArray(),o.lastSegment(),HE(n.readTime),n.documentKey.path.isEmpty()?"":n.documentKey.path.lastSegment()],h=[o.popLast().toArray(),o.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return wp(t).j(IDBKeyRange.bound(d,h,!0)).next(g=>{let b=fs();for(const x of g){const k=this.Qn(dt.fromSegments(x.prefixPath.concat(x.collectionGroup,x.documentId)),x);k.isFoundDocument()&&(f0(e,k)||r.has(k.key))&&(b=b.insert(k.key,k))}return b})}getAllFromCollectionGroup(t,e,n,r){let o=fs();const d=PH(e,n),h=PH(e,zs.max());return wp(t).Z({index:"collectionGroupIndex",range:IDBKeyRange.bound(d,h,!0)},(g,b,x)=>{const k=this.Qn(dt.fromSegments(b.prefixPath.concat(b.collectionGroup,b.documentId)),b);o=o.insert(k.key,k),o.size===r&&x.done()}).next(()=>o)}newChangeBuffer(t){return new DZ(this,!!t&&t.trackRemovals)}getSize(t){return this.getMetadata(t).next(e=>e.byteSize)}getMetadata(t){return OH(t).get("remoteDocumentGlobalKey").next(e=>(Lt(!!e),e))}Gn(t,e){return OH(t).put("remoteDocumentGlobalKey",e)}Qn(t,e){if(e){const n=function cZ(i,t){let e;if(t.document)e=oH(i.se,t.document,!!t.hasCommittedMutations);else if(t.noDocument){const n=dt.fromSegments(t.noDocument.path),r=gp(t.noDocument.readTime);e=Cn.newNoDocument(n,r),t.hasCommittedMutations&&e.setHasCommittedMutations()}else{if(!t.unknownDocument)return St();{const n=dt.fromSegments(t.unknownDocument.path),r=gp(t.unknownDocument.version);e=Cn.newUnknownDocument(n,r)}}return t.readTime&&e.setReadTime(function(n){const r=new On(n[0],n[1]);return Ut.fromTimestamp(r)}(t.readTime)),e}(this.serializer,e);if(!n.isNoDocument()||!n.version.isEqual(Ut.min()))return n}return Cn.newInvalidDocument(t)}}function RH(i){return new CZ(i)}class DZ extends AH{constructor(t,e){super(),this.Jn=t,this.trackRemovals=e,this.Yn=new zu(n=>n.toString(),(n,r)=>n.isEqual(r))}applyChanges(t){const e=[];let n=0,r=new cn((o,d)=>ui(o.canonicalString(),d.canonicalString()));return this.changes.forEach((o,d)=>{const h=this.Yn.get(o);if(e.push(this.Jn.removeEntry(t,o,h.readTime)),d.isValidDocument()){const g=hH(this.Jn.serializer,d);r=r.add(o.path.popLast());const b=$E(g);n+=b-h.size,e.push(this.Jn.addEntry(t,o,g))}else if(n-=h.size,this.trackRemovals){const g=hH(this.Jn.serializer,d.convertToNoDocument(Ut.min()));e.push(this.Jn.addEntry(t,o,g))}}),r.forEach(o=>{e.push(this.Jn.indexManager.addToCollectionParentIndex(t,o))}),e.push(this.Jn.updateMetadata(t,n)),de.waitFor(e)}getFromCache(t,e){return this.Jn.zn(t,e).next(n=>(this.Yn.set(e,{size:n.size,readTime:n.document.readTime}),n.document))}getAllFromCache(t,e){return this.Jn.Wn(t,e).next(({documents:n,Hn:r})=>(r.forEach((o,d)=>{this.Yn.set(o,{size:d,readTime:n.get(o).readTime})}),n))}}function OH(i){return Ur(i,"remoteDocumentGlobal")}function wp(i){return Ur(i,"remoteDocumentsV14")}function T0(i){const t=i.path.toArray();return[t.slice(0,t.length-2),t[t.length-2],t[t.length-1]]}function PH(i,t){const e=t.documentKey.path.toArray();return[i,HE(t.readTime),e.slice(0,e.length-2),e.length>0?e[e.length-1]:""]}function FH(i,t){const e=i.path.toArray(),n=t.path.toArray();let r=0;for(let o=0;o<e.length-2&&o<n.length-2;++o)if(r=ui(e[o],n[o]),r)return r;return r=ui(e.length,n.length),r||(r=ui(e[e.length-2],n[n.length-2]),r||ui(e[e.length-1],n[n.length-1]))}class EZ{constructor(t,e){this.overlayedDocument=t,this.mutatedFields=e}}class NH{constructor(t,e,n,r){this.remoteDocumentCache=t,this.mutationQueue=e,this.documentOverlayCache=n,this.indexManager=r}getDocument(t,e){let n=null;return this.documentOverlayCache.getOverlay(t,e).next(r=>(n=r,this.remoteDocumentCache.getEntry(t,e))).next(r=>(null!==n&&b0(n.mutation,r,ps.empty(),On.now()),r))}getDocuments(t,e){return this.remoteDocumentCache.getEntries(t,e).next(n=>this.getLocalViewOfDocuments(t,n,xi()).next(()=>n))}getLocalViewOfDocuments(t,e,n=xi()){const r=tl();return this.populateOverlays(t,r,e).next(()=>this.computeViews(t,e,r,n).next(o=>{let d=g0();return o.forEach((h,g)=>{d=d.insert(h,g.overlayedDocument)}),d}))}getOverlayedDocuments(t,e){const n=tl();return this.populateOverlays(t,n,e).next(()=>this.computeViews(t,e,n,xi()))}populateOverlays(t,e,n){const r=[];return n.forEach(o=>{e.has(o)||r.push(o)}),this.documentOverlayCache.getOverlays(t,r).next(o=>{o.forEach((d,h)=>{e.set(d,h)})})}computeViews(t,e,n,r){let o=fs();const d=_0(),h=_0();return e.forEach((g,b)=>{const x=n.get(b.key);r.has(b.key)&&(void 0===x||x.mutation instanceof dd)?o=o.insert(b.key,b):void 0!==x?(d.set(b.key,x.mutation.getFieldMask()),b0(x.mutation,b,x.mutation.getFieldMask(),On.now())):d.set(b.key,ps.empty())}),this.recalculateAndSaveOverlays(t,o).next(g=>(g.forEach((b,x)=>d.set(b,x)),e.forEach((b,x)=>{var k;return h.set(b,new EZ(x,null!==(k=d.get(b))&&void 0!==k?k:null))}),h))}recalculateAndSaveOverlays(t,e){const n=_0();let r=new Jn((d,h)=>d-h),o=xi();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,e).next(d=>{for(const h of d)h.keys().forEach(g=>{const b=e.get(g);if(null===b)return;let x=n.get(g)||ps.empty();x=h.applyToLocalView(b,x),n.set(g,x);const k=(r.get(h.batchId)||xi()).add(g);r=r.insert(h.batchId,k)})}).next(()=>{const d=[],h=r.getReverseIterator();for(;h.hasNext();){const g=h.getNext(),b=g.key,x=g.value,k=OV();x.forEach(T=>{if(!o.has(T)){const F=zV(e.get(T),n.get(T));null!==F&&k.set(T,F),o=o.add(T)}}),d.push(this.documentOverlayCache.saveOverlays(t,b,k))}return de.waitFor(d)}).next(()=>n)}recalculateAndSaveOverlaysForDocumentKeys(t,e){return this.remoteDocumentCache.getEntries(t,e).next(n=>this.recalculateAndSaveOverlays(t,n))}getDocumentsMatchingQuery(t,e,n){return dt.isDocumentKey((r=e).path)&&null===r.collectionGroup&&0===r.filters.length?this.getDocumentsMatchingDocumentQuery(t,e.path):ZA(e)?this.getDocumentsMatchingCollectionGroupQuery(t,e,n):this.getDocumentsMatchingCollectionQuery(t,e,n);var r}getNextDocuments(t,e,n,r){return this.remoteDocumentCache.getAllFromCollectionGroup(t,e,n,r).next(o=>{const d=r-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,e,n.largestBatchId,r-o.size):de.resolve(tl());let h=-1,g=o;return d.next(b=>de.forEach(b,(x,k)=>(h<k.largestBatchId&&(h=k.largestBatchId),o.get(x)?de.resolve():this.remoteDocumentCache.getEntry(t,x).next(T=>{g=g.insert(x,T)}))).next(()=>this.populateOverlays(t,b,o)).next(()=>this.computeViews(t,g,b,xi())).next(x=>({batchId:h,changes:RV(x)})))})}getDocumentsMatchingDocumentQuery(t,e){return this.getDocument(t,new dt(e)).next(n=>{let r=g0();return n.isFoundDocument()&&(r=r.insert(n.key,n)),r})}getDocumentsMatchingCollectionGroupQuery(t,e,n){const r=e.collectionGroup;let o=g0();return this.indexManager.getCollectionParents(t,r).next(d=>de.forEach(d,h=>{const g=(b=e,x=h.child(r),new ld(x,null,b.explicitOrderBy.slice(),b.filters.slice(),b.limit,b.limitType,b.startAt,b.endAt));var b,x;return this.getDocumentsMatchingCollectionQuery(t,g,n).next(b=>{b.forEach((x,k)=>{o=o.insert(x,k)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(t,e,n){let r;return this.documentOverlayCache.getOverlaysForCollection(t,e.path,n.largestBatchId).next(o=>(r=o,this.remoteDocumentCache.getDocumentsMatchingQuery(t,e,n,r))).next(o=>{r.forEach((h,g)=>{const b=g.getKey();null===o.get(b)&&(o=o.insert(b,Cn.newInvalidDocument(b)))});let d=g0();return o.forEach((h,g)=>{const b=r.get(h);void 0!==b&&b0(b.mutation,g,ps.empty(),On.now()),f0(e,g)&&(d=d.insert(h,g))}),d})}}class kZ{constructor(t){this.serializer=t,this.Zn=new Map,this.Xn=new Map}getBundleMetadata(t,e){return de.resolve(this.Zn.get(e))}saveBundleMetadata(t,e){var n;return this.Zn.set(e.id,{id:(n=e).id,version:n.version,createTime:fr(n.createTime)}),de.resolve()}getNamedQuery(t,e){return de.resolve(this.Xn.get(e))}saveNamedQuery(t,e){return this.Xn.set(e.name,{name:(n=e).name,query:cR(n.bundledQuery),readTime:fr(n.readTime)}),de.resolve();var n}}class MZ{constructor(){this.overlays=new Jn(dt.comparator),this.ts=new Map}getOverlay(t,e){return de.resolve(this.overlays.get(e))}getOverlays(t,e){const n=tl();return de.forEach(e,r=>this.getOverlay(t,r).next(o=>{null!==o&&n.set(r,o)})).next(()=>n)}saveOverlays(t,e,n){return n.forEach((r,o)=>{this.re(t,e,o)}),de.resolve()}removeOverlaysForBatchId(t,e,n){const r=this.ts.get(n);return void 0!==r&&(r.forEach(o=>this.overlays=this.overlays.remove(o)),this.ts.delete(n)),de.resolve()}getOverlaysForCollection(t,e,n){const r=tl(),o=e.length+1,d=new dt(e.child("")),h=this.overlays.getIteratorFrom(d);for(;h.hasNext();){const g=h.getNext().value,b=g.getKey();if(!e.isPrefixOf(b.path))break;b.path.length===o&&g.largestBatchId>n&&r.set(g.getKey(),g)}return de.resolve(r)}getOverlaysForCollectionGroup(t,e,n,r){let o=new Jn((b,x)=>b-x);const d=this.overlays.getIterator();for(;d.hasNext();){const b=d.getNext().value;if(b.getKey().getCollectionGroup()===e&&b.largestBatchId>n){let x=o.get(b.largestBatchId);null===x&&(x=tl(),o=o.insert(b.largestBatchId,x)),x.set(b.getKey(),b)}}const h=tl(),g=o.getIterator();for(;g.hasNext()&&(g.getNext().value.forEach((b,x)=>h.set(b,x)),!(h.size()>=r)););return de.resolve(h)}re(t,e,n){const r=this.overlays.get(n.key);if(null!==r){const d=this.ts.get(r.largestBatchId).delete(n.key);this.ts.set(r.largestBatchId,d)}this.overlays=this.overlays.insert(n.key,new tR(e,n));let o=this.ts.get(e);void 0===o&&(o=xi(),this.ts.set(e,o)),this.ts.set(e,o.add(n.key))}}class fR{constructor(){this.es=new cn(jr.ns),this.ss=new cn(jr.rs)}isEmpty(){return this.es.isEmpty()}addReference(t,e){const n=new jr(t,e);this.es=this.es.add(n),this.ss=this.ss.add(n)}os(t,e){t.forEach(n=>this.addReference(n,e))}removeReference(t,e){this.us(new jr(t,e))}cs(t,e){t.forEach(n=>this.removeReference(n,e))}hs(t){const e=new dt(new Ai([])),n=new jr(e,t),r=new jr(e,t+1),o=[];return this.ss.forEachInRange([n,r],d=>{this.us(d),o.push(d.key)}),o}ls(){this.es.forEach(t=>this.us(t))}us(t){this.es=this.es.delete(t),this.ss=this.ss.delete(t)}fs(t){const e=new dt(new Ai([])),n=new jr(e,t),r=new jr(e,t+1);let o=xi();return this.ss.forEachInRange([n,r],d=>{o=o.add(d.key)}),o}containsKey(t){const e=new jr(t,0),n=this.es.firstAfterOrEqual(e);return null!==n&&t.isEqual(n.key)}}class jr{constructor(t,e){this.key=t,this.ds=e}static ns(t,e){return dt.comparator(t.key,e.key)||ui(t.ds,e.ds)}static rs(t,e){return ui(t.ds,e.ds)||dt.comparator(t.key,e.key)}}class IZ{constructor(t,e){this.indexManager=t,this.referenceDelegate=e,this.mutationQueue=[],this.ws=1,this._s=new cn(jr.ns)}checkEmpty(t){return de.resolve(0===this.mutationQueue.length)}addMutationBatch(t,e,n,r){const o=this.ws;this.ws++;const d=new JA(o,e,n,r);this.mutationQueue.push(d);for(const h of r)this._s=this._s.add(new jr(h.key,o)),this.indexManager.addToCollectionParentIndex(t,h.key.path.popLast());return de.resolve(d)}lookupMutationBatch(t,e){return de.resolve(this.gs(e))}getNextMutationBatchAfterBatchId(t,e){const r=this.ys(e+1),o=r<0?0:r;return de.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return de.resolve(0===this.mutationQueue.length?-1:this.ws-1)}getAllMutationBatches(t){return de.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,e){const n=new jr(e,0),r=new jr(e,Number.POSITIVE_INFINITY),o=[];return this._s.forEachInRange([n,r],d=>{const h=this.gs(d.ds);o.push(h)}),de.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(t,e){let n=new cn(ui);return e.forEach(r=>{const o=new jr(r,0),d=new jr(r,Number.POSITIVE_INFINITY);this._s.forEachInRange([o,d],h=>{n=n.add(h.ds)})}),de.resolve(this.ps(n))}getAllMutationBatchesAffectingQuery(t,e){const n=e.path,r=n.length+1;let o=n;dt.isDocumentKey(o)||(o=o.child(""));const d=new jr(new dt(o),0);let h=new cn(ui);return this._s.forEachWhile(g=>{const b=g.key.path;return!!n.isPrefixOf(b)&&(b.length===r&&(h=h.add(g.ds)),!0)},d),de.resolve(this.ps(h))}ps(t){const e=[];return t.forEach(n=>{const r=this.gs(n);null!==r&&e.push(r)}),e}removeMutationBatch(t,e){Lt(0===this.Is(e.batchId,"removed")),this.mutationQueue.shift();let n=this._s;return de.forEach(e.mutations,r=>{const o=new jr(r.key,e.batchId);return n=n.delete(o),this.referenceDelegate.markPotentiallyOrphaned(t,r.key)}).next(()=>{this._s=n})}En(t){}containsKey(t,e){const n=new jr(e,0),r=this._s.firstAfterOrEqual(n);return de.resolve(e.isEqual(r&&r.key))}performConsistencyCheck(t){return de.resolve()}Is(t,e){return this.ys(t)}ys(t){return 0===this.mutationQueue.length?0:t-this.mutationQueue[0].batchId}gs(t){const e=this.ys(t);return e<0||e>=this.mutationQueue.length?null:this.mutationQueue[e]}}class SZ{constructor(t){this.Ts=t,this.docs=new Jn(dt.comparator),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,e){const n=e.key,r=this.docs.get(n),o=r?r.size:0,d=this.Ts(e);return this.docs=this.docs.insert(n,{document:e.mutableCopy(),size:d}),this.size+=d-o,this.indexManager.addToCollectionParentIndex(t,n.path.popLast())}removeEntry(t){const e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)}getEntry(t,e){const n=this.docs.get(e);return de.resolve(n?n.document.mutableCopy():Cn.newInvalidDocument(e))}getEntries(t,e){let n=fs();return e.forEach(r=>{const o=this.docs.get(r);n=n.insert(r,o?o.document.mutableCopy():Cn.newInvalidDocument(r))}),de.resolve(n)}getDocumentsMatchingQuery(t,e,n,r){let o=fs();const d=e.path,h=new dt(d.child("")),g=this.docs.getIteratorFrom(h);for(;g.hasNext();){const{key:b,value:{document:x}}=g.getNext();if(!d.isPrefixOf(b.path))break;b.path.length>d.length+1||LA(qB(x),n)<=0||(r.has(x.key)||f0(e,x))&&(o=o.insert(x.key,x.mutableCopy()))}return de.resolve(o)}getAllFromCollectionGroup(t,e,n,r){St()}Es(t,e){return de.forEach(this.docs,n=>e(n))}newChangeBuffer(t){return new TZ(this)}getSize(t){return de.resolve(this.size)}}class TZ extends AH{constructor(t){super(),this.Jn=t}applyChanges(t){const e=[];return this.changes.forEach((n,r)=>{r.isValidDocument()?e.push(this.Jn.addEntry(t,r)):this.Jn.removeEntry(n)}),de.waitFor(e)}getFromCache(t,e){return this.Jn.getEntry(t,e)}getAllFromCache(t,e){return this.Jn.getEntries(t,e)}}class AZ{constructor(t){this.persistence=t,this.As=new zu(e=>up(e),m0),this.lastRemoteSnapshotVersion=Ut.min(),this.highestTargetId=0,this.Rs=0,this.vs=new fR,this.targetCount=0,this.bs=yp.vn()}forEachTarget(t,e){return this.As.forEach((n,r)=>e(r)),de.resolve()}getLastRemoteSnapshotVersion(t){return de.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return de.resolve(this.Rs)}allocateTargetId(t){return this.highestTargetId=this.bs.next(),de.resolve(this.highestTargetId)}setTargetsMetadata(t,e,n){return n&&(this.lastRemoteSnapshotVersion=n),e>this.Rs&&(this.Rs=e),de.resolve()}Sn(t){this.As.set(t.target,t);const e=t.targetId;e>this.highestTargetId&&(this.bs=new yp(e),this.highestTargetId=e),t.sequenceNumber>this.Rs&&(this.Rs=t.sequenceNumber)}addTargetData(t,e){return this.Sn(e),this.targetCount+=1,de.resolve()}updateTargetData(t,e){return this.Sn(e),de.resolve()}removeTargetData(t,e){return this.As.delete(e.target),this.vs.hs(e.targetId),this.targetCount-=1,de.resolve()}removeTargets(t,e,n){let r=0;const o=[];return this.As.forEach((d,h)=>{h.sequenceNumber<=e&&null===n.get(h.targetId)&&(this.As.delete(d),o.push(this.removeMatchingKeysForTargetId(t,h.targetId)),r++)}),de.waitFor(o).next(()=>r)}getTargetCount(t){return de.resolve(this.targetCount)}getTargetData(t,e){const n=this.As.get(e)||null;return de.resolve(n)}addMatchingKeys(t,e,n){return this.vs.os(e,n),de.resolve()}removeMatchingKeys(t,e,n){this.vs.cs(e,n);const r=this.persistence.referenceDelegate,o=[];return r&&e.forEach(d=>{o.push(r.markPotentiallyOrphaned(t,d))}),de.waitFor(o)}removeMatchingKeysForTargetId(t,e){return this.vs.hs(e),de.resolve()}getMatchingKeysForTargetId(t,e){const n=this.vs.fs(e);return de.resolve(n)}containsKey(t,e){return de.resolve(this.vs.containsKey(e))}}class LH{constructor(t,e){this.Ps={},this.overlays={},this.Vs=new js(0),this.Ss=!1,this.Ss=!0,this.referenceDelegate=t(this),this.Ds=new AZ(this),this.indexManager=new gZ,this.remoteDocumentCache=new SZ(n=>this.referenceDelegate.Cs(n)),this.serializer=new uH(e),this.xs=new kZ(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Ss=!1,Promise.resolve()}get started(){return this.Ss}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let e=this.overlays[t.toKey()];return e||(e=new MZ,this.overlays[t.toKey()]=e),e}getMutationQueue(t,e){let n=this.Ps[t.toKey()];return n||(n=new IZ(e,this.referenceDelegate),this.Ps[t.toKey()]=n),n}getTargetCache(){return this.Ds}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.xs}runTransaction(t,e,n){ze("MemoryPersistence","Starting transaction:",t);const r=new RZ(this.Vs.next());return this.referenceDelegate.Ns(),n(r).next(o=>this.referenceDelegate.ks(r).next(()=>o)).toPromise().then(o=>(r.raiseOnCommittedEvent(),o))}Os(t,e){return de.or(Object.values(this.Ps).map(n=>()=>n.containsKey(t,e)))}}class RZ extends ZB{constructor(t){super(),this.currentSequenceNumber=t}}class WE{constructor(t){this.persistence=t,this.$s=new fR,this.Ms=null}static Fs(t){return new WE(t)}get Bs(){if(this.Ms)return this.Ms;throw St()}addReference(t,e,n){return this.$s.addReference(n,e),this.Bs.delete(n.toString()),de.resolve()}removeReference(t,e,n){return this.$s.removeReference(n,e),this.Bs.add(n.toString()),de.resolve()}markPotentiallyOrphaned(t,e){return this.Bs.add(e.toString()),de.resolve()}removeTarget(t,e){this.$s.hs(e.targetId).forEach(r=>this.Bs.add(r.toString()));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(t,e.targetId).next(r=>{r.forEach(o=>this.Bs.add(o.toString()))}).next(()=>n.removeTargetData(t,e))}Ns(){this.Ms=new Set}ks(t){const e=this.persistence.getRemoteDocumentCache().newChangeBuffer();return de.forEach(this.Bs,n=>{const r=dt.fromPath(n);return this.Ls(t,r).next(o=>{o||e.removeEntry(r,Ut.min())})}).next(()=>(this.Ms=null,e.apply(t)))}updateLimboDocument(t,e){return this.Ls(t,e).next(n=>{n?this.Bs.delete(e.toString()):this.Bs.add(e.toString())})}Cs(t){return 0}Ls(t,e){return de.or([()=>de.resolve(this.$s.containsKey(e)),()=>this.persistence.getTargetCache().containsKey(t,e),()=>this.persistence.Os(t,e)])}}class OZ{constructor(t){this.serializer=t}M(t,e,n,r){const o=new EE("createOrUpgrade",e);var h;n<1&&r>=1&&(t.createObjectStore("owner"),(h=t).createObjectStore("mutationQueues",{keyPath:"userId"}),h.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",JB,{unique:!0}),h.createObjectStore("documentMutations"),BH(t),function(h){h.createObjectStore("remoteDocuments")}(t));let d=de.resolve();return n<3&&r>=3&&(0!==n&&(function(h){h.deleteObjectStore("targetDocuments"),h.deleteObjectStore("targets"),h.deleteObjectStore("targetGlobal")}(t),BH(t)),d=d.next(()=>function(h){const g=h.store("targetGlobal"),b={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Ut.min().toTimestamp(),targetCount:0};return g.put("targetGlobalKey",b)}(o))),n<4&&r>=4&&(0!==n&&(d=d.next(()=>function(h,g){return g.store("mutations").j().next(b=>{h.deleteObjectStore("mutations"),h.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",JB,{unique:!0});const x=g.store("mutations"),k=b.map(T=>x.put(T));return de.waitFor(k)})}(t,o))),d=d.next(()=>{!function(h){h.createObjectStore("clientMetadata",{keyPath:"clientId"})}(t)})),n<5&&r>=5&&(d=d.next(()=>this.qs(o))),n<6&&r>=6&&(d=d.next(()=>(function(h){h.createObjectStore("remoteDocumentGlobal")}(t),this.Us(o)))),n<7&&r>=7&&(d=d.next(()=>this.Ks(o))),n<8&&r>=8&&(d=d.next(()=>this.Gs(t,o))),n<9&&r>=9&&(d=d.next(()=>{!function(h){h.objectStoreNames.contains("remoteDocumentChanges")&&h.deleteObjectStore("remoteDocumentChanges")}(t)})),n<10&&r>=10&&(d=d.next(()=>this.Qs(o))),n<11&&r>=11&&(d=d.next(()=>{(function(h){h.createObjectStore("bundles",{keyPath:"bundleId"})})(t),function(h){h.createObjectStore("namedQueries",{keyPath:"name"})}(t)})),n<12&&r>=12&&(d=d.next(()=>{!function(h){const g=h.createObjectStore("documentOverlays",{keyPath:fW});g.createIndex("collectionPathOverlayIndex",gW,{unique:!1}),g.createIndex("collectionGroupOverlayIndex",_W,{unique:!1})}(t)})),n<13&&r>=13&&(d=d.next(()=>function(h){const g=h.createObjectStore("remoteDocumentsV14",{keyPath:rW});g.createIndex("documentKeyIndex",oW),g.createIndex("collectionGroupIndex",sW)}(t)).next(()=>this.zs(t,o)).next(()=>t.deleteObjectStore("remoteDocuments"))),n<14&&r>=14&&(d=d.next(()=>this.js(t,o))),n<15&&r>=15&&(d=d.next(()=>function(h){h.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),h.createObjectStore("indexState",{keyPath:uW}).createIndex("sequenceNumberIndex",hW,{unique:!1}),h.createObjectStore("indexEntries",{keyPath:mW}).createIndex("documentKeyIndex",pW,{unique:!1})}(t))),d}Us(t){let e=0;return t.store("remoteDocuments").Z((n,r)=>{e+=$E(r)}).next(()=>{const n={byteSize:e};return t.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",n)})}qs(t){const e=t.store("mutationQueues"),n=t.store("mutations");return e.j().next(r=>de.forEach(r,o=>{const d=IDBKeyRange.bound([o.userId,-1],[o.userId,o.lastAcknowledgedBatchId]);return n.j("userMutationsIndex",d).next(h=>de.forEach(h,g=>{Lt(g.userId===o.userId);const b=_p(this.serializer,g);return kH(t,o.userId,b).next(()=>{})}))}))}Ks(t){const e=t.store("targetDocuments"),n=t.store("remoteDocuments");return t.store("targetGlobal").get("targetGlobalKey").next(r=>{const o=[];return n.Z((d,h)=>{const g=new Ai(d),b=[0,qo(g)];o.push(e.get(b).next(x=>x?de.resolve():e.put({targetId:0,path:qo(g),sequenceNumber:r.highestListenSequenceNumber})))}).next(()=>de.waitFor(o))})}Gs(t,e){t.createObjectStore("collectionParents",{keyPath:dW});const n=e.store("collectionParents"),r=new pR,o=d=>{if(r.add(d)){const h=d.lastSegment(),g=d.popLast();return n.put({collectionId:h,parent:qo(g)})}};return e.store("remoteDocuments").Z({Y:!0},(d,h)=>{const g=new Ai(d);return o(g.popLast())}).next(()=>e.store("documentMutations").Z({Y:!0},([d,h,g],b)=>{const x=Jc(h);return o(x.popLast())}))}Qs(t){const e=t.store("targets");return e.Z((n,r)=>{const o=E0(r),d=mH(this.serializer,o);return e.put(d)})}zs(t,e){const n=e.store("remoteDocuments"),r=[];return n.Z((o,d)=>{const h=e.store("remoteDocumentsV14"),g=(b=d,b.document?new dt(Ai.fromString(b.document.name).popFirst(5)):b.noDocument?dt.fromSegments(b.noDocument.path):b.unknownDocument?dt.fromSegments(b.unknownDocument.path):St()).path.toArray();var b;const x={prefixPath:g.slice(0,g.length-2),collectionGroup:g[g.length-2],documentId:g[g.length-1],readTime:d.readTime||[0,0],unknownDocument:d.unknownDocument,noDocument:d.noDocument,document:d.document,hasCommittedMutations:!!d.hasCommittedMutations};r.push(h.put(x))}).next(()=>de.waitFor(r))}js(t,e){const n=e.store("mutations"),r=RH(this.serializer),o=new LH(WE.Fs,this.serializer.se);return n.j().next(d=>{const h=new Map;return d.forEach(g=>{var b;let x=null!==(b=h.get(g.userId))&&void 0!==b?b:xi();_p(this.serializer,g).keys().forEach(k=>x=x.add(k)),h.set(g.userId,x)}),de.forEach(h,(g,b)=>{const x=new Hr(b),k=UE.ie(this.serializer,x),T=o.getIndexManager(x),F=YE.ie(x,this.serializer,T,o.referenceDelegate);return new NH(r,F,k,T).recalculateAndSaveOverlaysForDocumentKeys(new HA(e,js.ct),g).next()})})}}function BH(i){i.createObjectStore("targetDocuments",{keyPath:cW}).createIndex("documentTargetsIndex",lW,{unique:!0}),i.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",aW,{unique:!0}),i.createObjectStore("targetGlobal")}const gR="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class _R{constructor(t,e,n,r,o,d,h,g,b,x,k=15){if(this.allowTabSynchronization=t,this.persistenceKey=e,this.clientId=n,this.Ws=o,this.window=d,this.document=h,this.Hs=b,this.Js=x,this.Ys=k,this.Vs=null,this.Ss=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Zs=null,this.inForeground=!1,this.Xs=null,this.ti=null,this.ei=Number.NEGATIVE_INFINITY,this.ni=T=>Promise.resolve(),!_R.D())throw new Pe(pe.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new xZ(this,r),this.si=e+"main",this.serializer=new uH(g),this.ii=new sc(this.si,this.Ys,new OZ(this.serializer)),this.Ds=new vZ(this.referenceDelegate,this.serializer),this.remoteDocumentCache=RH(this.serializer),this.xs=new lZ,this.window&&this.window.localStorage?this.ri=this.window.localStorage:(this.ri=null,!1===x&&pr("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.oi().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Pe(pe.FAILED_PRECONDITION,gR);return this.ui(),this.ci(),this.ai(),this.runTransaction("getHighestListenSequenceNumber","readonly",t=>this.Ds.getHighestSequenceNumber(t))}).then(t=>{this.Vs=new js(t,this.Hs)}).then(()=>{this.Ss=!0}).catch(t=>(this.ii&&this.ii.close(),Promise.reject(t)))}hi(t){var e=this;return this.ni=function(){var n=(0,ke.Z)(function*(r){if(e.started)return t(r)});return function(r){return n.apply(this,arguments)}}(),t(this.isPrimary)}setDatabaseDeletedListener(t){this.ii.B(function(){var e=(0,ke.Z)(function*(n){null===n.newVersion&&(yield t())});return function(n){return e.apply(this,arguments)}}())}setNetworkEnabled(t){var e=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.Ws.enqueueAndForget((0,ke.Z)(function*(){e.started&&(yield e.oi())})))}oi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",t=>ZE(t).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.li(t).next(e=>{e||(this.isPrimary=!1,this.Ws.enqueueRetryable(()=>this.ni(!1)))})}).next(()=>this.fi(t)).next(e=>this.isPrimary&&!e?this.di(t).next(()=>!1):!!e&&this.wi(t).next(()=>!0))).catch(t=>{if(Nu(t))return ze("IndexedDbPersistence","Failed to extend owner lease: ",t),this.isPrimary;if(!this.allowTabSynchronization)throw t;return ze("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1}).then(t=>{this.isPrimary!==t&&this.Ws.enqueueRetryable(()=>this.ni(t)),this.isPrimary=t})}li(t){return A0(t).get("owner").next(e=>de.resolve(this._i(e)))}mi(t){return ZE(t).delete(this.clientId)}gi(){var t=this;return(0,ke.Z)(function*(){if(t.isPrimary&&!t.yi(t.ei,18e5)){t.ei=Date.now();const e=yield t.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",n=>{const r=Ur(n,"clientMetadata");return r.j().next(o=>{const d=t.pi(o,18e5),h=o.filter(g=>-1===d.indexOf(g));return de.forEach(h,g=>r.delete(g.clientId)).next(()=>h)})}).catch(()=>[]);if(t.ri)for(const n of e)t.ri.removeItem(t.Ii(n.clientId))}})()}ai(){this.ti=this.Ws.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.oi().then(()=>this.gi()).then(()=>this.ai()))}_i(t){return!!t&&t.ownerId===this.clientId}fi(t){return this.Js?de.resolve(!0):A0(t).get("owner").next(e=>{if(null!==e&&this.yi(e.leaseTimestampMs,5e3)&&!this.Ti(e.ownerId)){if(this._i(e)&&this.networkEnabled)return!0;if(!this._i(e)){if(!e.allowTabSynchronization)throw new Pe(pe.FAILED_PRECONDITION,gR);return!1}}return!(!this.networkEnabled||!this.inForeground)||ZE(t).j().next(n=>void 0===this.pi(n,5e3).find(r=>!(this.clientId===r.clientId||!(!this.networkEnabled&&r.networkEnabled||!this.inForeground&&r.inForeground&&this.networkEnabled===r.networkEnabled))))}).next(e=>(this.isPrimary!==e&&ze("IndexedDbPersistence",`Client ${e?"is":"is not"} eligible for a primary lease.`),e))}shutdown(){var t=this;return(0,ke.Z)(function*(){t.Ss=!1,t.Ei(),t.ti&&(t.ti.cancel(),t.ti=null),t.Ai(),t.Ri(),yield t.ii.runTransaction("shutdown","readwrite",["owner","clientMetadata"],e=>{const n=new HA(e,js.ct);return t.di(n).next(()=>t.mi(n))}),t.ii.close(),t.vi()})()}pi(t,e){return t.filter(n=>this.yi(n.updateTimeMs,e)&&!this.Ti(n.clientId))}bi(){return this.runTransaction("getActiveClients","readonly",t=>ZE(t).j().next(e=>this.pi(e,18e5).map(n=>n.clientId)))}get started(){return this.Ss}getMutationQueue(t,e){return YE.ie(t,this.serializer,e,this.referenceDelegate)}getTargetCache(){return this.Ds}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(t){return new _Z(t,this.serializer.se.databaseId)}getDocumentOverlayCache(t){return UE.ie(this.serializer,t)}getBundleCache(){return this.xs}runTransaction(t,e,n){ze("IndexedDbPersistence","Starting transaction:",t);const r="readonly"===e?"readonly":"readwrite",o=15===(d=this.Ys)?bW:14===d?nV:13===d?iV:12===d?vW:11===d?tV:void St();var d;let h;return this.ii.runTransaction(t,r,o,g=>(h=new HA(g,this.Vs?this.Vs.next():js.ct),"readwrite-primary"===e?this.li(h).next(b=>!!b||this.fi(h)).next(b=>{if(!b)throw pr(`Failed to obtain primary lease for action '${t}'.`),this.isPrimary=!1,this.Ws.enqueueRetryable(()=>this.ni(!1)),new Pe(pe.FAILED_PRECONDITION,WB);return n(h)}).next(b=>this.wi(h).next(()=>b)):this.Pi(h).next(()=>n(h)))).then(g=>(h.raiseOnCommittedEvent(),g))}Pi(t){return A0(t).get("owner").next(e=>{if(null!==e&&this.yi(e.leaseTimestampMs,5e3)&&!this.Ti(e.ownerId)&&!this._i(e)&&!(this.Js||this.allowTabSynchronization&&e.allowTabSynchronization))throw new Pe(pe.FAILED_PRECONDITION,gR)})}wi(t){const e={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return A0(t).put("owner",e)}static D(){return sc.D()}di(t){const e=A0(t);return e.get("owner").next(n=>this._i(n)?(ze("IndexedDbPersistence","Releasing primary lease."),e.delete("owner")):de.resolve())}yi(t,e){const n=Date.now();return!(t<n-e||t>n&&(pr(`Detected an update time that is in the future: ${t} > ${n}`),1))}ui(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Xs=()=>{this.Ws.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.oi()))},this.document.addEventListener("visibilitychange",this.Xs),this.inForeground="visible"===this.document.visibilityState)}Ai(){this.Xs&&(this.document.removeEventListener("visibilitychange",this.Xs),this.Xs=null)}ci(){var t;"function"==typeof(null===(t=this.window)||void 0===t?void 0:t.addEventListener)&&(this.Zs=()=>{this.Ei();const e=/(?:Version|Mobile)\/1[456]/;(0,Ui.G6)()&&(navigator.appVersion.match(e)||navigator.userAgent.match(e))&&this.Ws.enterRestrictedMode(!0),this.Ws.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Zs))}Ri(){this.Zs&&(this.window.removeEventListener("pagehide",this.Zs),this.Zs=null)}Ti(t){var e;try{const n=null!==(null===(e=this.ri)||void 0===e?void 0:e.getItem(this.Ii(t)));return ze("IndexedDbPersistence",`Client '${t}' ${n?"is":"is not"} zombied in LocalStorage`),n}catch(n){return pr("IndexedDbPersistence","Failed to get zombied client id.",n),!1}}Ei(){if(this.ri)try{this.ri.setItem(this.Ii(this.clientId),String(Date.now()))}catch(t){pr("Failed to set zombie client id.",t)}}vi(){if(this.ri)try{this.ri.removeItem(this.Ii(this.clientId))}catch{}}Ii(t){return`firestore_zombie_${this.persistenceKey}_${t}`}}function A0(i){return Ur(i,"owner")}function ZE(i){return Ur(i,"clientMetadata")}function vR(i,t){let e=i.projectId;return i.isDefaultDatabase||(e+="."+i.database),"firestore/"+t+"/"+e+"/"}class bR{constructor(t,e,n,r){this.targetId=t,this.fromCache=e,this.Vi=n,this.Si=r}static Di(t,e){let n=xi(),r=xi();for(const o of e.docChanges)switch(o.type){case 0:n=n.add(o.doc.key);break;case 1:r=r.add(o.doc.key)}return new bR(t,e.fromCache,n,r)}}class VH{constructor(){this.Ci=!1}initialize(t,e){this.xi=t,this.indexManager=e,this.Ci=!0}getDocumentsMatchingQuery(t,e,n,r){return this.Ni(t,e).next(o=>o||this.ki(t,e,r,n)).next(o=>o||this.Oi(t,e))}Ni(t,e){if(MV(e))return de.resolve(null);let n=Wo(e);return this.indexManager.getIndexType(t,n).next(r=>0===r?null:(null!==e.limit&&1===r&&(e=OE(e,null,"F"),n=Wo(e)),this.indexManager.getDocumentsMatchingTarget(t,n).next(o=>{const d=xi(...o);return this.xi.getDocuments(t,d).next(h=>this.indexManager.getMinOffset(t,n).next(g=>{const b=this.$i(e,h);return this.Mi(e,b,d,g.readTime)?this.Ni(t,OE(e,null,"F")):this.Fi(t,b,e,g)}))})))}ki(t,e,n,r){return MV(e)||r.isEqual(Ut.min())?this.Oi(t,e):this.xi.getDocuments(t,n).next(o=>{const d=this.$i(e,o);return this.Mi(e,d,n,r)?this.Oi(t,e):(PA()<=Au.in.DEBUG&&ze("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),QA(e)),this.Fi(t,d,e,YB(r,-1)))})}$i(t,e){let n=new cn(TV(t));return e.forEach((r,o)=>{f0(t,o)&&(n=n.add(o))}),n}Mi(t,e,n,r){if(null===t.limit)return!1;if(n.size!==e.size)return!0;const o="F"===t.limitType?e.last():e.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(r)>0)}Oi(t,e){return PA()<=Au.in.DEBUG&&ze("QueryEngine","Using full collection scan to execute query:",QA(e)),this.xi.getDocumentsMatchingQuery(t,e,zs.min())}Fi(t,e,n,r){return this.xi.getDocumentsMatchingQuery(t,n,r).next(o=>(e.forEach(d=>{o=o.insert(d.key,d)}),o))}}class PZ{constructor(t,e,n,r){this.persistence=t,this.Bi=e,this.serializer=r,this.Li=new Jn(ui),this.qi=new zu(o=>up(o),m0),this.Ui=new Map,this.Ki=t.getRemoteDocumentCache(),this.Ds=t.getTargetCache(),this.xs=t.getBundleCache(),this.Gi(n)}Gi(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new NH(this.Ki,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ki.setIndexManager(this.indexManager),this.Bi.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",e=>t.collect(e,this.Li))}}function HH(i,t,e,n){return new PZ(i,t,e,n)}function UH(i,t){return yR.apply(this,arguments)}function yR(){return yR=(0,ke.Z)(function*(i,t){const e=mt(i);return yield e.persistence.runTransaction("Handle user change","readonly",n=>{let r;return e.mutationQueue.getAllMutationBatches(n).next(o=>(r=o,e.Gi(t),e.mutationQueue.getAllMutationBatches(n))).next(o=>{const d=[],h=[];let g=xi();for(const b of r){d.push(b.batchId);for(const x of b.mutations)g=g.add(x.key)}for(const b of o){h.push(b.batchId);for(const x of b.mutations)g=g.add(x.key)}return e.localDocuments.getDocuments(n,g).next(b=>({Qi:b,removedBatchIds:d,addedBatchIds:h}))})})}),yR.apply(this,arguments)}function zH(i){const t=mt(i);return t.persistence.runTransaction("Get last remote snapshot version","readonly",e=>t.Ds.getLastRemoteSnapshotVersion(e))}function jH(i,t,e){let n=xi(),r=xi();return e.forEach(o=>n=n.add(o)),t.getEntries(i,n).next(o=>{let d=fs();return e.forEach((h,g)=>{const b=o.get(h);g.isFoundDocument()!==b.isFoundDocument()&&(r=r.add(h)),g.isNoDocument()&&g.version.isEqual(Ut.min())?(t.removeEntry(h,g.readTime),d=d.insert(h,g)):!b.isValidDocument()||g.version.compareTo(b.version)>0||0===g.version.compareTo(b.version)&&b.hasPendingWrites?(t.addEntry(g),d=d.insert(h,g)):ze("LocalStore","Ignoring outdated watch update for ",h,". Current version:",b.version," Watch version:",g.version)}),{zi:d,ji:r}})}function LZ(i,t){const e=mt(i);return e.persistence.runTransaction("Get next mutation batch","readonly",n=>(void 0===t&&(t=-1),e.mutationQueue.getNextMutationBatchAfterBatchId(n,t)))}function x_(i,t){const e=mt(i);return e.persistence.runTransaction("Allocate target","readwrite",n=>{let r;return e.Ds.getTargetData(n,t).next(o=>o?(r=o,de.resolve(r)):e.Ds.allocateTargetId(n).next(d=>(r=new Gu(t,d,0,n.currentSequenceNumber),e.Ds.addTargetData(n,r).next(()=>r))))}).then(n=>{const r=e.Li.get(n.targetId);return(null===r||n.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(e.Li=e.Li.insert(n.targetId,n),e.qi.set(t,n.targetId)),n})}function C_(i,t,e){return wR.apply(this,arguments)}function wR(){return wR=(0,ke.Z)(function*(i,t,e){const n=mt(i),r=n.Li.get(t),o=e?"readwrite":"readwrite-primary";try{e||(yield n.persistence.runTransaction("Release target",o,d=>n.persistence.referenceDelegate.removeTarget(d,r)))}catch(d){if(!Nu(d))throw d;ze("LocalStore",`Failed to update sequence numbers for target ${t}: ${d}`)}n.Li=n.Li.remove(t),n.qi.delete(r.target)}),wR.apply(this,arguments)}function KE(i,t,e){const n=mt(i);let r=Ut.min(),o=xi();return n.persistence.runTransaction("Execute query","readonly",d=>function(h,g,b){const x=mt(h),k=x.qi.get(b);return void 0!==k?de.resolve(x.Li.get(k)):x.Ds.getTargetData(g,b)}(n,d,Wo(t)).next(h=>{if(h)return r=h.lastLimboFreeSnapshotVersion,n.Ds.getMatchingKeysForTargetId(d,h.targetId).next(g=>{o=g})}).next(()=>n.Bi.getDocumentsMatchingQuery(d,t,e?r:Ut.min(),e?o:xi())).next(h=>(YH(n,SV(t),h),{documents:h,Wi:o})))}function GH(i,t){const e=mt(i),n=mt(e.Ds),r=e.Li.get(t);return r?Promise.resolve(r.target):e.persistence.runTransaction("Get target data","readonly",o=>n.ne(o,t).next(d=>d?d.target:null))}function $H(i,t){const e=mt(i),n=e.Ui.get(t)||Ut.min();return e.persistence.runTransaction("Get new document changes","readonly",r=>e.Ki.getAllFromCollectionGroup(r,t,YB(n,-1),Number.MAX_SAFE_INTEGER)).then(r=>(YH(e,t,r),r))}function YH(i,t,e){let n=i.Ui.get(t)||Ut.min();e.forEach((r,o)=>{o.readTime.compareTo(n)>0&&(n=o.readTime)}),i.Ui.set(t,n)}function xR(){return xR=(0,ke.Z)(function*(i,t,e,n){const r=mt(i);let o=xi(),d=fs();for(const b of e){const x=t.Hi(b.metadata.name);b.document&&(o=o.add(x));const k=t.Ji(b);k.setReadTime(t.Yi(b.metadata.readTime)),d=d.insert(x,k)}const h=r.Ki.newChangeBuffer({trackRemovals:!0}),g=yield x_(r,(b=n,Wo(m_(Ai.fromString(`__bundle__/docs/${b}`)))));var b;return r.persistence.runTransaction("Apply bundle documents","readwrite",b=>jH(b,h,d).next(x=>(h.apply(b),x)).next(x=>r.Ds.removeMatchingKeysForTargetId(b,g.targetId).next(()=>r.Ds.addMatchingKeys(b,o,g.targetId)).next(()=>r.localDocuments.getLocalViewOfDocuments(b,x.zi,x.ji)).next(()=>x.zi)))}),xR.apply(this,arguments)}function VZ(i,t){return CR.apply(this,arguments)}function CR(){return CR=(0,ke.Z)(function*(i,t,e=xi()){const n=yield x_(i,Wo(cR(t.bundledQuery))),r=mt(i);return r.persistence.runTransaction("Save named query","readwrite",o=>{const d=fr(t.readTime);if(n.snapshotVersion.compareTo(d)>=0)return r.xs.saveNamedQuery(o,t);const h=n.withResumeToken(Pr.EMPTY_BYTE_STRING,d);return r.Li=r.Li.insert(h.targetId,h),r.Ds.updateTargetData(o,h).next(()=>r.Ds.removeMatchingKeysForTargetId(o,n.targetId)).next(()=>r.Ds.addMatchingKeys(o,e,n.targetId)).next(()=>r.xs.saveNamedQuery(o,t))})}),CR.apply(this,arguments)}function qH(i,t){return`firestore_clients_${i}_${t}`}function WH(i,t,e){let n=`firestore_mutations_${i}_${e}`;return t.isAuthenticated()&&(n+=`_${t.uid}`),n}function DR(i,t){return`firestore_targets_${i}_${t}`}class QE{constructor(t,e,n,r){this.user=t,this.batchId=e,this.state=n,this.error=r}static Zi(t,e,n){const r=JSON.parse(n);let o,d="object"==typeof r&&-1!==["pending","acknowledged","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return d&&r.error&&(d="string"==typeof r.error.message&&"string"==typeof r.error.code,d&&(o=new Pe(r.error.code,r.error.message))),d?new QE(t,e,r.state,o):(pr("SharedClientState",`Failed to parse mutation state for ID '${e}': ${n}`),null)}Xi(){const t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)}}class R0{constructor(t,e,n){this.targetId=t,this.state=e,this.error=n}static Zi(t,e){const n=JSON.parse(e);let r,o="object"==typeof n&&-1!==["not-current","current","rejected"].indexOf(n.state)&&(void 0===n.error||"object"==typeof n.error);return o&&n.error&&(o="string"==typeof n.error.message&&"string"==typeof n.error.code,o&&(r=new Pe(n.error.code,n.error.message))),o?new R0(t,n.state,r):(pr("SharedClientState",`Failed to parse target state for ID '${t}': ${e}`),null)}Xi(){const t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)}}class XE{constructor(t,e){this.clientId=t,this.activeTargetIds=e}static Zi(t,e){const n=JSON.parse(e);let r="object"==typeof n&&n.activeTargetIds instanceof Array,o=PE();for(let d=0;r&&d<n.activeTargetIds.length;++d)r=QB(n.activeTargetIds[d]),o=o.add(n.activeTargetIds[d]);return r?new XE(t,o):(pr("SharedClientState",`Failed to parse client data for instance '${t}': ${e}`),null)}}class ER{constructor(t,e){this.clientId=t,this.onlineState=e}static Zi(t){const e=JSON.parse(t);return"object"==typeof e&&-1!==["Unknown","Online","Offline"].indexOf(e.onlineState)&&"string"==typeof e.clientId?new ER(e.clientId,e.onlineState):(pr("SharedClientState",`Failed to parse online state: ${t}`),null)}}class kR{constructor(){this.activeTargetIds=PE()}tr(t){this.activeTargetIds=this.activeTargetIds.add(t)}er(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Xi(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class MR{constructor(t,e,n,r,o){this.window=t,this.Ws=e,this.persistenceKey=n,this.nr=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.sr=this.ir.bind(this),this.rr=new Jn(ui),this.started=!1,this.ur=[];const d=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=o,this.cr=qH(this.persistenceKey,this.nr),this.ar=`firestore_sequence_number_${this.persistenceKey}`,this.rr=this.rr.insert(this.nr,new kR),this.hr=new RegExp(`^firestore_clients_${d}_([^_]*)$`),this.lr=new RegExp(`^firestore_mutations_${d}_(\\d+)(?:_(.*))?$`),this.dr=new RegExp(`^firestore_targets_${d}_(\\d+)$`),this.wr=`firestore_online_state_${this.persistenceKey}`,this._r=function(h){return`firestore_bundle_loaded_v2_${h}`}(this.persistenceKey),this.window.addEventListener("storage",this.sr)}static D(t){return!(!t||!t.localStorage)}start(){var t=this;return(0,ke.Z)(function*(){const e=yield t.syncEngine.bi();for(const r of e){if(r===t.nr)continue;const o=t.getItem(qH(t.persistenceKey,r));if(o){const d=XE.Zi(r,o);d&&(t.rr=t.rr.insert(d.clientId,d))}}t.mr();const n=t.storage.getItem(t.wr);if(n){const r=t.gr(n);r&&t.yr(r)}for(const r of t.ur)t.ir(r);t.ur=[],t.window.addEventListener("pagehide",()=>t.shutdown()),t.started=!0})()}writeSequenceNumber(t){this.setItem(this.ar,JSON.stringify(t))}getAllActiveQueryTargets(){return this.pr(this.rr)}isActiveQueryTarget(t){let e=!1;return this.rr.forEach((n,r)=>{r.activeTargetIds.has(t)&&(e=!0)}),e}addPendingMutation(t){this.Ir(t,"pending")}updateMutationState(t,e,n){this.Ir(t,e,n),this.Tr(t)}addLocalQueryTarget(t){let e="not-current";if(this.isActiveQueryTarget(t)){const n=this.storage.getItem(DR(this.persistenceKey,t));if(n){const r=R0.Zi(t,n);r&&(e=r.state)}}return this.Er.tr(t),this.mr(),e}removeLocalQueryTarget(t){this.Er.er(t),this.mr()}isLocalQueryTarget(t){return this.Er.activeTargetIds.has(t)}clearQueryState(t){this.removeItem(DR(this.persistenceKey,t))}updateQueryState(t,e,n){this.Ar(t,e,n)}handleUserChange(t,e,n){e.forEach(r=>{this.Tr(r)}),this.currentUser=t,n.forEach(r=>{this.addPendingMutation(r)})}setOnlineState(t){this.Rr(t)}notifyBundleLoaded(t){this.vr(t)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.sr),this.removeItem(this.cr),this.started=!1)}getItem(t){const e=this.storage.getItem(t);return ze("SharedClientState","READ",t,e),e}setItem(t,e){ze("SharedClientState","SET",t,e),this.storage.setItem(t,e)}removeItem(t){ze("SharedClientState","REMOVE",t),this.storage.removeItem(t)}ir(t){var e=this;const n=t;if(n.storageArea===this.storage){if(ze("SharedClientState","EVENT",n.key,n.newValue),n.key===this.cr)return void pr("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Ws.enqueueRetryable((0,ke.Z)(function*(){if(e.started){if(null!==n.key)if(e.hr.test(n.key)){if(null==n.newValue){const r=e.br(n.key);return e.Pr(r,null)}{const r=e.Vr(n.key,n.newValue);if(r)return e.Pr(r.clientId,r)}}else if(e.lr.test(n.key)){if(null!==n.newValue){const r=e.Sr(n.key,n.newValue);if(r)return e.Dr(r)}}else if(e.dr.test(n.key)){if(null!==n.newValue){const r=e.Cr(n.key,n.newValue);if(r)return e.Nr(r)}}else if(n.key===e.wr){if(null!==n.newValue){const r=e.gr(n.newValue);if(r)return e.yr(r)}}else if(n.key===e.ar){const r=function(o){let d=js.ct;if(null!=o)try{const h=JSON.parse(o);Lt("number"==typeof h),d=h}catch(h){pr("SharedClientState","Failed to read sequence number from WebStorage",h)}return d}(n.newValue);r!==js.ct&&e.sequenceNumberHandler(r)}else if(n.key===e._r){const r=e.kr(n.newValue);yield Promise.all(r.map(o=>e.syncEngine.Or(o)))}}else e.ur.push(n)}))}}get Er(){return this.rr.get(this.nr)}mr(){this.setItem(this.cr,this.Er.Xi())}Ir(t,e,n){const r=new QE(this.currentUser,t,e,n),o=WH(this.persistenceKey,this.currentUser,t);this.setItem(o,r.Xi())}Tr(t){const e=WH(this.persistenceKey,this.currentUser,t);this.removeItem(e)}Rr(t){this.storage.setItem(this.wr,JSON.stringify({clientId:this.nr,onlineState:t}))}Ar(t,e,n){const r=DR(this.persistenceKey,t),o=new R0(t,e,n);this.setItem(r,o.Xi())}vr(t){const e=JSON.stringify(Array.from(t));this.setItem(this._r,e)}br(t){const e=this.hr.exec(t);return e?e[1]:null}Vr(t,e){const n=this.br(t);return XE.Zi(n,e)}Sr(t,e){const n=this.lr.exec(t),r=Number(n[1]);return QE.Zi(new Hr(void 0!==n[2]?n[2]:null),r,e)}Cr(t,e){const n=this.dr.exec(t),r=Number(n[1]);return R0.Zi(r,e)}gr(t){return ER.Zi(t)}kr(t){return JSON.parse(t)}Dr(t){var e=this;return(0,ke.Z)(function*(){if(t.user.uid===e.currentUser.uid)return e.syncEngine.$r(t.batchId,t.state,t.error);ze("SharedClientState",`Ignoring mutation for non-active user ${t.user.uid}`)})()}Nr(t){return this.syncEngine.Mr(t.targetId,t.state,t.error)}Pr(t,e){const n=e?this.rr.insert(t,e):this.rr.remove(t),r=this.pr(this.rr),o=this.pr(n),d=[],h=[];return o.forEach(g=>{r.has(g)||d.push(g)}),r.forEach(g=>{o.has(g)||h.push(g)}),this.syncEngine.Fr(d,h).then(()=>{this.rr=n})}yr(t){this.rr.get(t.clientId)&&this.onlineStateHandler(t.onlineState)}pr(t){let e=PE();return t.forEach((n,r)=>{e=e.unionWith(r.activeTargetIds)}),e}}class ZH{constructor(){this.Br=new kR,this.Lr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,e,n){}addLocalQueryTarget(t){return this.Br.tr(t),this.Lr[t]||"not-current"}updateQueryState(t,e,n){this.Lr[t]=e}removeLocalQueryTarget(t){this.Br.er(t)}isLocalQueryTarget(t){return this.Br.activeTargetIds.has(t)}clearQueryState(t){delete this.Lr[t]}getAllActiveQueryTargets(){return this.Br.activeTargetIds}isActiveQueryTarget(t){return this.Br.activeTargetIds.has(t)}start(){return this.Br=new kR,Promise.resolve()}handleUserChange(t,e,n){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class HZ{qr(t){}shutdown(){}}class KH{constructor(){this.Ur=()=>this.Kr(),this.Gr=()=>this.Qr(),this.zr=[],this.jr()}qr(t){this.zr.push(t)}shutdown(){window.removeEventListener("online",this.Ur),window.removeEventListener("offline",this.Gr)}jr(){window.addEventListener("online",this.Ur),window.addEventListener("offline",this.Gr)}Kr(){ze("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const t of this.zr)t(0)}Qr(){ze("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const t of this.zr)t(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let JE=null;function IR(){return null===JE?JE=268435456+Math.round(2147483648*Math.random()):JE++,"0x"+JE.toString(16)}const UZ={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class zZ{constructor(t){this.Wr=t.Wr,this.Hr=t.Hr}Jr(t){this.Yr=t}Zr(t){this.Xr=t}onMessage(t){this.eo=t}close(){this.Hr()}send(t){this.Wr(t)}no(){this.Yr()}so(t){this.Xr(t)}io(t){this.eo(t)}}const xo="WebChannelConnection";class jZ extends class{constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId,this.ro=(t.ssl?"https":"http")+"://"+t.host,this.oo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get uo(){return!1}co(t,e,n,r,o){const d=IR(),h=this.ao(t,e);ze("RestConnection",`Sending RPC '${t}' ${d}:`,h,n);const g={};return this.ho(g,r,o),this.lo(t,h,g,n).then(b=>(ze("RestConnection",`Received RPC '${t}' ${d}: `,b),b),b=>{throw Xc("RestConnection",`RPC '${t}' ${d} failed with error: `,b,"url: ",h,"request:",n),b})}fo(t,e,n,r,o,d){return this.co(t,e,n,r,o)}ho(t,e,n){t["X-Goog-Api-Client"]="gl-js/ fire/"+a_,t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),e&&e.headers.forEach((r,o)=>t[o]=r),n&&n.headers.forEach((r,o)=>t[o]=r)}ao(t,e){return`${this.ro}/v1/${e}:${UZ[t]}`}}{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams}lo(t,e,n,r){const o=IR();return new Promise((d,h)=>{const g=new Vq;g.setWithCredentials(!0),g.listenOnce(Nq.COMPLETE,()=>{try{switch(g.getLastErrorCode()){case OA.NO_ERROR:const x=g.getResponseJson();ze(xo,`XHR for RPC '${t}' ${o} received:`,JSON.stringify(x)),d(x);break;case OA.TIMEOUT:ze(xo,`RPC '${t}' ${o} timed out`),h(new Pe(pe.DEADLINE_EXCEEDED,"Request time out"));break;case OA.HTTP_ERROR:const k=g.getStatus();if(ze(xo,`RPC '${t}' ${o} failed with status:`,k,"response text:",g.getResponseText()),k>0){let T=g.getResponseJson();Array.isArray(T)&&(T=T[0]);const F=T?.error;if(F&&F.status&&F.message){const H=function(X){const ne=X.toLowerCase().replace(/_/g,"-");return Object.values(pe).indexOf(ne)>=0?ne:pe.UNKNOWN}(F.status);h(new Pe(H,F.message))}else h(new Pe(pe.UNKNOWN,"Server responded with status "+g.getStatus()))}else h(new Pe(pe.UNAVAILABLE,"Connection failed."));break;default:St()}}finally{ze(xo,`RPC '${t}' ${o} completed.`)}});const b=JSON.stringify(r);ze(xo,`RPC '${t}' ${o} sending request:`,r),g.send(e,"POST",b,n,15)})}wo(t,e,n){const r=IR(),o=[this.ro,"/","google.firestore.v1.Firestore","/",t,"/channel"],d=Pq(),h=Fq(),g={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(g.xmlHttpFactory=new Bq({})),this.ho(g.initMessageHeaders,e,n),g.encodeInitMessageHeaders=!0;const b=o.join("");ze(xo,`Creating RPC '${t}' stream ${r}: ${b}`,g);const x=d.createWebChannel(b,g);let k=!1,T=!1;const F=new zZ({Wr:X=>{T?ze(xo,`Not sending because RPC '${t}' stream ${r} is closed:`,X):(k||(ze(xo,`Opening RPC '${t}' stream ${r} transport.`),x.open(),k=!0),ze(xo,`RPC '${t}' stream ${r} sending:`,X),x.send(X))},Hr:()=>x.close()}),H=(X,ne,je)=>{X.listen(ne,Ct=>{try{je(Ct)}catch(wt){setTimeout(()=>{throw wt},0)}})};return H(x,xE.EventType.OPEN,()=>{T||ze(xo,`RPC '${t}' stream ${r} transport opened.`)}),H(x,xE.EventType.CLOSE,()=>{T||(T=!0,ze(xo,`RPC '${t}' stream ${r} transport closed`),F.so())}),H(x,xE.EventType.ERROR,X=>{T||(T=!0,Xc(xo,`RPC '${t}' stream ${r} transport errored:`,X),F.so(new Pe(pe.UNAVAILABLE,"The operation could not be completed")))}),H(x,xE.EventType.MESSAGE,X=>{var ne;if(!T){const je=X.data[0];Lt(!!je);const wt=je.error||(null===(ne=je[0])||void 0===ne?void 0:ne.error);if(wt){ze(xo,`RPC '${t}' stream ${r} received error:`,wt);const Rt=wt.status;let oi=function($i){const Gr=Er[$i];if(void 0!==Gr)return WV(Gr)}(Rt),hi=wt.message;void 0===oi&&(oi=pe.INTERNAL,hi="Unknown error status: "+Rt+" with message "+wt.message),T=!0,F.so(new Pe(oi,hi)),x.close()}else ze(xo,`RPC '${t}' stream ${r} received:`,je),F.io(je)}}),H(h,Lq.STAT_EVENT,X=>{X.stat===HB.PROXY?ze(xo,`RPC '${t}' stream ${r} detected buffering proxy`):X.stat===HB.NOPROXY&&ze(xo,`RPC '${t}' stream ${r} detected no buffering proxy`)}),setTimeout(()=>{F.no()},0),F}}function QH(){return typeof window<"u"?window:null}function ek(){return typeof document<"u"?document:null}function O0(i){return new XW(i,!0)}class SR{constructor(t,e,n=1e3,r=1.5,o=6e4){this.Ws=t,this.timerId=e,this._o=n,this.mo=r,this.yo=o,this.po=0,this.Io=null,this.To=Date.now(),this.reset()}reset(){this.po=0}Eo(){this.po=this.yo}Ao(t){this.cancel();const e=Math.floor(this.po+this.Ro()),n=Math.max(0,Date.now()-this.To),r=Math.max(0,e-n);r>0&&ze("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.po} ms, delay with jitter: ${e} ms, last attempt: ${n} ms ago)`),this.Io=this.Ws.enqueueAfterDelay(this.timerId,r,()=>(this.To=Date.now(),t())),this.po*=this.mo,this.po<this._o&&(this.po=this._o),this.po>this.yo&&(this.po=this.yo)}vo(){null!==this.Io&&(this.Io.skipDelay(),this.Io=null)}cancel(){null!==this.Io&&(this.Io.cancel(),this.Io=null)}Ro(){return(Math.random()-.5)*this.po}}class XH{constructor(t,e,n,r,o,d,h,g){this.Ws=t,this.bo=n,this.Po=r,this.connection=o,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=h,this.listener=g,this.state=0,this.Vo=0,this.So=null,this.Do=null,this.stream=null,this.Co=new SR(t,e)}xo(){return 1===this.state||5===this.state||this.No()}No(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.ko()}stop(){var t=this;return(0,ke.Z)(function*(){t.xo()&&(yield t.close(0))})()}Oo(){this.state=0,this.Co.reset()}$o(){this.No()&&null===this.So&&(this.So=this.Ws.enqueueAfterDelay(this.bo,6e4,()=>this.Mo()))}Fo(t){this.Bo(),this.stream.send(t)}Mo(){var t=this;return(0,ke.Z)(function*(){if(t.No())return t.close(0)})()}Bo(){this.So&&(this.So.cancel(),this.So=null)}Lo(){this.Do&&(this.Do.cancel(),this.Do=null)}close(t,e){var n=this;return(0,ke.Z)(function*(){n.Bo(),n.Lo(),n.Co.cancel(),n.Vo++,4!==t?n.Co.reset():e&&e.code===pe.RESOURCE_EXHAUSTED?(pr(e.toString()),pr("Using maximum backoff delay to prevent overloading the backend."),n.Co.Eo()):e&&e.code===pe.UNAUTHENTICATED&&3!==n.state&&(n.authCredentialsProvider.invalidateToken(),n.appCheckCredentialsProvider.invalidateToken()),null!==n.stream&&(n.qo(),n.stream.close(),n.stream=null),n.state=t,yield n.listener.Zr(e)})()}qo(){}auth(){this.state=1;const t=this.Uo(this.Vo),e=this.Vo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([n,r])=>{this.Vo===e&&this.Ko(n,r)},n=>{t(()=>{const r=new Pe(pe.UNKNOWN,"Fetching auth token failed: "+n.message);return this.Go(r)})})}Ko(t,e){const n=this.Uo(this.Vo);this.stream=this.Qo(t,e),this.stream.Jr(()=>{n(()=>(this.state=2,this.Do=this.Ws.enqueueAfterDelay(this.Po,1e4,()=>(this.No()&&(this.state=3),Promise.resolve())),this.listener.Jr()))}),this.stream.Zr(r=>{n(()=>this.Go(r))}),this.stream.onMessage(r=>{n(()=>this.onMessage(r))})}ko(){var t=this;this.state=5,this.Co.Ao((0,ke.Z)(function*(){t.state=0,t.start()}))}Go(t){return ze("PersistentStream",`close with error: ${t}`),this.stream=null,this.close(4,t)}Uo(t){return e=>{this.Ws.enqueueAndForget(()=>this.Vo===t?e():(ze("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class GZ extends XH{constructor(t,e,n,r,o,d){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",e,n,r,d),this.serializer=o}Qo(t,e){return this.connection.wo("Listen",t,e)}onMessage(t){this.Co.reset();const e=function tZ(i,t){let e;if("targetChange"in t){const n="NO_CHANGE"===(g=t.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===g?1:"REMOVE"===g?2:"CURRENT"===g?3:"RESET"===g?4:St(),r=t.targetChange.targetIds||[],o=function(g,b){return g.useProto3Json?(Lt(void 0===b||"string"==typeof b),Pr.fromBase64String(b||"")):(Lt(void 0===b||b instanceof Uint8Array),Pr.fromUint8Array(b||new Uint8Array))}(i,t.targetChange.resumeToken),d=t.targetChange.cause,h=d&&function(g){const b=void 0===g.code?pe.UNKNOWN:WV(g.code);return new Pe(b,g.message||"")}(d);e=new KV(n,r,o,h||null)}else if("documentChange"in t){const n=t.documentChange,r=il(i,n.document.name),o=fr(n.document.updateTime),d=n.document.createTime?fr(n.document.createTime):Ut.min(),h=new zr({mapValue:{fields:n.document.fields}}),g=Cn.newFoundDocument(r,o,d,h);e=new VE(n.targetIds||[],n.removedTargetIds||[],g.key,g)}else if("documentDelete"in t){const n=t.documentDelete,r=il(i,n.document),o=n.readTime?fr(n.readTime):Ut.min(),d=Cn.newNoDocument(r,o);e=new VE([],n.removedTargetIds||[],d.key,d)}else if("documentRemove"in t){const n=t.documentRemove,r=il(i,n.document);e=new VE([],n.removedTargetIds||[],r,null)}else{if(!("filter"in t))return St();{const n=t.filter,o=new qW(n.count||0);e=new ZV(n.targetId,o)}}var g;return e}(this.serializer,t),n=function(r){if(!("targetChange"in r))return Ut.min();const o=r.targetChange;return o.targetIds&&o.targetIds.length?Ut.min():o.readTime?fr(o.readTime):Ut.min()}(t);return this.listener.zo(e,n)}jo(t){const e={};e.database=C0(this.serializer),e.addTarget=function(r,o){let d;const h=o.target;return d=TE(h)?{documents:sH(r,h)}:{query:aR(r,h)},d.targetId=o.targetId,o.resumeToken.approximateByteSize()>0?d.resumeToken=eH(r,o.resumeToken):o.snapshotVersion.compareTo(Ut.min())>0&&(d.readTime=v_(r,o.snapshotVersion.toTimestamp())),d}(this.serializer,t);const n=function nZ(i,t){const e=function(n,r){switch(r){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return St()}}(0,t.purpose);return null==e?null:{"goog-listen-tags":e}}(0,t);n&&(e.labels=n),this.Fo(e)}Wo(t){const e={};e.database=C0(this.serializer),e.removeTarget=t,this.Fo(e)}}class $Z extends XH{constructor(t,e,n,r,o,d){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",e,n,r,d),this.serializer=o,this.Ho=!1}get Jo(){return this.Ho}start(){this.Ho=!1,this.lastStreamToken=void 0,super.start()}qo(){this.Ho&&this.Yo([])}Qo(t,e){return this.connection.wo("Write",t,e)}onMessage(t){if(Lt(!!t.streamToken),this.lastStreamToken=t.streamToken,this.Ho){this.Co.reset();const e=function iZ(i,t){return i&&i.length>0?(Lt(void 0!==t),i.map(e=>function(n,r){let o=fr(n.updateTime?n.updateTime:r);return o.isEqual(Ut.min())&&(o=fr(r)),new zW(o,n.transformResults||[])}(e,t))):[]}(t.writeResults,t.commitTime),n=fr(t.commitTime);return this.listener.Zo(n,e)}return Lt(!t.writeResults||0===t.writeResults.length),this.Ho=!0,this.listener.Xo()}tu(){const t={};t.database=C0(this.serializer),this.Fo(t)}Yo(t){const e={streamToken:this.lastStreamToken,writes:t.map(n=>D0(this.serializer,n))};this.Fo(e)}}class YZ extends class{}{constructor(t,e,n,r){super(),this.authCredentials=t,this.appCheckCredentials=e,this.connection=n,this.serializer=r,this.eu=!1}nu(){if(this.eu)throw new Pe(pe.FAILED_PRECONDITION,"The client has already been terminated.")}co(t,e,n){return this.nu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([r,o])=>this.connection.co(t,e,n,r,o)).catch(r=>{throw"FirebaseError"===r.name?(r.code===pe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),r):new Pe(pe.UNKNOWN,r.toString())})}fo(t,e,n,r){return this.nu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,d])=>this.connection.fo(t,e,n,o,d,r)).catch(o=>{throw"FirebaseError"===o.name?(o.code===pe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Pe(pe.UNKNOWN,o.toString())})}terminate(){this.eu=!0}}class WZ{constructor(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.su=0,this.iu=null,this.ru=!0}ou(){0===this.su&&(this.uu("Unknown"),this.iu=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.iu=null,this.cu("Backend didn't respond within 10 seconds."),this.uu("Offline"),Promise.resolve())))}au(t){"Online"===this.state?this.uu("Unknown"):(this.su++,this.su>=1&&(this.hu(),this.cu(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.uu("Offline")))}set(t){this.hu(),this.su=0,"Online"===t&&(this.ru=!1),this.uu(t)}uu(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}cu(t){const e=`Could not reach Cloud Firestore backend. ${t}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ru?(pr(e),this.ru=!1):ze("OnlineStateTracker",e)}hu(){null!==this.iu&&(this.iu.cancel(),this.iu=null)}}class ZZ{constructor(t,e,n,r,o){var d=this;this.localStore=t,this.datastore=e,this.asyncQueue=n,this.remoteSyncer={},this.lu=[],this.fu=new Map,this.du=new Set,this.wu=[],this._u=o,this._u.qr(h=>{n.enqueueAndForget((0,ke.Z)(function*(){var g;Wu(d)&&(ze("RemoteStore","Restarting streams for network reachability change."),yield(g=(0,ke.Z)(function*(b){const x=mt(b);x.du.add(4),yield D_(x),x.mu.set("Unknown"),x.du.delete(4),yield P0(x)}),function(b){return g.apply(this,arguments)})(d))}))}),this.mu=new WZ(n,r)}}function P0(i){return AR.apply(this,arguments)}function AR(){return AR=(0,ke.Z)(function*(i){if(Wu(i))for(const t of i.wu)yield t(!0)}),AR.apply(this,arguments)}function D_(i){return RR.apply(this,arguments)}function RR(){return RR=(0,ke.Z)(function*(i){for(const t of i.wu)yield t(!1)}),RR.apply(this,arguments)}function tk(i,t){const e=mt(i);e.fu.has(t.targetId)||(e.fu.set(t.targetId,t),FR(e)?PR(e):k_(e).No()&&OR(e,t))}function F0(i,t){const e=mt(i),n=k_(e);e.fu.delete(t),n.No()&&JH(e,t),0===e.fu.size&&(n.No()?n.$o():Wu(e)&&e.mu.set("Unknown"))}function OR(i,t){i.gu.Ot(t.targetId),k_(i).jo(t)}function JH(i,t){i.gu.Ot(t),k_(i).Wo(t)}function PR(i){i.gu=new WW({getRemoteKeysForTarget:t=>i.remoteSyncer.getRemoteKeysForTarget(t),ne:t=>i.fu.get(t)||null}),k_(i).start(),i.mu.ou()}function FR(i){return Wu(i)&&!k_(i).xo()&&i.fu.size>0}function Wu(i){return 0===mt(i).du.size}function eU(i){i.gu=void 0}function KZ(i){return NR.apply(this,arguments)}function NR(){return NR=(0,ke.Z)(function*(i){i.fu.forEach((t,e)=>{OR(i,t)})}),NR.apply(this,arguments)}function QZ(i,t){return LR.apply(this,arguments)}function LR(){return LR=(0,ke.Z)(function*(i,t){eU(i),FR(i)?(i.mu.au(t),PR(i)):i.mu.set("Unknown")}),LR.apply(this,arguments)}function XZ(i,t,e){return BR.apply(this,arguments)}function BR(){return BR=(0,ke.Z)(function*(i,t,e){if(i.mu.set("Online"),t instanceof KV&&2===t.state&&t.cause)try{yield(n=(0,ke.Z)(function*(r,o){const d=o.cause;for(const h of o.targetIds)r.fu.has(h)&&(yield r.remoteSyncer.rejectListen(h,d),r.fu.delete(h),r.gu.removeTarget(h))}),function(r,o){return n.apply(this,arguments)})(i,t)}catch(n){ze("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),n),yield ik(i,n)}else if(t instanceof VE?i.gu.Kt(t):t instanceof ZV?i.gu.Jt(t):i.gu.zt(t),!e.isEqual(Ut.min()))try{const n=yield zH(i.localStore);e.compareTo(n)>=0&&(yield function(r,o){const d=r.gu.Xt(o);return d.targetChanges.forEach((h,g)=>{if(h.resumeToken.approximateByteSize()>0){const b=r.fu.get(g);b&&r.fu.set(g,b.withResumeToken(h.resumeToken,o))}}),d.targetMismatches.forEach(h=>{const g=r.fu.get(h);if(!g)return;r.fu.set(h,g.withResumeToken(Pr.EMPTY_BYTE_STRING,g.snapshotVersion)),JH(r,h);const b=new Gu(g.target,h,1,g.sequenceNumber);OR(r,b)}),r.remoteSyncer.applyRemoteEvent(d)}(i,e))}catch(n){ze("RemoteStore","Failed to raise snapshot:",n),yield ik(i,n)}var n}),BR.apply(this,arguments)}function ik(i,t,e){return VR.apply(this,arguments)}function VR(){return VR=(0,ke.Z)(function*(i,t,e){if(!Nu(t))throw t;i.du.add(1),yield D_(i),i.mu.set("Offline"),e||(e=()=>zH(i.localStore)),i.asyncQueue.enqueueRetryable((0,ke.Z)(function*(){ze("RemoteStore","Retrying IndexedDB access"),yield e(),i.du.delete(1),yield P0(i)}))}),VR.apply(this,arguments)}function tU(i,t){return t().catch(e=>ik(i,e,t))}function E_(i){return HR.apply(this,arguments)}function HR(){return HR=(0,ke.Z)(function*(i){const t=mt(i),e=Zu(t);let n=t.lu.length>0?t.lu[t.lu.length-1].batchId:-1;for(;JZ(t);)try{const r=yield LZ(t.localStore,n);if(null===r){0===t.lu.length&&e.$o();break}n=r.batchId,e7(t,r)}catch(r){yield ik(t,r)}iU(t)&&nU(t)}),HR.apply(this,arguments)}function JZ(i){return Wu(i)&&i.lu.length<10}function e7(i,t){i.lu.push(t);const e=Zu(i);e.No()&&e.Jo&&e.Yo(t.mutations)}function iU(i){return Wu(i)&&!Zu(i).xo()&&i.lu.length>0}function nU(i){Zu(i).start()}function t7(i){return UR.apply(this,arguments)}function UR(){return UR=(0,ke.Z)(function*(i){Zu(i).tu()}),UR.apply(this,arguments)}function n7(i){return zR.apply(this,arguments)}function zR(){return zR=(0,ke.Z)(function*(i){const t=Zu(i);for(const e of i.lu)t.Yo(e.mutations)}),zR.apply(this,arguments)}function r7(i,t,e){return jR.apply(this,arguments)}function jR(){return jR=(0,ke.Z)(function*(i,t,e){const n=i.lu.shift(),r=eR.from(n,t,e);yield tU(i,()=>i.remoteSyncer.applySuccessfulWrite(r)),yield E_(i)}),jR.apply(this,arguments)}function o7(i,t){return GR.apply(this,arguments)}function GR(){return GR=(0,ke.Z)(function*(i,t){var e;t&&Zu(i).Jo&&(yield(e=(0,ke.Z)(function*(n,r){if(qV(o=r.code)&&o!==pe.ABORTED){const d=n.lu.shift();Zu(n).Oo(),yield tU(n,()=>n.remoteSyncer.rejectFailedWrite(d.batchId,r)),yield E_(n)}var o}),function(n,r){return e.apply(this,arguments)})(i,t)),iU(i)&&nU(i)}),GR.apply(this,arguments)}function rU(i,t){return $R.apply(this,arguments)}function $R(){return $R=(0,ke.Z)(function*(i,t){const e=mt(i);e.asyncQueue.verifyOperationInProgress(),ze("RemoteStore","RemoteStore received new credentials");const n=Wu(e);e.du.add(3),yield D_(e),n&&e.mu.set("Unknown"),yield e.remoteSyncer.handleCredentialChange(t),e.du.delete(3),yield P0(e)}),$R.apply(this,arguments)}function YR(i,t){return qR.apply(this,arguments)}function qR(){return qR=(0,ke.Z)(function*(i,t){const e=mt(i);t?(e.du.delete(2),yield P0(e)):t||(e.du.add(2),yield D_(e),e.mu.set("Unknown"))}),qR.apply(this,arguments)}function k_(i){return i.yu||(i.yu=function(t,e,n){const r=mt(t);return r.nu(),new GZ(e,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(i.datastore,i.asyncQueue,{Jr:KZ.bind(null,i),Zr:QZ.bind(null,i),zo:XZ.bind(null,i)}),i.wu.push(function(){var t=(0,ke.Z)(function*(e){e?(i.yu.Oo(),FR(i)?PR(i):i.mu.set("Unknown")):(yield i.yu.stop(),eU(i))});return function(e){return t.apply(this,arguments)}}())),i.yu}function Zu(i){return i.pu||(i.pu=function(t,e,n){const r=mt(t);return r.nu(),new $Z(e,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(i.datastore,i.asyncQueue,{Jr:t7.bind(null,i),Zr:o7.bind(null,i),Xo:n7.bind(null,i),Zo:r7.bind(null,i)}),i.wu.push(function(){var t=(0,ke.Z)(function*(e){e?(i.pu.Oo(),yield E_(i)):(yield i.pu.stop(),i.lu.length>0&&(ze("RemoteStore",`Stopping write stream with ${i.lu.length} pending writes`),i.lu=[]))});return function(e){return t.apply(this,arguments)}}())),i.pu}class WR{constructor(t,e,n,r,o){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=n,this.op=r,this.removalCallback=o,this.deferred=new Or,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(d=>{})}static createAndSchedule(t,e,n,r,o){const d=Date.now()+n,h=new WR(t,e,d,r,o);return h.start(n),h}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Pe(pe.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function M_(i,t){if(pr("AsyncQueue",`${t}: ${i}`),Nu(i))return new Pe(pe.UNAVAILABLE,`${t}: ${i}`);throw i}class I_{constructor(t){this.comparator=t?(e,n)=>t(e,n)||dt.comparator(e.key,n.key):(e,n)=>dt.comparator(e.key,n.key),this.keyedMap=g0(),this.sortedSet=new Jn(this.comparator)}static emptySet(t){return new I_(t.comparator)}has(t){return null!=this.keyedMap.get(t)}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((e,n)=>(t(e),!1))}add(t){const e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))}delete(t){const e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this}isEqual(t){if(!(t instanceof I_)||this.size!==t.size)return!1;const e=this.sortedSet.getIterator(),n=t.sortedSet.getIterator();for(;e.hasNext();){const r=e.getNext().key,o=n.getNext().key;if(!r.isEqual(o))return!1}return!0}toString(){const t=[];return this.forEach(e=>{t.push(e.toString())}),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"}copy(t,e){const n=new I_;return n.comparator=this.comparator,n.keyedMap=t,n.sortedSet=e,n}}class oU{constructor(){this.Iu=new Jn(dt.comparator)}track(t){const e=t.doc.key,n=this.Iu.get(e);n?0!==t.type&&3===n.type?this.Iu=this.Iu.insert(e,t):3===t.type&&1!==n.type?this.Iu=this.Iu.insert(e,{type:n.type,doc:t.doc}):2===t.type&&2===n.type?this.Iu=this.Iu.insert(e,{type:2,doc:t.doc}):2===t.type&&0===n.type?this.Iu=this.Iu.insert(e,{type:0,doc:t.doc}):1===t.type&&0===n.type?this.Iu=this.Iu.remove(e):1===t.type&&2===n.type?this.Iu=this.Iu.insert(e,{type:1,doc:n.doc}):0===t.type&&1===n.type?this.Iu=this.Iu.insert(e,{type:2,doc:t.doc}):St():this.Iu=this.Iu.insert(e,t)}Tu(){const t=[];return this.Iu.inorderTraversal((e,n)=>{t.push(n)}),t}}class S_{constructor(t,e,n,r,o,d,h,g,b){this.query=t,this.docs=e,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=o,this.fromCache=d,this.syncStateChanged=h,this.excludesMetadataChanges=g,this.hasCachedResults=b}static fromInitialDocuments(t,e,n,r,o){const d=[];return e.forEach(h=>{d.push({type:0,doc:h})}),new S_(t,e,I_.emptySet(e),d,n,r,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&p0(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const e=this.docChanges,n=t.docChanges;if(e.length!==n.length)return!1;for(let r=0;r<e.length;r++)if(e[r].type!==n[r].type||!e[r].doc.isEqual(n[r].doc))return!1;return!0}}class s7{constructor(){this.Eu=void 0,this.listeners=[]}}class a7{constructor(){this.queries=new zu(t=>IV(t),p0),this.onlineState="Unknown",this.Au=new Set}}function ZR(i,t){return KR.apply(this,arguments)}function KR(){return KR=(0,ke.Z)(function*(i,t){const e=mt(i),n=t.query;let r=!1,o=e.queries.get(n);if(o||(r=!0,o=new s7),r)try{o.Eu=yield e.onListen(n)}catch(d){const h=M_(d,`Initialization of query '${QA(t.query)}' failed`);return void t.onError(h)}e.queries.set(n,o),o.listeners.push(t),t.Ru(e.onlineState),o.Eu&&t.vu(o.Eu)&&JR(e)}),KR.apply(this,arguments)}function QR(i,t){return XR.apply(this,arguments)}function XR(){return XR=(0,ke.Z)(function*(i,t){const e=mt(i),n=t.query;let r=!1;const o=e.queries.get(n);if(o){const d=o.listeners.indexOf(t);d>=0&&(o.listeners.splice(d,1),r=0===o.listeners.length)}if(r)return e.queries.delete(n),e.onUnlisten(n)}),XR.apply(this,arguments)}function c7(i,t){const e=mt(i);let n=!1;for(const r of t){const d=e.queries.get(r.query);if(d){for(const h of d.listeners)h.vu(r)&&(n=!0);d.Eu=r}}n&&JR(e)}function l7(i,t,e){const n=mt(i),r=n.queries.get(t);if(r)for(const o of r.listeners)o.onError(e);n.queries.delete(t)}function JR(i){i.Au.forEach(t=>{t.next()})}class e1{constructor(t,e,n){this.query=t,this.bu=e,this.Pu=!1,this.Vu=null,this.onlineState="Unknown",this.options=n||{}}vu(t){if(!this.options.includeMetadataChanges){const n=[];for(const r of t.docChanges)3!==r.type&&n.push(r);t=new S_(t.query,t.docs,t.oldDocs,n,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let e=!1;return this.Pu?this.Su(t)&&(this.bu.next(t),e=!0):this.Du(t,this.onlineState)&&(this.Cu(t),e=!0),this.Vu=t,e}onError(t){this.bu.error(t)}Ru(t){this.onlineState=t;let e=!1;return this.Vu&&!this.Pu&&this.Du(this.Vu,t)&&(this.Cu(this.Vu),e=!0),e}Du(t,e){return!t.fromCache||(!this.options.xu||!("Offline"!==e))&&(!t.docs.isEmpty()||t.hasCachedResults||"Offline"===e)}Su(t){return t.docChanges.length>0||!!(t.syncStateChanged||this.Vu&&this.Vu.hasPendingWrites!==t.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Cu(t){t=S_.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Pu=!0,this.bu.next(t)}}class d7{constructor(t,e){this.Nu=t,this.byteLength=e}ku(){return"metadata"in this.Nu}}class sU{constructor(t){this.serializer=t}Hi(t){return il(this.serializer,t)}Ji(t){return t.metadata.exists?oH(this.serializer,t.document,!1):Cn.newNoDocument(this.Hi(t.metadata.name),this.Yi(t.metadata.readTime))}Yi(t){return fr(t)}}class u7{constructor(t,e,n){this.Ou=t,this.localStore=e,this.serializer=n,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=aU(t)}$u(t){this.progress.bytesLoaded+=t.byteLength;let e=this.progress.documentsLoaded;if(t.Nu.namedQuery)this.queries.push(t.Nu.namedQuery);else if(t.Nu.documentMetadata){this.documents.push({metadata:t.Nu.documentMetadata}),t.Nu.documentMetadata.exists||++e;const n=Ai.fromString(t.Nu.documentMetadata.name);this.collectionGroups.add(n.get(n.length-2))}else t.Nu.document&&(this.documents[this.documents.length-1].document=t.Nu.document,++e);return e!==this.progress.documentsLoaded?(this.progress.documentsLoaded=e,Object.assign({},this.progress)):null}Mu(t){const e=new Map,n=new sU(this.serializer);for(const r of t)if(r.metadata.queries){const o=n.Hi(r.metadata.name);for(const d of r.metadata.queries){const h=(e.get(d)||xi()).add(o);e.set(d,h)}}return e}complete(){var t=this;return(0,ke.Z)(function*(){const e=yield function BZ(i,t,e,n){return xR.apply(this,arguments)}(t.localStore,new sU(t.serializer),t.documents,t.Ou.id),n=t.Mu(t.documents);for(const r of t.queries)yield VZ(t.localStore,r,n.get(r.name));return t.progress.taskState="Success",{progress:t.progress,Fu:t.collectionGroups,Bu:e}})()}}function aU(i){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:i.totalDocuments,totalBytes:i.totalBytes}}class cU{constructor(t){this.key=t}}class lU{constructor(t){this.key=t}}class dU{constructor(t,e){this.query=t,this.Lu=e,this.qu=null,this.hasCachedResults=!1,this.current=!1,this.Uu=xi(),this.mutatedKeys=xi(),this.Ku=TV(t),this.Gu=new I_(this.Ku)}get Qu(){return this.Lu}zu(t,e){const n=e?e.ju:new oU,r=e?e.Gu:this.Gu;let o=e?e.mutatedKeys:this.mutatedKeys,d=r,h=!1;const g="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,b="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(t.inorderTraversal((x,k)=>{const T=r.get(x),F=f0(this.query,k)?k:null,H=!!T&&this.mutatedKeys.has(T.key),X=!!F&&(F.hasLocalMutations||this.mutatedKeys.has(F.key)&&F.hasCommittedMutations);let ne=!1;T&&F?T.data.isEqual(F.data)?H!==X&&(n.track({type:3,doc:F}),ne=!0):this.Wu(T,F)||(n.track({type:2,doc:F}),ne=!0,(g&&this.Ku(F,g)>0||b&&this.Ku(F,b)<0)&&(h=!0)):!T&&F?(n.track({type:0,doc:F}),ne=!0):T&&!F&&(n.track({type:1,doc:T}),ne=!0,(g||b)&&(h=!0)),ne&&(F?(d=d.add(F),o=X?o.add(x):o.delete(x)):(d=d.delete(x),o=o.delete(x)))}),null!==this.query.limit)for(;d.size>this.query.limit;){const x="F"===this.query.limitType?d.last():d.first();d=d.delete(x.key),o=o.delete(x.key),n.track({type:1,doc:x})}return{Gu:d,ju:n,Mi:h,mutatedKeys:o}}Wu(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations}applyChanges(t,e,n){const r=this.Gu;this.Gu=t.Gu,this.mutatedKeys=t.mutatedKeys;const o=t.ju.Tu();o.sort((b,x)=>function(k,T){const F=H=>{switch(H){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return St()}};return F(k)-F(T)}(b.type,x.type)||this.Ku(b.doc,x.doc)),this.Hu(n);const d=e?this.Ju():[],h=0===this.Uu.size&&this.current?1:0,g=h!==this.qu;return this.qu=h,0!==o.length||g?{snapshot:new S_(this.query,t.Gu,r,o,t.mutatedKeys,0===h,g,!1,!!n&&n.resumeToken.approximateByteSize()>0),Yu:d}:{Yu:d}}Ru(t){return this.current&&"Offline"===t?(this.current=!1,this.applyChanges({Gu:this.Gu,ju:new oU,mutatedKeys:this.mutatedKeys,Mi:!1},!1)):{Yu:[]}}Zu(t){return!this.Lu.has(t)&&!!this.Gu.has(t)&&!this.Gu.get(t).hasLocalMutations}Hu(t){t&&(t.addedDocuments.forEach(e=>this.Lu=this.Lu.add(e)),t.modifiedDocuments.forEach(e=>{}),t.removedDocuments.forEach(e=>this.Lu=this.Lu.delete(e)),this.current=t.current)}Ju(){if(!this.current)return[];const t=this.Uu;this.Uu=xi(),this.Gu.forEach(n=>{this.Zu(n.key)&&(this.Uu=this.Uu.add(n.key))});const e=[];return t.forEach(n=>{this.Uu.has(n)||e.push(new lU(n))}),this.Uu.forEach(n=>{t.has(n)||e.push(new cU(n))}),e}Xu(t){this.Lu=t.Wi,this.Uu=xi();const e=this.zu(t.documents);return this.applyChanges(e,!0)}tc(){return S_.fromInitialDocuments(this.query,this.Gu,this.mutatedKeys,0===this.qu,this.hasCachedResults)}}class h7{constructor(t,e,n){this.query=t,this.targetId=e,this.view=n}}class m7{constructor(t){this.key=t,this.ec=!1}}class p7{constructor(t,e,n,r,o,d){this.localStore=t,this.remoteStore=e,this.eventManager=n,this.sharedClientState=r,this.currentUser=o,this.maxConcurrentLimboResolutions=d,this.nc={},this.sc=new zu(h=>IV(h),p0),this.ic=new Map,this.rc=new Set,this.oc=new Jn(dt.comparator),this.uc=new Map,this.cc=new fR,this.ac={},this.hc=new Map,this.lc=yp.bn(),this.onlineState="Unknown",this.fc=void 0}get isPrimaryClient(){return!0===this.fc}}function f7(i,t){return t1.apply(this,arguments)}function t1(){return t1=(0,ke.Z)(function*(i,t){const e=E1(i);let n,r;const o=e.sc.get(t);if(o)n=o.targetId,e.sharedClientState.addLocalQueryTarget(n),r=o.view.tc();else{const d=yield x_(e.localStore,Wo(t));e.isPrimaryClient&&tk(e.remoteStore,d);const h=e.sharedClientState.addLocalQueryTarget(d.targetId);n=d.targetId,r=yield n1(e,t,n,"current"===h,d.resumeToken)}return r}),t1.apply(this,arguments)}function n1(i,t,e,n,r){return r1.apply(this,arguments)}function r1(){return r1=(0,ke.Z)(function*(i,t,e,n,r){i.dc=(k,T,F)=>{return(H=(0,ke.Z)(function*(X,ne,je,Ct){let wt=ne.view.zu(je);wt.Mi&&(wt=yield KE(X.localStore,ne.query,!1).then(({documents:hi})=>ne.view.zu(hi,wt)));const Rt=Ct&&Ct.targetChanges.get(ne.targetId),oi=ne.view.applyChanges(wt,X.isPrimaryClient,Rt);return p1(X,ne.targetId,oi.Yu),oi.snapshot}),function(X,ne,je,Ct){return H.apply(this,arguments)})(i,k,T,F);var H};const o=yield KE(i.localStore,t,!0),d=new dU(t,o.Wi),h=d.zu(o.documents),g=w0.createSynthesizedTargetChangeForCurrentChange(e,n&&"Offline"!==i.onlineState,r),b=d.applyChanges(h,i.isPrimaryClient,g);p1(i,e,b.Yu);const x=new h7(t,e,d);return i.sc.set(t,x),i.ic.has(e)?i.ic.get(e).push(t):i.ic.set(e,[t]),b.snapshot}),r1.apply(this,arguments)}function g7(i,t){return o1.apply(this,arguments)}function o1(){return o1=(0,ke.Z)(function*(i,t){const e=mt(i),n=e.sc.get(t),r=e.ic.get(n.targetId);if(r.length>1)return e.ic.set(n.targetId,r.filter(o=>!p0(o,t))),void e.sc.delete(t);e.isPrimaryClient?(e.sharedClientState.removeLocalQueryTarget(n.targetId),e.sharedClientState.isActiveQueryTarget(n.targetId)||(yield C_(e.localStore,n.targetId,!1).then(()=>{e.sharedClientState.clearQueryState(n.targetId),F0(e.remoteStore,n.targetId),T_(e,n.targetId)}).catch(Fu))):(T_(e,n.targetId),yield C_(e.localStore,n.targetId,!0))}),o1.apply(this,arguments)}function s1(){return s1=(0,ke.Z)(function*(i,t,e){const n=k1(i);try{const r=yield function(o,d){const h=mt(o),g=On.now(),b=d.reduce((T,F)=>T.add(F.key),xi());let x,k;return h.persistence.runTransaction("Locally write mutations","readwrite",T=>{let F=fs(),H=xi();return h.Ki.getEntries(T,b).next(X=>{F=X,F.forEach((ne,je)=>{je.isValidDocument()||(H=H.add(ne))})}).next(()=>h.localDocuments.getOverlayedDocuments(T,F)).next(X=>{x=X;const ne=[];for(const je of d){const Ct=GW(je,x.get(je.key).overlayedDocument);null!=Ct&&ne.push(new dd(je.key,Ct,pV(Ct.value.mapValue),Pn.exists(!0)))}return h.mutationQueue.addMutationBatch(T,g,ne,d)}).next(X=>{k=X;const ne=X.applyToLocalDocumentSet(x,H);return h.documentOverlayCache.saveOverlays(T,X.batchId,ne)})}).then(()=>({batchId:k.batchId,changes:RV(x)}))}(n.localStore,t);n.sharedClientState.addPendingMutation(r.batchId),function(o,d,h){let g=o.ac[o.currentUser.toKey()];g||(g=new Jn(ui)),g=g.insert(d,h),o.ac[o.currentUser.toKey()]=g}(n,r.batchId,e),yield ud(n,r.changes),yield E_(n.remoteStore)}catch(r){const o=M_(r,"Failed to persist write");e.reject(o)}}),s1.apply(this,arguments)}function uU(i,t){return a1.apply(this,arguments)}function a1(){return a1=(0,ke.Z)(function*(i,t){const e=mt(i);try{const n=yield function NZ(i,t){const e=mt(i),n=t.snapshotVersion;let r=e.Li;return e.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const d=e.Ki.newChangeBuffer({trackRemovals:!0});r=e.Li;const h=[];t.targetChanges.forEach((x,k)=>{const T=r.get(k);if(!T)return;h.push(e.Ds.removeMatchingKeys(o,x.removedDocuments,k).next(()=>e.Ds.addMatchingKeys(o,x.addedDocuments,k)));let F=T.withSequenceNumber(o.currentSequenceNumber);var H,X,ne;t.targetMismatches.has(k)?F=F.withResumeToken(Pr.EMPTY_BYTE_STRING,Ut.min()).withLastLimboFreeSnapshotVersion(Ut.min()):x.resumeToken.approximateByteSize()>0&&(F=F.withResumeToken(x.resumeToken,n)),r=r.insert(k,F),X=F,ne=x,(0===(H=T).resumeToken.approximateByteSize()||X.snapshotVersion.toMicroseconds()-H.snapshotVersion.toMicroseconds()>=3e8||ne.addedDocuments.size+ne.modifiedDocuments.size+ne.removedDocuments.size>0)&&h.push(e.Ds.updateTargetData(o,F))});let g=fs(),b=xi();if(t.documentUpdates.forEach(x=>{t.resolvedLimboDocuments.has(x)&&h.push(e.persistence.referenceDelegate.updateLimboDocument(o,x))}),h.push(jH(o,d,t.documentUpdates).next(x=>{g=x.zi,b=x.ji})),!n.isEqual(Ut.min())){const x=e.Ds.getLastRemoteSnapshotVersion(o).next(k=>e.Ds.setTargetsMetadata(o,o.currentSequenceNumber,n));h.push(x)}return de.waitFor(h).next(()=>d.apply(o)).next(()=>e.localDocuments.getLocalViewOfDocuments(o,g,b)).next(()=>g)}).then(o=>(e.Li=r,o))}(e.localStore,t);t.targetChanges.forEach((r,o)=>{const d=e.uc.get(o);d&&(Lt(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1),r.addedDocuments.size>0?d.ec=!0:r.modifiedDocuments.size>0?Lt(d.ec):r.removedDocuments.size>0&&(Lt(d.ec),d.ec=!1))}),yield ud(e,n,t)}catch(n){yield Fu(n)}}),a1.apply(this,arguments)}function hU(i,t,e){const n=mt(i);if(n.isPrimaryClient&&0===e||!n.isPrimaryClient&&1===e){const r=[];n.sc.forEach((o,d)=>{const h=d.view.Ru(t);h.snapshot&&r.push(h.snapshot)}),function(o,d){const h=mt(o);h.onlineState=d;let g=!1;h.queries.forEach((b,x)=>{for(const k of x.listeners)k.Ru(d)&&(g=!0)}),g&&JR(h)}(n.eventManager,t),r.length&&n.nc.zo(r),n.onlineState=t,n.isPrimaryClient&&n.sharedClientState.setOnlineState(t)}}function v7(i,t,e){return c1.apply(this,arguments)}function c1(){return c1=(0,ke.Z)(function*(i,t,e){const n=mt(i);n.sharedClientState.updateQueryState(t,"rejected",e);const r=n.uc.get(t),o=r&&r.key;if(o){let d=new Jn(dt.comparator);d=d.insert(o,Cn.newNoDocument(o,Ut.min()));const h=xi().add(o),g=new y0(Ut.min(),new Map,new cn(ui),d,h);yield uU(n,g),n.oc=n.oc.remove(o),n.uc.delete(t),f1(n)}else yield C_(n.localStore,t,!1).then(()=>T_(n,t,e)).catch(Fu)}),c1.apply(this,arguments)}function b7(i,t){return l1.apply(this,arguments)}function l1(){return l1=(0,ke.Z)(function*(i,t){const e=mt(i),n=t.batch.batchId;try{const r=yield function FZ(i,t){const e=mt(i);return e.persistence.runTransaction("Acknowledge batch","readwrite-primary",n=>{const r=t.batch.keys(),o=e.Ki.newChangeBuffer({trackRemovals:!0});return function(d,h,g,b){const x=g.batch,k=x.keys();let T=de.resolve();return k.forEach(F=>{T=T.next(()=>b.getEntry(h,F)).next(H=>{const X=g.docVersions.get(F);Lt(null!==X),H.version.compareTo(X)<0&&(x.applyToRemoteDocument(H,g),H.isValidDocument()&&(H.setReadTime(g.commitVersion),b.addEntry(H)))})}),T.next(()=>d.mutationQueue.removeMutationBatch(h,x))}(e,n,t,o).next(()=>o.apply(n)).next(()=>e.mutationQueue.performConsistencyCheck(n)).next(()=>e.documentOverlayCache.removeOverlaysForBatchId(n,r,t.batch.batchId)).next(()=>e.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(n,function(d){let h=xi();for(let g=0;g<d.mutationResults.length;++g)d.mutationResults[g].transformResults.length>0&&(h=h.add(d.batch.mutations[g].key));return h}(t))).next(()=>e.localDocuments.getDocuments(n,r))})}(e.localStore,t);m1(e,n,null),h1(e,n),e.sharedClientState.updateMutationState(n,"acknowledged"),yield ud(e,r)}catch(r){yield Fu(r)}}),l1.apply(this,arguments)}function y7(i,t,e){return d1.apply(this,arguments)}function d1(){return d1=(0,ke.Z)(function*(i,t,e){const n=mt(i);try{const r=yield function(o,d){const h=mt(o);return h.persistence.runTransaction("Reject batch","readwrite-primary",g=>{let b;return h.mutationQueue.lookupMutationBatch(g,d).next(x=>(Lt(null!==x),b=x.keys(),h.mutationQueue.removeMutationBatch(g,x))).next(()=>h.mutationQueue.performConsistencyCheck(g)).next(()=>h.documentOverlayCache.removeOverlaysForBatchId(g,b,d)).next(()=>h.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,b)).next(()=>h.localDocuments.getDocuments(g,b))})}(n.localStore,t);m1(n,t,e),h1(n,t),n.sharedClientState.updateMutationState(t,"rejected",e),yield ud(n,r)}catch(r){yield Fu(r)}}),d1.apply(this,arguments)}function u1(){return u1=(0,ke.Z)(function*(i,t){const e=mt(i);Wu(e.remoteStore)||ze("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const n=yield function(o){const d=mt(o);return d.persistence.runTransaction("Get highest unacknowledged batch id","readonly",h=>d.mutationQueue.getHighestUnacknowledgedBatchId(h))}(e.localStore);if(-1===n)return void t.resolve();const r=e.hc.get(n)||[];r.push(t),e.hc.set(n,r)}catch(n){const r=M_(n,"Initialization of waitForPendingWrites() operation failed");t.reject(r)}}),u1.apply(this,arguments)}function h1(i,t){(i.hc.get(t)||[]).forEach(e=>{e.resolve()}),i.hc.delete(t)}function m1(i,t,e){const n=mt(i);let r=n.ac[n.currentUser.toKey()];if(r){const o=r.get(t);o&&(e?o.reject(e):o.resolve(),r=r.remove(t)),n.ac[n.currentUser.toKey()]=r}}function T_(i,t,e=null){i.sharedClientState.removeLocalQueryTarget(t);for(const n of i.ic.get(t))i.sc.delete(n),e&&i.nc.wc(n,e);i.ic.delete(t),i.isPrimaryClient&&i.cc.hs(t).forEach(n=>{i.cc.containsKey(n)||mU(i,n)})}function mU(i,t){i.rc.delete(t.path.canonicalString());const e=i.oc.get(t);null!==e&&(F0(i.remoteStore,e),i.oc=i.oc.remove(t),i.uc.delete(e),f1(i))}function p1(i,t,e){for(const n of e)n instanceof cU?(i.cc.addReference(n.key,t),x7(i,n)):n instanceof lU?(ze("SyncEngine","Document no longer in limbo: "+n.key),i.cc.removeReference(n.key,t),i.cc.containsKey(n.key)||mU(i,n.key)):St()}function x7(i,t){const e=t.key,n=e.path.canonicalString();i.oc.get(e)||i.rc.has(n)||(ze("SyncEngine","New document in limbo: "+e),i.rc.add(n),f1(i))}function f1(i){for(;i.rc.size>0&&i.oc.size<i.maxConcurrentLimboResolutions;){const t=i.rc.values().next().value;i.rc.delete(t);const e=new dt(Ai.fromString(t)),n=i.lc.next();i.uc.set(n,new m7(e)),i.oc=i.oc.insert(e,n),tk(i.remoteStore,new Gu(Wo(m_(e.path)),n,2,js.ct))}}function ud(i,t,e){return g1.apply(this,arguments)}function g1(){return g1=(0,ke.Z)(function*(i,t,e){const n=mt(i),r=[],o=[],d=[];var h;n.sc.isEmpty()||(n.sc.forEach((h,g)=>{d.push(n.dc(g,t,e).then(b=>{if((b||e)&&n.isPrimaryClient&&n.sharedClientState.updateQueryState(g.targetId,b?.fromCache?"not-current":"current"),b){r.push(b);const x=bR.Di(g.targetId,b);o.push(x)}}))}),yield Promise.all(d),n.nc.zo(r),yield(h=(0,ke.Z)(function*(g,b){const x=mt(g);try{yield x.persistence.runTransaction("notifyLocalViewChanges","readwrite",k=>de.forEach(b,T=>de.forEach(T.Vi,F=>x.persistence.referenceDelegate.addReference(k,T.targetId,F)).next(()=>de.forEach(T.Si,F=>x.persistence.referenceDelegate.removeReference(k,T.targetId,F)))))}catch(k){if(!Nu(k))throw k;ze("LocalStore","Failed to update sequence numbers: "+k)}for(const k of b){const T=k.targetId;if(!k.fromCache){const F=x.Li.get(T),X=F.withLastLimboFreeSnapshotVersion(F.snapshotVersion);x.Li=x.Li.insert(T,X)}}}),function(g,b){return h.apply(this,arguments)})(n.localStore,o))}),g1.apply(this,arguments)}function C7(i,t){return _1.apply(this,arguments)}function _1(){return _1=(0,ke.Z)(function*(i,t){const e=mt(i);if(!e.currentUser.isEqual(t)){ze("SyncEngine","User change. New user:",t.toKey());const n=yield UH(e.localStore,t);e.currentUser=t,(r=e).hc.forEach(d=>{d.forEach(h=>{h.reject(new Pe(pe.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),r.hc.clear(),e.sharedClientState.handleUserChange(t,n.removedBatchIds,n.addedBatchIds),yield ud(e,n.Qi)}var r}),_1.apply(this,arguments)}function D7(i,t){const e=mt(i),n=e.uc.get(t);if(n&&n.ec)return xi().add(n.key);{let r=xi();const o=e.ic.get(t);if(!o)return r;for(const d of o){const h=e.sc.get(d);r=r.unionWith(h.view.Qu)}return r}}function E7(i,t){return v1.apply(this,arguments)}function v1(){return v1=(0,ke.Z)(function*(i,t){const e=mt(i),n=yield KE(e.localStore,t.query,!0),r=t.view.Xu(n);return e.isPrimaryClient&&p1(e,t.targetId,r.Yu),r}),v1.apply(this,arguments)}function k7(i,t){return b1.apply(this,arguments)}function b1(){return b1=(0,ke.Z)(function*(i,t){const e=mt(i);return $H(e.localStore,t).then(n=>ud(e,n))}),b1.apply(this,arguments)}function M7(i,t,e,n){return y1.apply(this,arguments)}function y1(){return y1=(0,ke.Z)(function*(i,t,e,n){const r=mt(i),o=yield function(d,h){const g=mt(d),b=mt(g.mutationQueue);return g.persistence.runTransaction("Lookup mutation documents","readonly",x=>b.In(x,h).next(k=>k?g.localDocuments.getDocuments(x,k):de.resolve(null)))}(r.localStore,t);var h;null!==o?("pending"===e?yield E_(r.remoteStore):"acknowledged"===e||"rejected"===e?(m1(r,t,n||null),h1(r,t),h=t,mt(mt(r.localStore).mutationQueue).En(h)):St(),yield ud(r,o)):ze("SyncEngine","Cannot apply mutation batch with id: "+t)}),y1.apply(this,arguments)}function w1(){return w1=(0,ke.Z)(function*(i,t){const e=mt(i);if(E1(e),k1(e),!0===t&&!0!==e.fc){const n=e.sharedClientState.getAllActiveQueryTargets(),r=yield pU(e,n.toArray());e.fc=!0,yield YR(e.remoteStore,!0);for(const o of r)tk(e.remoteStore,o)}else if(!1===t&&!1!==e.fc){const n=[];let r=Promise.resolve();e.ic.forEach((o,d)=>{e.sharedClientState.isLocalQueryTarget(d)?n.push(d):r=r.then(()=>(T_(e,d),C_(e.localStore,d,!0))),F0(e.remoteStore,d)}),yield r,yield pU(e,n),function(o){const d=mt(o);d.uc.forEach((h,g)=>{F0(d.remoteStore,g)}),d.cc.ls(),d.uc=new Map,d.oc=new Jn(dt.comparator)}(e),e.fc=!1,yield YR(e.remoteStore,!1)}}),w1.apply(this,arguments)}function pU(i,t,e){return x1.apply(this,arguments)}function x1(){return x1=(0,ke.Z)(function*(i,t,e){const n=mt(i),r=[],o=[];for(const d of t){let h;const g=n.ic.get(d);if(g&&0!==g.length){h=yield x_(n.localStore,Wo(g[0]));for(const b of g){const x=n.sc.get(b),k=yield E7(n,x);k.snapshot&&o.push(k.snapshot)}}else{const b=yield GH(n.localStore,d);h=yield x_(n.localStore,b),yield n1(n,fU(b),d,!1,h.resumeToken)}r.push(h)}return n.nc.zo(o),r}),x1.apply(this,arguments)}function fU(i){return kV(i.path,i.collectionGroup,i.orderBy,i.filters,i.limit,"F",i.startAt,i.endAt)}function S7(i){const t=mt(i);return mt(mt(t.localStore).persistence).bi()}function T7(i,t,e,n){return C1.apply(this,arguments)}function C1(){return C1=(0,ke.Z)(function*(i,t,e,n){const r=mt(i);if(r.fc)return void ze("SyncEngine","Ignoring unexpected query state notification.");const o=r.ic.get(t);if(o&&o.length>0)switch(e){case"current":case"not-current":{const d=yield $H(r.localStore,SV(o[0])),h=y0.createSynthesizedRemoteEventForCurrentChange(t,"current"===e,Pr.EMPTY_BYTE_STRING);yield ud(r,d,h);break}case"rejected":yield C_(r.localStore,t,!0),T_(r,t,n);break;default:St()}}),C1.apply(this,arguments)}function A7(i,t,e){return D1.apply(this,arguments)}function D1(){return D1=(0,ke.Z)(function*(i,t,e){const n=E1(i);if(n.fc){for(const r of t){if(n.ic.has(r)){ze("SyncEngine","Adding an already active target "+r);continue}const o=yield GH(n.localStore,r),d=yield x_(n.localStore,o);yield n1(n,fU(o),d.targetId,!1,d.resumeToken),tk(n.remoteStore,d)}for(const r of e)n.ic.has(r)&&(yield C_(n.localStore,r,!1).then(()=>{F0(n.remoteStore,r),T_(n,r)}).catch(Fu))}}),D1.apply(this,arguments)}function E1(i){const t=mt(i);return t.remoteStore.remoteSyncer.applyRemoteEvent=uU.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=D7.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=v7.bind(null,t),t.nc.zo=c7.bind(null,t.eventManager),t.nc.wc=l7.bind(null,t.eventManager),t}function k1(i){const t=mt(i);return t.remoteStore.remoteSyncer.applySuccessfulWrite=b7.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=y7.bind(null,t),t}class nk{constructor(){this.synchronizeTabs=!1}initialize(t){var e=this;return(0,ke.Z)(function*(){e.serializer=O0(t.databaseInfo.databaseId),e.sharedClientState=e.createSharedClientState(t),e.persistence=e.createPersistence(t),yield e.persistence.start(),e.localStore=e.createLocalStore(t),e.gcScheduler=e.createGarbageCollectionScheduler(t,e.localStore),e.indexBackfillerScheduler=e.createIndexBackfillerScheduler(t,e.localStore)})()}createGarbageCollectionScheduler(t,e){return null}createIndexBackfillerScheduler(t,e){return null}createLocalStore(t){return HH(this.persistence,new VH,t.initialUser,this.serializer)}createPersistence(t){return new LH(WE.Fs,this.serializer)}createSharedClientState(t){return new ZH}terminate(){var t=this;return(0,ke.Z)(function*(){t.gcScheduler&&t.gcScheduler.stop(),yield t.sharedClientState.shutdown(),yield t.persistence.shutdown()})()}}class M1 extends nk{constructor(t,e,n){super(),this.mc=t,this.cacheSizeBytes=e,this.forceOwnership=n,this.synchronizeTabs=!1}initialize(t){var e=()=>super.initialize,n=this;return(0,ke.Z)(function*(){yield e().call(n,t),yield n.mc.initialize(n,t),yield k1(n.mc.syncEngine),yield E_(n.mc.remoteStore),yield n.persistence.hi(()=>(n.gcScheduler&&!n.gcScheduler.started&&n.gcScheduler.start(),n.indexBackfillerScheduler&&!n.indexBackfillerScheduler.started&&n.indexBackfillerScheduler.start(),Promise.resolve()))})()}createLocalStore(t){return HH(this.persistence,new VH,t.initialUser,this.serializer)}createGarbageCollectionScheduler(t,e){return new yZ(this.persistence.referenceDelegate.garbageCollector,t.asyncQueue,e)}createIndexBackfillerScheduler(t,e){const n=new tW(e,this.persistence);return new eW(t.asyncQueue,n)}createPersistence(t){const e=vR(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?gs.withCacheSize(this.cacheSizeBytes):gs.DEFAULT;return new _R(this.synchronizeTabs,e,t.clientId,n,t.asyncQueue,QH(),ek(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(t){return new ZH}}class gU extends M1{constructor(t,e){super(t,e,!1),this.mc=t,this.cacheSizeBytes=e,this.synchronizeTabs=!0}initialize(t){var e=()=>super.initialize,n=this;return(0,ke.Z)(function*(){yield e().call(n,t);const r=n.mc.syncEngine;n.sharedClientState instanceof MR&&(n.sharedClientState.syncEngine={$r:M7.bind(null,r),Mr:T7.bind(null,r),Fr:A7.bind(null,r),bi:S7.bind(null,r),Or:k7.bind(null,r)},yield n.sharedClientState.start()),yield n.persistence.hi(function(){var o=(0,ke.Z)(function*(d){yield function I7(i,t){return w1.apply(this,arguments)}(n.mc.syncEngine,d),n.gcScheduler&&(d&&!n.gcScheduler.started?n.gcScheduler.start():d||n.gcScheduler.stop()),n.indexBackfillerScheduler&&(d&&!n.indexBackfillerScheduler.started?n.indexBackfillerScheduler.start():d||n.indexBackfillerScheduler.stop())});return function(d){return o.apply(this,arguments)}}())})()}createSharedClientState(t){const e=QH();if(!MR.D(e))throw new Pe(pe.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const n=vR(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey);return new MR(e,t.asyncQueue,n,t.clientId,t.initialUser)}}class A_{initialize(t,e){var n=this;return(0,ke.Z)(function*(){n.localStore||(n.localStore=t.localStore,n.sharedClientState=t.sharedClientState,n.datastore=n.createDatastore(e),n.remoteStore=n.createRemoteStore(e),n.eventManager=n.createEventManager(e),n.syncEngine=n.createSyncEngine(e,!t.synchronizeTabs),n.sharedClientState.onlineStateHandler=r=>hU(n.syncEngine,r,1),n.remoteStore.remoteSyncer.handleCredentialChange=C7.bind(null,n.syncEngine),yield YR(n.remoteStore,n.syncEngine.isPrimaryClient))})()}createEventManager(t){return new a7}createDatastore(t){const e=O0(t.databaseInfo.databaseId),n=new jZ(t.databaseInfo);return new YZ(t.authCredentials,t.appCheckCredentials,n,e)}createRemoteStore(t){return e=this.localStore,n=this.datastore,r=t.asyncQueue,o=h=>hU(this.syncEngine,h,0),d=KH.D()?new KH:new HZ,new ZZ(e,n,r,o,d);var e,n,r,o,d}createSyncEngine(t,e){return function(n,r,o,d,h,g,b){const x=new p7(n,r,o,d,h,g);return b&&(x.fc=!0),x}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)}terminate(){return(t=(0,ke.Z)(function*(e){const n=mt(e);ze("RemoteStore","RemoteStore shutting down."),n.du.add(5),yield D_(n),n._u.shutdown(),n.mu.set("Unknown")}),function(e){return t.apply(this,arguments)})(this.remoteStore);var t}}function _U(i,t=10240){let e=0;return{read:()=>(0,ke.Z)(function*(){if(e<i.byteLength){const n={value:i.slice(e,e+t),done:!1};return e+=t,n}return{done:!0}})(),cancel:()=>(0,ke.Z)(function*(){})(),releaseLock(){},closed:Promise.resolve()}}class rk{constructor(t){this.observer=t,this.muted=!1}next(t){this.observer.next&&this.gc(this.observer.next,t)}error(t){this.observer.error?this.gc(this.observer.error,t):pr("Uncaught Error in snapshot listener:",t.toString())}yc(){this.muted=!0}gc(t,e){this.muted||setTimeout(()=>{this.muted||t(e)},0)}}class O7{constructor(t,e){this.Ic=t,this.serializer=e,this.metadata=new Or,this.buffer=new Uint8Array,this.Tc=new TextDecoder("utf-8"),this.Ec().then(n=>{n&&n.ku()?this.metadata.resolve(n.Nu.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(n?.Nu)}`))},n=>this.metadata.reject(n))}close(){return this.Ic.cancel()}getMetadata(){var t=this;return(0,ke.Z)(function*(){return t.metadata.promise})()}_c(){var t=this;return(0,ke.Z)(function*(){return yield t.getMetadata(),t.Ec()})()}Ec(){var t=this;return(0,ke.Z)(function*(){const e=yield t.Ac();if(null===e)return null;const n=t.Tc.decode(e),r=Number(n);isNaN(r)&&t.Rc(`length string (${n}) is not valid number`);const o=yield t.vc(r);return new d7(JSON.parse(o),e.length+r)})()}bc(){return this.buffer.findIndex(t=>t==="{".charCodeAt(0))}Ac(){var t=this;return(0,ke.Z)(function*(){for(;t.bc()<0&&!(yield t.Pc()););if(0===t.buffer.length)return null;const e=t.bc();e<0&&t.Rc("Reached the end of bundle when a length string is expected.");const n=t.buffer.slice(0,e);return t.buffer=t.buffer.slice(e),n})()}vc(t){var e=this;return(0,ke.Z)(function*(){for(;e.buffer.length<t;)(yield e.Pc())&&e.Rc("Reached the end of bundle when more is expected.");const n=e.Tc.decode(e.buffer.slice(0,t));return e.buffer=e.buffer.slice(t),n})()}Rc(t){throw this.Ic.cancel(),new Error(`Invalid bundle format: ${t}`)}Pc(){var t=this;return(0,ke.Z)(function*(){const e=yield t.Ic.read();if(!e.done){const n=new Uint8Array(t.buffer.length+e.value.length);n.set(t.buffer),n.set(e.value,t.buffer.length),t.buffer=n}return e.done})()}}class P7{constructor(t){this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(t){var e=this;return(0,ke.Z)(function*(){if(e.ensureCommitNotCalled(),e.mutations.length>0)throw new Pe(pe.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const n=yield(r=(0,ke.Z)(function*(o,d){const h=mt(o),g=C0(h.serializer)+"/documents",b={documents:d.map(F=>x0(h.serializer,F))},x=yield h.fo("BatchGetDocuments",g,b,d.length),k=new Map;x.forEach(F=>{const H=function eZ(i,t){return"found"in t?function(e,n){Lt(!!n.found);const r=il(e,n.found.name),o=fr(n.found.updateTime),d=n.found.createTime?fr(n.found.createTime):Ut.min(),h=new zr({mapValue:{fields:n.found.fields}});return Cn.newFoundDocument(r,o,d,h)}(i,t):"missing"in t?function(e,n){Lt(!!n.missing),Lt(!!n.readTime);const r=il(e,n.missing),o=fr(n.readTime);return Cn.newNoDocument(r,o)}(i,t):St()}(h.serializer,F);k.set(H.key.toString(),H)});const T=[];return d.forEach(F=>{const H=k.get(F.toString());Lt(!!H),T.push(H)}),T}),function(o,d){return r.apply(this,arguments)})(e.datastore,t);var r;return n.forEach(r=>e.recordVersion(r)),n})()}set(t,e){this.write(e.toMutation(t,this.precondition(t))),this.writtenDocs.add(t.toString())}update(t,e){try{this.write(e.toMutation(t,this.preconditionForUpdate(t)))}catch(n){this.lastWriteError=n}this.writtenDocs.add(t.toString())}delete(t){this.write(new __(t,this.precondition(t))),this.writtenDocs.add(t.toString())}commit(){var t=this;return(0,ke.Z)(function*(){if(t.ensureCommitNotCalled(),t.lastWriteError)throw t.lastWriteError;const e=t.readVersions;var n;t.mutations.forEach(n=>{e.delete(n.key.toString())}),e.forEach((n,r)=>{const o=dt.fromPath(r);t.mutations.push(new XA(o,t.precondition(o)))}),yield(n=(0,ke.Z)(function*(r,o){const d=mt(r),h=C0(d.serializer)+"/documents",g={writes:o.map(b=>D0(d.serializer,b))};yield d.co("Commit",h,g)}),function(r,o){return n.apply(this,arguments)})(t.datastore,t.mutations),t.committed=!0})()}recordVersion(t){let e;if(t.isFoundDocument())e=t.version;else{if(!t.isNoDocument())throw St();e=Ut.min()}const n=this.readVersions.get(t.key.toString());if(n){if(!e.isEqual(n))throw new Pe(pe.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(t.key.toString(),e)}precondition(t){const e=this.readVersions.get(t.toString());return!this.writtenDocs.has(t.toString())&&e?e.isEqual(Ut.min())?Pn.exists(!1):Pn.updateTime(e):Pn.none()}preconditionForUpdate(t){const e=this.readVersions.get(t.toString());if(!this.writtenDocs.has(t.toString())&&e){if(e.isEqual(Ut.min()))throw new Pe(pe.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Pn.updateTime(e)}return Pn.exists(!0)}write(t){this.ensureCommitNotCalled(),this.mutations.push(t)}ensureCommitNotCalled(){}}class F7{constructor(t,e,n,r,o){this.asyncQueue=t,this.datastore=e,this.options=n,this.updateFunction=r,this.deferred=o,this.Vc=n.maxAttempts,this.Co=new SR(this.asyncQueue,"transaction_retry")}run(){this.Vc-=1,this.Sc()}Sc(){var t=this;this.Co.Ao((0,ke.Z)(function*(){const e=new P7(t.datastore),n=t.Dc(e);n&&n.then(r=>{t.asyncQueue.enqueueAndForget(()=>e.commit().then(()=>{t.deferred.resolve(r)}).catch(o=>{t.Cc(o)}))}).catch(r=>{t.Cc(r)})}))}Dc(t){try{const e=this.updateFunction(t);return!a0(e)&&e.catch&&e.then?e:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}Cc(t){this.Vc>0&&this.xc(t)?(this.Vc-=1,this.asyncQueue.enqueueAndForget(()=>(this.Sc(),Promise.resolve()))):this.deferred.reject(t)}xc(t){if("FirebaseError"===t.name){const e=t.code;return"aborted"===e||"failed-precondition"===e||"already-exists"===e||!qV(e)}return!1}}class N7{constructor(t,e,n,r){var o=this;this.authCredentials=t,this.appCheckCredentials=e,this.asyncQueue=n,this.databaseInfo=r,this.user=Hr.UNAUTHENTICATED,this.clientId=GB.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(n,function(){var d=(0,ke.Z)(function*(h){ze("FirestoreClient","Received user=",h.uid),yield o.authCredentialListener(h),o.user=h});return function(h){return d.apply(this,arguments)}}()),this.appCheckCredentials.start(n,d=>(ze("FirestoreClient","Received new app check token=",d),this.appCheckCredentialListener(d,this.user)))}getConfiguration(){var t=this;return(0,ke.Z)(function*(){return{asyncQueue:t.asyncQueue,databaseInfo:t.databaseInfo,clientId:t.clientId,authCredentials:t.authCredentials,appCheckCredentials:t.appCheckCredentials,initialUser:t.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Pe(pe.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var t=this;this.asyncQueue.enterRestrictedMode();const e=new Or;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,ke.Z)(function*(){try{t._onlineComponents&&(yield t._onlineComponents.terminate()),t._offlineComponents&&(yield t._offlineComponents.terminate()),t.authCredentials.shutdown(),t.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=M_(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}function ok(i,t){return I1.apply(this,arguments)}function I1(){return I1=(0,ke.Z)(function*(i,t){i.asyncQueue.verifyOperationInProgress(),ze("FirestoreClient","Initializing OfflineComponentProvider");const e=yield i.getConfiguration();yield t.initialize(e);let n=e.initialUser;i.setCredentialChangeListener(function(){var r=(0,ke.Z)(function*(o){n.isEqual(o)||(yield UH(t.localStore,o),n=o)});return function(o){return r.apply(this,arguments)}}()),t.persistence.setDatabaseDeletedListener(()=>i.terminate()),i._offlineComponents=t}),I1.apply(this,arguments)}function S1(i,t){return T1.apply(this,arguments)}function T1(){return T1=(0,ke.Z)(function*(i,t){i.asyncQueue.verifyOperationInProgress();const e=yield A1(i);ze("FirestoreClient","Initializing OnlineComponentProvider");const n=yield i.getConfiguration();yield t.initialize(e,n),i.setCredentialChangeListener(r=>rU(t.remoteStore,r)),i.setAppCheckTokenChangeListener((r,o)=>rU(t.remoteStore,o)),i._onlineComponents=t}),T1.apply(this,arguments)}function vU(i){return"FirebaseError"===i.name?i.code===pe.FAILED_PRECONDITION||i.code===pe.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||22===i.code||20===i.code||11===i.code}function A1(i){return R1.apply(this,arguments)}function R1(){return R1=(0,ke.Z)(function*(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){ze("FirestoreClient","Using user provided OfflineComponentProvider");try{yield ok(i,i._uninitializedComponentsProvider._offline)}catch(t){const e=t;if(!vU(e))throw e;Xc("Error using user provided cache. Falling back to memory cache: "+e),yield ok(i,new nk)}}else ze("FirestoreClient","Using default OfflineComponentProvider"),yield ok(i,new nk);return i._offlineComponents}),R1.apply(this,arguments)}function sk(i){return O1.apply(this,arguments)}function O1(){return O1=(0,ke.Z)(function*(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(ze("FirestoreClient","Using user provided OnlineComponentProvider"),yield S1(i,i._uninitializedComponentsProvider._online)):(ze("FirestoreClient","Using default OnlineComponentProvider"),yield S1(i,new A_))),i._onlineComponents}),O1.apply(this,arguments)}function bU(i){return A1(i).then(t=>t.persistence)}function ak(i){return A1(i).then(t=>t.localStore)}function yU(i){return sk(i).then(t=>t.remoteStore)}function P1(i){return sk(i).then(t=>t.syncEngine)}function R_(i){return F1.apply(this,arguments)}function F1(){return F1=(0,ke.Z)(function*(i){const t=yield sk(i),e=t.eventManager;return e.onListen=f7.bind(null,t.syncEngine),e.onUnlisten=g7.bind(null,t.syncEngine),e}),F1.apply(this,arguments)}function xU(i,t,e={}){const n=new Or;return i.asyncQueue.enqueueAndForget((0,ke.Z)(function*(){return function(r,o,d,h,g){const b=new rk({next:k=>{o.enqueueAndForget(()=>QR(r,x));const T=k.docs.has(d);!T&&k.fromCache?g.reject(new Pe(pe.UNAVAILABLE,"Failed to get document because the client is offline.")):T&&k.fromCache&&h&&"server"===h.source?g.reject(new Pe(pe.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(k)},error:k=>g.reject(k)}),x=new e1(m_(d.path),b,{includeMetadataChanges:!0,xu:!0});return ZR(r,x)}(yield R_(i),i.asyncQueue,t,e,n)})),n.promise}function CU(i,t,e={}){const n=new Or;return i.asyncQueue.enqueueAndForget((0,ke.Z)(function*(){return function(r,o,d,h,g){const b=new rk({next:k=>{o.enqueueAndForget(()=>QR(r,x)),k.fromCache&&"server"===h.source?g.reject(new Pe(pe.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(k)},error:k=>g.reject(k)}),x=new e1(d,b,{includeMetadataChanges:!0,xu:!0});return ZR(r,x)}(yield R_(i),i.asyncQueue,t,e,n)})),n.promise}const DU=new Map;function N1(i,t,e){if(!e)throw new Pe(pe.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${t}.`)}function EU(i,t,e,n){if(!0===t&&!0===n)throw new Pe(pe.INVALID_ARGUMENT,`${i} and ${e} cannot be used together.`)}function kU(i){if(!dt.isDocumentKey(i))throw new Pe(pe.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function MU(i){if(dt.isDocumentKey(i))throw new Pe(pe.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function ck(i){if(void 0===i)return"undefined";if(null===i)return"null";if("string"==typeof i)return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if("number"==typeof i||"boolean"==typeof i)return""+i;if("object"==typeof i){if(i instanceof Array)return"an array";{const t=(e=i).constructor?e.constructor.name:null;return t?`a custom ${t} object`:"an object"}}var e;return"function"==typeof i?"a function":St()}function Si(i,t){if("_delegate"in i&&(i=i._delegate),!(i instanceof t)){if(t.name===i.constructor.name)throw new Pe(pe.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const e=ck(i);throw new Pe(pe.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${e}`)}}return i}function IU(i,t){if(t<=0)throw new Pe(pe.INVALID_ARGUMENT,`Function ${i}() requires a positive number, but it was: ${t}.`)}class SU{constructor(t){var e;if(void 0===t.host){if(void 0!==t.ssl)throw new Pe(pe.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(e=t.ssl)||void 0===e||e;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.cache=t.localCache,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new Pe(pe.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,EU("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class N0{constructor(t,e,n,r){this._authCredentials=t,this._appCheckCredentials=e,this._databaseId=n,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new SU({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Pe(pe.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(t){if(this._settingsFrozen)throw new Pe(pe.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new SU(t),void 0!==t.credentials&&(this._authCredentials=function(e){if(!e)return new zq;switch(e.type){case"firstParty":return new Yq(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new Pe(pe.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const e=DU.get(t);e&&(ze("ComponentProvider","Removing Datastore"),DU.delete(t),e.terminate())}(this),Promise.resolve()}}class Dn{constructor(t,e,n){this.converter=e,this._key=n,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new nl(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Dn(this.firestore,t,this._key)}}class no{constructor(t,e,n){this.converter=e,this._query=n,this.type="query",this.firestore=t}withConverter(t){return new no(this.firestore,t,this._query)}}class nl extends no{constructor(t,e,n){super(t,e,m_(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Dn(this.firestore,null,new dt(t))}withConverter(t){return new nl(this.firestore,t,this._path)}}function AU(i,t,...e){if(i=(0,Ui.m9)(i),N1("collection","path",t),i instanceof N0){const n=Ai.fromString(t,...e);return MU(n),new nl(i,null,n)}{if(!(i instanceof Dn||i instanceof nl))throw new Pe(pe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=i._path.child(Ai.fromString(t,...e));return MU(n),new nl(i.firestore,null,n)}}function lk(i,t,...e){if(i=(0,Ui.m9)(i),1===arguments.length&&(t=GB.A()),N1("doc","path",t),i instanceof N0){const n=Ai.fromString(t,...e);return kU(n),new Dn(i,null,new dt(n))}{if(!(i instanceof Dn||i instanceof nl))throw new Pe(pe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=i._path.child(Ai.fromString(t,...e));return kU(n),new Dn(i.firestore,i instanceof nl?i.converter:null,new dt(n))}}function RU(i,t){return i=(0,Ui.m9)(i),t=(0,Ui.m9)(t),(i instanceof Dn||i instanceof nl)&&(t instanceof Dn||t instanceof nl)&&i.firestore===t.firestore&&i.path===t.path&&i.converter===t.converter}function L1(i,t){return i=(0,Ui.m9)(i),t=(0,Ui.m9)(t),i instanceof no&&t instanceof no&&i.firestore===t.firestore&&p0(i._query,t._query)&&i.converter===t.converter}class Y7{constructor(){this.Nc=Promise.resolve(),this.kc=[],this.Oc=!1,this.$c=[],this.Mc=null,this.Fc=!1,this.Bc=!1,this.Lc=[],this.Co=new SR(this,"async_queue_retry"),this.qc=()=>{const e=ek();e&&ze("AsyncQueue","Visibility state changed to "+e.visibilityState),this.Co.vo()};const t=ek();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this.qc)}get isShuttingDown(){return this.Oc}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.Uc(),this.Kc(t)}enterRestrictedMode(t){if(!this.Oc){this.Oc=!0,this.Bc=t||!1;const e=ek();e&&"function"==typeof e.removeEventListener&&e.removeEventListener("visibilitychange",this.qc)}}enqueue(t){if(this.Uc(),this.Oc)return new Promise(()=>{});const e=new Or;return this.Kc(()=>this.Oc&&this.Bc?Promise.resolve():(t().then(e.resolve,e.reject),e.promise)).then(()=>e.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.kc.push(t),this.Gc()))}Gc(){var t=this;return(0,ke.Z)(function*(){if(0!==t.kc.length){try{yield t.kc[0](),t.kc.shift(),t.Co.reset()}catch(e){if(!Nu(e))throw e;ze("AsyncQueue","Operation failed with retryable error: "+e)}t.kc.length>0&&t.Co.Ao(()=>t.Gc())}})()}Kc(t){const e=this.Nc.then(()=>(this.Fc=!0,t().catch(n=>{throw this.Mc=n,this.Fc=!1,pr("INTERNAL UNHANDLED ERROR: ",function(o){let d=o.message||"";return o.stack&&(d=o.stack.includes(o.message)?o.stack:o.message+"\n"+o.stack),d}(n)),n}).then(n=>(this.Fc=!1,n))));return this.Nc=e,e}enqueueAfterDelay(t,e,n){this.Uc(),this.Lc.indexOf(t)>-1&&(e=0);const r=WR.createAndSchedule(this,t,e,n,o=>this.Qc(o));return this.$c.push(r),r}Uc(){this.Mc&&St()}verifyOperationInProgress(){}zc(){var t=this;return(0,ke.Z)(function*(){let e;do{e=t.Nc,yield e}while(e!==t.Nc)})()}jc(t){for(const e of this.$c)if(e.timerId===t)return!0;return!1}Wc(t){return this.zc().then(()=>{this.$c.sort((e,n)=>e.targetTimeMs-n.targetTimeMs);for(const e of this.$c)if(e.skipDelay(),"all"!==t&&e.timerId===t)break;return this.zc()})}Hc(t){this.Lc.push(t)}Qc(t){const e=this.$c.indexOf(t);this.$c.splice(e,1)}}function B1(i){return function(t,e){if("object"!=typeof t||null===t)return!1;const n=t;for(const r of["next","error","complete"])if(r in n&&"function"==typeof n[r])return!0;return!1}(i)}class q7{constructor(){this._progressObserver={},this._taskCompletionResolver=new Or,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(t,e,n){this._progressObserver={next:t,error:e,complete:n}}catch(t){return this._taskCompletionResolver.promise.catch(t)}then(t,e){return this._taskCompletionResolver.promise.then(t,e)}_completeWith(t){this._updateProgress(t),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(t)}_failWith(t){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(t),this._taskCompletionResolver.reject(t)}_updateProgress(t){this._lastProgress=t,this._progressObserver.next&&this._progressObserver.next(t)}}class En extends N0{constructor(t,e,n,r){super(t,e,n,r),this.type="firestore",this._queue=new Y7,this._persistenceKey=r?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||OU(this),this._firestoreClient.terminate()}}function gr(i){return i._firestoreClient||OU(i),i._firestoreClient.verifyNotTerminated(),i._firestoreClient}function OU(i){var t,e,n;const r=i._freezeSettings(),o=(h=(null===(t=i._app)||void 0===t?void 0:t.options.appId)||"",new CW(i._databaseId,h,i._persistenceKey,(b=r).host,b.ssl,b.experimentalForceLongPolling,b.experimentalAutoDetectLongPolling,b.useFetchStreams));var h,b;i._firestoreClient=new N7(i._authCredentials,i._appCheckCredentials,i._queue,o),null!==(e=r.cache)&&void 0!==e&&e._offlineComponentProvider&&null!==(n=r.cache)&&void 0!==n&&n._onlineComponentProvider&&(i._firestoreClient._uninitializedComponentsProvider={_offlineKind:r.cache.kind,_offline:r.cache._offlineComponentProvider,_online:r.cache._onlineComponentProvider})}function PU(i,t,e){const n=new Or;return i.asyncQueue.enqueue((0,ke.Z)(function*(){try{yield ok(i,e),yield S1(i,t),n.resolve()}catch(r){const o=r;if(!vU(o))throw o;Xc("Error enabling indexeddb cache. Falling back to memory cache: "+o),n.reject(o)}})).then(()=>n.promise)}function FU(i){if(i._initialized||i._terminated)throw new Pe(pe.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class rl{constructor(t){this._byteString=t}static fromBase64String(t){try{return new rl(Pr.fromBase64String(t))}catch(e){throw new Pe(pe.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(t){return new rl(Pr.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}class hd{constructor(...t){for(let e=0;e<t.length;++e)if(0===t[e].length)throw new Pe(pe.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Xn(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class xp{constructor(t){this._methodName=t}}class dk{constructor(t,e){if(!isFinite(t)||t<-90||t>90)throw new Pe(pe.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new Pe(pe.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return ui(this._lat,t._lat)||ui(this._long,t._long)}}const rK=/^__.*__$/;class oK{constructor(t,e,n){this.data=t,this.fieldMask=e,this.fieldTransforms=n}toMutation(t,e){return null!==this.fieldMask?new dd(t,this.data,this.fieldMask,e,this.fieldTransforms):new g_(t,this.data,e,this.fieldTransforms)}}class NU{constructor(t,e,n){this.data=t,this.fieldMask=e,this.fieldTransforms=n}toMutation(t,e){return new dd(t,this.data,this.fieldMask,e,this.fieldTransforms)}}function LU(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw St()}}class uk{constructor(t,e,n,r,o,d){this.settings=t,this.databaseId=e,this.serializer=n,this.ignoreUndefinedProperties=r,void 0===o&&this.Jc(),this.fieldTransforms=o||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Yc(){return this.settings.Yc}Zc(t){return new uk(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Xc(t){var e;const n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.Zc({path:n,ta:!1});return r.ea(t),r}na(t){var e;const n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.Zc({path:n,ta:!1});return r.Jc(),r}sa(t){return this.Zc({path:void 0,ta:!0})}ia(t){return pk(t,this.settings.methodName,this.settings.ra||!1,this.path,this.settings.oa)}contains(t){return void 0!==this.fieldMask.find(e=>t.isPrefixOf(e))||void 0!==this.fieldTransforms.find(e=>t.isPrefixOf(e.field))}Jc(){if(this.path)for(let t=0;t<this.path.length;t++)this.ea(this.path.get(t))}ea(t){if(0===t.length)throw this.ia("Document fields must not be empty");if(LU(this.Yc)&&rK.test(t))throw this.ia('Document fields cannot begin and end with "__"')}}class sK{constructor(t,e,n){this.databaseId=t,this.ignoreUndefinedProperties=e,this.serializer=n||O0(t)}ua(t,e,n,r=!1){return new uk({Yc:t,methodName:e,oa:n,path:Xn.emptyPath(),ta:!1,ra:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Cp(i){const t=i._freezeSettings(),e=O0(i._databaseId);return new sK(i._databaseId,!!t.ignoreUndefinedProperties,e)}function hk(i,t,e,n,r,o={}){const d=i.ua(o.merge||o.mergeFields?2:0,t,e,r);z1("Data must be an object, but it was:",d,n);const h=HU(n,d);let g,b;if(o.merge)g=new ps(d.fieldMask),b=d.fieldTransforms;else if(o.mergeFields){const x=[];for(const k of o.mergeFields){const T=V0(t,k,e);if(!d.contains(T))throw new Pe(pe.INVALID_ARGUMENT,`Field '${T}' is specified in your field mask but missing from your input data.`);zU(x,T)||x.push(T)}g=new ps(x),b=d.fieldTransforms.filter(k=>g.covers(k.field))}else g=null,b=d.fieldTransforms;return new oK(new zr(h),g,b)}class B0 extends xp{_toFieldTransform(t){if(2!==t.Yc)throw t.ia(1===t.Yc?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof B0}}function BU(i,t,e){return new uk({Yc:3,oa:t.settings.oa,methodName:i._methodName,ta:e},t.databaseId,t.serializer,t.ignoreUndefinedProperties)}class V1 extends xp{_toFieldTransform(t){return new v0(t.path,new p_)}isEqual(t){return t instanceof V1}}class aK extends xp{constructor(t,e){super(t),this.ca=e}_toFieldTransform(t){const e=BU(this,t,!0),n=this.ca.map(o=>Dp(o,e)),r=new mp(n);return new v0(t.path,r)}isEqual(t){return this===t}}class cK extends xp{constructor(t,e){super(t),this.ca=e}_toFieldTransform(t){const e=BU(this,t,!0),n=this.ca.map(o=>Dp(o,e)),r=new pp(n);return new v0(t.path,r)}isEqual(t){return this===t}}class lK extends xp{constructor(t,e){super(t),this.aa=e}_toFieldTransform(t){const e=new f_(t.serializer,NV(t.serializer,this.aa));return new v0(t.path,e)}isEqual(t){return this===t}}function H1(i,t,e,n){const r=i.ua(1,t,e);z1("Data must be an object, but it was:",r,n);const o=[],d=zr.empty();ap(n,(g,b)=>{const x=mk(t,g,e);b=(0,Ui.m9)(b);const k=r.na(x);if(b instanceof B0)o.push(x);else{const T=Dp(b,k);null!=T&&(o.push(x),d.set(x,T))}});const h=new ps(o);return new NU(d,h,r.fieldTransforms)}function U1(i,t,e,n,r,o){const d=i.ua(1,t,e),h=[V0(t,n,e)],g=[r];if(o.length%2!=0)throw new Pe(pe.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let T=0;T<o.length;T+=2)h.push(V0(t,o[T])),g.push(o[T+1]);const b=[],x=zr.empty();for(let T=h.length-1;T>=0;--T)if(!zU(b,h[T])){const F=h[T];let H=g[T];H=(0,Ui.m9)(H);const X=d.na(F);if(H instanceof B0)b.push(F);else{const ne=Dp(H,X);null!=ne&&(b.push(F),x.set(F,ne))}}const k=new ps(b);return new NU(x,k,d.fieldTransforms)}function VU(i,t,e,n=!1){return Dp(e,i.ua(n?4:3,t))}function Dp(i,t){if(UU(i=(0,Ui.m9)(i)))return z1("Unsupported field value:",t,i),HU(i,t);if(i instanceof xp)return function(e,n){if(!LU(n.Yc))throw n.ia(`${e._methodName}() can only be used with update() and set()`);if(!n.path)throw n.ia(`${e._methodName}() is not currently supported inside arrays`);const r=e._toFieldTransform(n);r&&n.fieldTransforms.push(r)}(i,t),null;if(void 0===i&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),i instanceof Array){if(t.settings.ta&&4!==t.Yc)throw t.ia("Nested arrays are not supported");return function(e,n){const r=[];let o=0;for(const d of e){let h=Dp(d,n.sa(o));null==h&&(h={nullValue:"NULL_VALUE"}),r.push(h),o++}return{arrayValue:{values:r}}}(i,t)}return function(e,n){if(null===(e=(0,Ui.m9)(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return NV(n.serializer,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const r=On.fromDate(e);return{timestampValue:v_(n.serializer,r)}}if(e instanceof On){const r=new On(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:v_(n.serializer,r)}}if(e instanceof dk)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof rl)return{bytesValue:eH(n.serializer,e._byteString)};if(e instanceof Dn){const r=n.databaseId,o=e.firestore._databaseId;if(!o.isEqual(r))throw n.ia(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${r.projectId}/${r.database}`);return{referenceValue:rR(e.firestore._databaseId||n.databaseId,e._key.path)}}throw n.ia(`Unsupported field value: ${ck(e)}`)}(i,t)}function HU(i,t){const e={};return oV(i)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):ap(i,(n,r)=>{const o=Dp(r,t.Xc(n));null!=o&&(e[n]=o)}),{mapValue:{fields:e}}}function UU(i){return!("object"!=typeof i||null===i||i instanceof Array||i instanceof Date||i instanceof On||i instanceof dk||i instanceof rl||i instanceof Dn||i instanceof xp)}function z1(i,t,e){if(!UU(e)||"object"!=typeof(n=e)||null===n||Object.getPrototypeOf(n)!==Object.prototype&&null!==Object.getPrototypeOf(n)){const n=ck(e);throw t.ia("an object"===n?i+" a custom object":i+" "+n)}var n}function V0(i,t,e){if((t=(0,Ui.m9)(t))instanceof hd)return t._internalPath;if("string"==typeof t)return mk(i,t);throw pk("Field path arguments must be of type string or ",i,!1,void 0,e)}const dK=new RegExp("[~\\*/\\[\\]]");function mk(i,t,e){if(t.search(dK)>=0)throw pk(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,e);try{return new hd(...t.split("."))._internalPath}catch{throw pk(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,e)}}function pk(i,t,e,n,r){const o=n&&!n.isEmpty(),d=void 0!==r;let h=`Function ${t}() called with invalid data`;e&&(h+=" (via `toFirestore()`)"),h+=". ";let g="";return(o||d)&&(g+=" (found",o&&(g+=` in field ${n}`),d&&(g+=` in document ${r}`),g+=")"),new Pe(pe.INVALID_ARGUMENT,h+i+g)}function zU(i,t){return i.some(e=>e.isEqual(t))}class H0{constructor(t,e,n,r,o){this._firestore=t,this._userDataWriter=e,this._key=n,this._document=r,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Dn(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const t=new uK(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const e=this._document.data.field(fk("DocumentSnapshot.get",t));if(null!==e)return this._userDataWriter.convertValue(e)}}}class uK extends H0{data(){return super.data()}}function fk(i,t){return"string"==typeof t?mk(i,t):t instanceof hd?t._internalPath:t._delegate._internalPath}function jU(i){if("L"===i.limitType&&0===i.explicitOrderBy.length)throw new Pe(pe.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class j1{}class U0 extends j1{}function Ku(i,t,...e){let n=[];t instanceof j1&&n.push(t),n=n.concat(e),function(r){const o=r.filter(h=>h instanceof O_).length,d=r.filter(h=>h instanceof z0).length;if(o>1||o>0&&d>0)throw new Pe(pe.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n);for(const r of n)i=r._apply(i);return i}class z0 extends U0{constructor(t,e,n){super(),this._field=t,this._op=e,this._value=n,this.type="where"}static _create(t,e,n){return new z0(t,e,n)}_apply(t){const e=this._parse(t);return qU(t._query,e),new no(t.firestore,t.converter,KA(t._query,e))}_parse(t){const e=Cp(t.firestore);return function(r,o,d,h,g,b,x){let k;if(g.isKeyField()){if("array-contains"===b||"array-contains-any"===b)throw new Pe(pe.INVALID_ARGUMENT,`Invalid Query. You can't perform '${b}' queries on documentId().`);if("in"===b||"not-in"===b){YU(x,b);const T=[];for(const F of x)T.push($U(h,r,F));k={arrayValue:{values:T}}}else k=$U(h,r,x)}else"in"!==b&&"not-in"!==b&&"array-contains-any"!==b||YU(x,b),k=VU(d,"where",x,"in"===b||"not-in"===b);return Ii.create(g,b,k)}(t._query,0,e,t.firestore._databaseId,this._field,this._op,this._value)}}class O_ extends j1{constructor(t,e){super(),this.type=t,this._queryConstraints=e}static _create(t,e){return new O_(t,e)}_parse(t){const e=this._queryConstraints.map(n=>n._parse(t)).filter(n=>n.getFilters().length>0);return 1===e.length?e[0]:Ji.create(e,this._getOperator())}_apply(t){const e=this._parse(t);return 0===e.getFilters().length?t:(function(n,r){let o=n;const d=r.getFlattenedFilters();for(const h of d)qU(o,h),o=KA(o,h)}(t._query,e),new no(t.firestore,t.converter,KA(t._query,e)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class G1 extends U0{constructor(t,e){super(),this._field=t,this._direction=e,this.type="orderBy"}static _create(t,e){return new G1(t,e)}_apply(t){const e=function(n,r,o){if(null!==n.startAt)throw new Pe(pe.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==n.endAt)throw new Pe(pe.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const d=new u_(r,o);return function(h,g){if(null===WA(h)){const b=RE(h);null!==b&&WU(0,b,g.field)}}(n,d),d}(t._query,this._field,this._direction);return new no(t.firestore,t.converter,function(n,r){const o=n.explicitOrderBy.concat([r]);return new ld(n.path,n.collectionGroup,o,n.filters.slice(),n.limit,n.limitType,n.startAt,n.endAt)}(t._query,e))}}class gk extends U0{constructor(t,e,n){super(),this.type=t,this._limit=e,this._limitType=n}static _create(t,e,n){return new gk(t,e,n)}_apply(t){return new no(t.firestore,t.converter,OE(t._query,this._limit,this._limitType))}}class _k extends U0{constructor(t,e,n){super(),this.type=t,this._docOrFields=e,this._inclusive=n}static _create(t,e,n){return new _k(t,e,n)}_apply(t){const e=GU(t,this.type,this._docOrFields,this._inclusive);return new no(t.firestore,t.converter,(r=e,new ld((n=t._query).path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),n.limit,n.limitType,r,n.endAt)));var n,r}}class vk extends U0{constructor(t,e,n){super(),this.type=t,this._docOrFields=e,this._inclusive=n}static _create(t,e,n){return new vk(t,e,n)}_apply(t){const e=GU(t,this.type,this._docOrFields,this._inclusive);return new no(t.firestore,t.converter,(r=e,new ld((n=t._query).path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),n.limit,n.limitType,n.startAt,r)));var n,r}}function GU(i,t,e,n){if(e[0]=(0,Ui.m9)(e[0]),e[0]instanceof H0)return function(r,o,d,h,g){if(!h)throw new Pe(pe.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${d}().`);const b=[];for(const x of hp(r))if(x.field.isKeyField())b.push(dp(o,h.key));else{const k=h.data.field(x.field);if(UA(k))throw new Pe(pe.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+x.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===k){const T=x.field.canonicalString();throw new Pe(pe.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${T}' (used as the orderBy) does not exist.`)}b.push(k)}return new Uu(b,g)}(i._query,i.firestore._databaseId,t,e[0]._document,n);{const r=Cp(i.firestore);return function(o,d,h,g,b,x){const k=o.explicitOrderBy;if(b.length>k.length)throw new Pe(pe.INVALID_ARGUMENT,`Too many arguments provided to ${g}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const T=[];for(let F=0;F<b.length;F++){const H=b[F];if(k[F].field.isKeyField()){if("string"!=typeof H)throw new Pe(pe.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${g}(), but got a ${typeof H}`);if(!ZA(o)&&-1!==H.indexOf("/"))throw new Pe(pe.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${g}() must be a plain document ID, but '${H}' contains a slash.`);const X=o.path.child(Ai.fromString(H));if(!dt.isDocumentKey(X))throw new Pe(pe.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${g}() must result in a valid document path, but '${X}' is not because it contains an odd number of segments.`);const ne=new dt(X);T.push(dp(d,ne))}else{const X=VU(h,g,H);T.push(X)}}return new Uu(T,x)}(i._query,i.firestore._databaseId,r,t,e,n)}}function $U(i,t,e){if("string"==typeof(e=(0,Ui.m9)(e))){if(""===e)throw new Pe(pe.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!ZA(t)&&-1!==e.indexOf("/"))throw new Pe(pe.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${e}' contains a '/' character.`);const n=t.path.child(Ai.fromString(e));if(!dt.isDocumentKey(n))throw new Pe(pe.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${n}' is not because it has an odd number of segments (${n.length}).`);return dp(i,new dt(n))}if(e instanceof Dn)return dp(i,e._key);throw new Pe(pe.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${ck(e)}.`)}function YU(i,t){if(!Array.isArray(i)||0===i.length)throw new Pe(pe.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function qU(i,t){if(t.isInequality()){const n=RE(i),r=t.field;if(null!==n&&!n.isEqual(r))throw new Pe(pe.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${n.toString()}' and '${r.toString()}'`);const o=WA(i);null!==o&&WU(0,r,o)}const e=function(n,r){for(const o of n)for(const d of o.getFlattenedFilters())if(r.indexOf(d.op)>=0)return d.op;return null}(i.filters,function(n){switch(n){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==e)throw new Pe(pe.INVALID_ARGUMENT,e===t.op?`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`:`Invalid query. You cannot use '${t.op.toString()}' filters with '${e.toString()}' filters.`)}function WU(i,t,e){if(!e.isEqual(t))throw new Pe(pe.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${t.toString()}' and so you must also use '${t.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${e.toString()}' instead.`)}class $1{convertValue(t,e="none"){switch(lp(t)){case 0:return null;case 1:return t.booleanValue;case 2:return er(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(cp(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 10:return this.convertObject(t.mapValue,e);default:throw St()}}convertObject(t,e){const n={};return ap(t.fields,(r,o)=>{n[r]=this.convertValue(o,e)}),n}convertGeoPoint(t){return new dk(er(t.latitude),er(t.longitude))}convertArray(t,e){return(t.values||[]).map(n=>this.convertValue(n,e))}convertServerTimestamp(t,e){switch(e){case"previous":const n=aV(t);return null==n?null:this.convertValue(n,e);case"estimate":return this.convertTimestamp(l0(t));default:return null}}convertTimestamp(t){const e=Lu(t);return new On(e.seconds,e.nanos)}convertDocumentKey(t,e){const n=Ai.fromString(t);Lt(dH(n));const r=new Bu(n.get(1),n.get(3)),o=new dt(n.popFirst(5));return r.isEqual(e)||pr(`Document ${o} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${e.projectId}/${e.database}) instead.`),o}}function bk(i,t,e){let n;return n=i?e&&(e.merge||e.mergeFields)?i.toFirestore(t,e):i.toFirestore(t):t,n}class yK extends $1{constructor(t){super(),this.firestore=t}convertBytes(t){return new rl(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new Dn(this.firestore,null,e)}}class Ep{constructor(t,e){this.hasPendingWrites=t,this.fromCache=e}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class md extends H0{constructor(t,e,n,r,o,d){super(t,e,n,r,d),this._firestore=t,this._firestoreImpl=t,this.metadata=o}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const e=new j0(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,e={}){if(this._document){const n=this._document.data.field(fk("DocumentSnapshot.get",t));if(null!==n)return this._userDataWriter.convertValue(n,e.serverTimestamps)}}}class j0 extends md{data(t={}){return super.data(t)}}class Qu{constructor(t,e,n,r){this._firestore=t,this._userDataWriter=e,this._snapshot=r,this.metadata=new Ep(r.hasPendingWrites,r.fromCache),this.query=n}get docs(){const t=[];return this.forEach(e=>t.push(e)),t}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(t,e){this._snapshot.docs.forEach(n=>{t.call(e,new j0(this._firestore,this._userDataWriter,n.key,n,new Ep(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new Pe(pe.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(n,r){if(n._snapshot.oldDocs.isEmpty()){let o=0;return n._snapshot.docChanges.map(d=>({type:"added",doc:new j0(n._firestore,n._userDataWriter,d.doc.key,d.doc,new Ep(n._snapshot.mutatedKeys.has(d.doc.key),n._snapshot.fromCache),n.query.converter),oldIndex:-1,newIndex:o++}))}{let o=n._snapshot.oldDocs;return n._snapshot.docChanges.filter(d=>r||3!==d.type).map(d=>{const h=new j0(n._firestore,n._userDataWriter,d.doc.key,d.doc,new Ep(n._snapshot.mutatedKeys.has(d.doc.key),n._snapshot.fromCache),n.query.converter);let g=-1,b=-1;return 0!==d.type&&(g=o.indexOf(d.doc.key),o=o.delete(d.doc.key)),1!==d.type&&(o=o.add(d.doc),b=o.indexOf(d.doc.key)),{type:xK(d.type),doc:h,oldIndex:g,newIndex:b}})}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}function xK(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return St()}}function KU(i,t){return i instanceof md&&t instanceof md?i._firestore===t._firestore&&i._key.isEqual(t._key)&&(null===i._document?null===t._document:i._document.isEqual(t._document))&&i._converter===t._converter:i instanceof Qu&&t instanceof Qu&&i._firestore===t._firestore&&L1(i.query,t.query)&&i.metadata.isEqual(t.metadata)&&i._snapshot.isEqual(t._snapshot)}class Xu extends $1{constructor(t){super(),this.firestore=t}convertBytes(t){return new rl(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new Dn(this.firestore,null,e)}}function QU(i,t,e){i=Si(i,Dn);const n=Si(i.firestore,En),r=bk(i.converter,t,e);return P_(n,[hk(Cp(n),"setDoc",i._key,r,null!==i.converter,e).toMutation(i._key,Pn.none())])}function XU(i,t,e,...n){i=Si(i,Dn);const r=Si(i.firestore,En),o=Cp(r);let d;return d="string"==typeof(t=(0,Ui.m9)(t))||t instanceof hd?U1(o,"updateDoc",i._key,t,e,n):H1(o,"updateDoc",i._key,t),P_(r,[d.toMutation(i._key,Pn.exists(!0))])}function JU(i,...t){var e,n,r;i=(0,Ui.m9)(i);let o={includeMetadataChanges:!1},d=0;"object"!=typeof t[d]||B1(t[d])||(o=t[d],d++);const h={includeMetadataChanges:o.includeMetadataChanges};if(B1(t[d])){const k=t[d];t[d]=null===(e=k.next)||void 0===e?void 0:e.bind(k),t[d+1]=null===(n=k.error)||void 0===n?void 0:n.bind(k),t[d+2]=null===(r=k.complete)||void 0===r?void 0:r.bind(k)}let g,b,x;if(i instanceof Dn)b=Si(i.firestore,En),x=m_(i._key.path),g={next:k=>{t[d]&&t[d](Y1(b,i,k))},error:t[d+1],complete:t[d+2]};else{const k=Si(i,no);b=Si(k.firestore,En),x=k._query;const T=new Xu(b);g={next:F=>{t[d]&&t[d](new Qu(b,T,k,F))},error:t[d+1],complete:t[d+2]},jU(i._query)}return function(k,T,F,H){const X=new rk(H),ne=new e1(T,X,F);return k.asyncQueue.enqueueAndForget((0,ke.Z)(function*(){return ZR(yield R_(k),ne)})),()=>{X.yc(),k.asyncQueue.enqueueAndForget((0,ke.Z)(function*(){return QR(yield R_(k),ne)}))}}(gr(b),x,h,g)}function P_(i,t){return function(e,n){const r=new Or;return e.asyncQueue.enqueueAndForget((0,ke.Z)(function*(){return function _7(i,t,e){return s1.apply(this,arguments)}(yield P1(e),n,r)})),r.promise}(gr(i),t)}function Y1(i,t,e){const n=e.docs.get(t._key),r=new Xu(i);return new md(i,r,t._key,n,new Ep(e.hasPendingWrites,e.fromCache),t.converter)}const BK={maxAttempts:5};class ez{constructor(t,e){this._firestore=t,this._commitHandler=e,this._mutations=[],this._committed=!1,this._dataReader=Cp(t)}set(t,e,n){this._verifyNotCommitted();const r=Ju(t,this._firestore),o=bk(r.converter,e,n),d=hk(this._dataReader,"WriteBatch.set",r._key,o,null!==r.converter,n);return this._mutations.push(d.toMutation(r._key,Pn.none())),this}update(t,e,n,...r){this._verifyNotCommitted();const o=Ju(t,this._firestore);let d;return d="string"==typeof(e=(0,Ui.m9)(e))||e instanceof hd?U1(this._dataReader,"WriteBatch.update",o._key,e,n,r):H1(this._dataReader,"WriteBatch.update",o._key,e),this._mutations.push(d.toMutation(o._key,Pn.exists(!0))),this}delete(t){this._verifyNotCommitted();const e=Ju(t,this._firestore);return this._mutations=this._mutations.concat(new __(e._key,Pn.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Pe(pe.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Ju(i,t){if((i=(0,Ui.m9)(i)).firestore!==t)throw new Pe(pe.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return i}class VK extends class{constructor(t,e){this._firestore=t,this._transaction=e,this._dataReader=Cp(t)}get(t){const e=Ju(t,this._firestore),n=new yK(this._firestore);return this._transaction.lookup([e._key]).then(r=>{if(!r||1!==r.length)return St();const o=r[0];if(o.isFoundDocument())return new H0(this._firestore,n,o.key,o,e.converter);if(o.isNoDocument())return new H0(this._firestore,n,e._key,null,e.converter);throw St()})}set(t,e,n){const r=Ju(t,this._firestore),o=bk(r.converter,e,n),d=hk(this._dataReader,"Transaction.set",r._key,o,null!==r.converter,n);return this._transaction.set(r._key,d),this}update(t,e,n,...r){const o=Ju(t,this._firestore);let d;return d="string"==typeof(e=(0,Ui.m9)(e))||e instanceof hd?U1(this._dataReader,"Transaction.update",o._key,e,n,r):H1(this._dataReader,"Transaction.update",o._key,e),this._transaction.update(o._key,d),this}delete(t){const e=Ju(t,this._firestore);return this._transaction.delete(e._key),this}}{constructor(t,e){super(t,e),this._firestore=t}get(t){const e=Ju(t,this._firestore),n=new Xu(this._firestore);return super.get(t).then(r=>new md(this._firestore,n,e._key,r._document,new Ep(!1,!1),e.converter))}}!function(i,t=!0){a_=ep.SDK_VERSION,(0,ep._registerComponent)(new ZD.wA("firestore",(e,{instanceIdentifier:n,options:r})=>{const o=e.getProvider("app").getImmediate(),d=new En(new Gq(e.getProvider("auth-internal")),new qq(e.getProvider("app-check-internal")),function(h,g){if(!Object.prototype.hasOwnProperty.apply(h.options,["projectId"]))throw new Pe(pe.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Bu(h.options.projectId,g)}(o,n),o);return r=Object.assign({useFetchStreams:t},r),d._setSettings(r),d},"PUBLIC").setMultipleInstances(!0)),(0,ep.registerVersion)(UB,"3.10.1",i),(0,ep.registerVersion)(UB,"3.10.1","esm2017")}();function q1(i,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new Pe("invalid-argument",`Invalid options passed to function ${i}(): You cannot specify both "merge" and "mergeFields".`);return t}function iz(){if(typeof Uint8Array>"u")throw new Pe("unimplemented","Uint8Arrays are not available in this environment.")}function nz(){if(!function wW(){return typeof atob<"u"}())throw new Pe("unimplemented","Blobs are unavailable in Firestore in this environment.")}class G0{constructor(t){this._delegate=t}static fromBase64String(t){return nz(),new G0(rl.fromBase64String(t))}static fromUint8Array(t){return iz(),new G0(rl.fromUint8Array(t))}toBase64(){return nz(),this._delegate.toBase64()}toUint8Array(){return iz(),this._delegate.toUint8Array()}isEqual(t){return this._delegate.isEqual(t._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function W1(i){return function WK(i,t){if("object"!=typeof i||null===i)return!1;const e=i;for(const n of t)if(n in e&&"function"==typeof e[n])return!0;return!1}(i,["next","error","complete"])}class ZK{enableIndexedDbPersistence(t,e){return function Z7(i,t){FU(i=Si(i,En));const e=gr(i);if(e._uninitializedComponentsProvider)throw new Pe(pe.FAILED_PRECONDITION,"SDK cache is already specified.");Xc("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const n=i._freezeSettings(),r=new A_;return PU(e,r,new M1(r,n.cacheSizeBytes,t?.forceOwnership))}(t._delegate,{forceOwnership:e})}enableMultiTabIndexedDbPersistence(t){return function K7(i){FU(i=Si(i,En));const t=gr(i);if(t._uninitializedComponentsProvider)throw new Pe(pe.FAILED_PRECONDITION,"SDK cache is already specified.");Xc("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const e=i._freezeSettings(),n=new A_;return PU(t,n,new gU(n,e.cacheSizeBytes))}(t._delegate)}clearIndexedDbPersistence(t){return function Q7(i){if(i._initialized&&!i._terminated)throw new Pe(pe.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const t=new Or;return i._queue.enqueueAndForgetEvenWhileRestricted((0,ke.Z)(function*(){try{yield(e=(0,ke.Z)(function*(n){if(!sc.D())return Promise.resolve();const r=n+"main";yield sc.delete(r)}),function(n){return e.apply(this,arguments)})(vR(i._databaseId,i._persistenceKey)),t.resolve()}catch(e){t.reject(e)}var e})),t.promise}(t._delegate)}}class rz{constructor(t,e,n){this._delegate=e,this._persistenceProvider=n,this.INTERNAL={delete:()=>this.terminate()},t instanceof Bu||(this._appCompat=t)}get _databaseId(){return this._delegate._databaseId}settings(t){const e=this._delegate._getSettings();!t.merge&&e.host!==t.host&&Xc("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),t.merge&&delete(t=Object.assign(Object.assign({},e),t)).merge,this._delegate._setSettings(t)}useEmulator(t,e,n={}){!function TU(i,t,e,n={}){var r;const o=(i=Si(i,N0))._getSettings();if("firestore.googleapis.com"!==o.host&&o.host!==t&&Xc("Host has been set in both settings() and useEmulator(), emulator host will be used"),i._setSettings(Object.assign(Object.assign({},o),{host:`${t}:${e}`,ssl:!1})),n.mockUserToken){let d,h;if("string"==typeof n.mockUserToken)d=n.mockUserToken,h=Hr.MOCK_USER;else{d=(0,Ui.Sg)(n.mockUserToken,null===(r=i._app)||void 0===r?void 0:r.options.projectId);const g=n.mockUserToken.sub||n.mockUserToken.user_id;if(!g)throw new Pe(pe.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");h=new Hr(g)}i._authCredentials=new jq(new zB(d,h))}}(this._delegate,t,e,n)}enableNetwork(){return function J7(i){return function L7(i){return i.asyncQueue.enqueue((0,ke.Z)(function*(){const t=yield bU(i),e=yield yU(i);return t.setNetworkEnabled(!0),function(n){const r=mt(n);return r.du.delete(0),P0(r)}(e)}))}(gr(i=Si(i,En)))}(this._delegate)}disableNetwork(){return function eK(i){return function B7(i){return i.asyncQueue.enqueue((0,ke.Z)(function*(){const t=yield bU(i),e=yield yU(i);return t.setNetworkEnabled(!1),(n=(0,ke.Z)(function*(r){const o=mt(r);o.du.add(0),yield D_(o),o.mu.set("Offline")}),function(r){return n.apply(this,arguments)})(e);var n}))}(gr(i=Si(i,En)))}(this._delegate)}enablePersistence(t){let e=!1,n=!1;return t&&(e=!!t.synchronizeTabs,n=!!t.experimentalForceOwningTab,EU("synchronizeTabs",e,"experimentalForceOwningTab",n)),e?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,n)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function X7(i){return function(t){const e=new Or;return t.asyncQueue.enqueueAndForget((0,ke.Z)(function*(){return function w7(i,t){return u1.apply(this,arguments)}(yield P1(t),e)})),e.promise}(gr(i=Si(i,En)))}(this._delegate)}onSnapshotsInSync(t){return function AK(i,t){return function U7(i,t){const e=new rk(t);return i.asyncQueue.enqueueAndForget((0,ke.Z)(function*(){return n=yield R_(i),r=e,mt(n).Au.add(r),void r.next();var n,r})),()=>{e.yc(),i.asyncQueue.enqueueAndForget((0,ke.Z)(function*(){return n=yield R_(i),r=e,void mt(n).Au.delete(r);var n,r}))}}(gr(i=Si(i,En)),B1(t)?t:{next:t})}(this._delegate,t)}get app(){if(!this._appCompat)throw new Pe("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(t){try{return new F_(this,AU(this._delegate,t))}catch(e){throw Zo(e,"collection()","Firestore.collection()")}}doc(t){try{return new ba(this,lk(this._delegate,t))}catch(e){throw Zo(e,"doc()","Firestore.doc()")}}collectionGroup(t){try{return new Ko(this,function $7(i,t){if(i=Si(i,N0),N1("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new Pe(pe.INVALID_ARGUMENT,`Invalid collection ID '${t}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new no(i,null,(e=t,new ld(Ai.emptyPath(),e)));var e}(this._delegate,t))}catch(e){throw Zo(e,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(t){return function HK(i,t,e){i=Si(i,En);const n=Object.assign(Object.assign({},BK),e);return function(r){if(r.maxAttempts<1)throw new Pe(pe.INVALID_ARGUMENT,"Max attempts must be at least 1")}(n),function(r,o,d){const h=new Or;return r.asyncQueue.enqueueAndForget((0,ke.Z)(function*(){const g=yield function wU(i){return sk(i).then(t=>t.datastore)}(r);new F7(r.asyncQueue,g,d,o,h).run()})),h.promise}(gr(i),r=>t(new VK(i,r)),n)}(this._delegate,e=>t(new oz(this,e)))}batch(){return gr(this._delegate),new sz(new ez(this._delegate,t=>P_(this._delegate,t)))}loadBundle(t){return function tK(i,t){const e=gr(i=Si(i,En)),n=new q7;return function z7(i,t,e,n){const r=function(o,d){let h;return h="string"==typeof o?(new TextEncoder).encode(o):o,g=function(g,b){if(g instanceof Uint8Array)return _U(g,b);if(g instanceof ArrayBuffer)return _U(new Uint8Array(g),b);if(g instanceof ReadableStream)return g.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(h),new O7(g,d);var g}(e,O0(t));i.asyncQueue.enqueueAndForget((0,ke.Z)(function*(){!function R7(i,t,e){const n=mt(i);var r;(r=(0,ke.Z)(function*(o,d,h){try{const g=yield d.getMetadata();if(yield function(T,F){const H=mt(T),X=fr(F.createTime);return H.persistence.runTransaction("hasNewerBundle","readonly",ne=>H.xs.getBundleMetadata(ne,F.id)).then(ne=>!!ne&&ne.createTime.compareTo(X)>=0)}(o.localStore,g))return yield d.close(),h._completeWith({taskState:"Success",documentsLoaded:(T=g).totalDocuments,bytesLoaded:T.totalBytes,totalDocuments:T.totalDocuments,totalBytes:T.totalBytes}),Promise.resolve(new Set);h._updateProgress(aU(g));const b=new u7(g,o.localStore,d.serializer);let x=yield d._c();for(;x;){const T=yield b.$u(x);T&&h._updateProgress(T),x=yield d._c()}const k=yield b.complete();return yield ud(o,k.Bu,void 0),yield function(T,F){const H=mt(T);return H.persistence.runTransaction("Save bundle","readwrite",X=>H.xs.saveBundleMetadata(X,F))}(o.localStore,g),h._completeWith(k.progress),Promise.resolve(k.Fu)}catch(g){return Xc("SyncEngine",`Loading bundle failed with ${g}`),h._failWith(g),Promise.resolve(new Set)}var T}),function(o,d,h){return r.apply(this,arguments)})(n,t,e).then(r=>{n.sharedClientState.notifyBundleLoaded(r)})}(yield P1(i),r,n)}))}(e,i._databaseId,t,n),n}(this._delegate,t)}namedQuery(t){return function iK(i,t){return function j7(i,t){return i.asyncQueue.enqueue((0,ke.Z)(function*(){return function(e,n){const r=mt(e);return r.persistence.runTransaction("Get named query","readonly",o=>r.xs.getNamedQuery(o,n))}(yield ak(i),t)}))}(gr(i=Si(i,En)),t).then(e=>e?new no(i,null,e.query):null)}(this._delegate,t).then(e=>e?new Ko(this,e):null)}}class yk extends $1{constructor(t){super(),this.firestore=t}convertBytes(t){return new G0(new rl(t))}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return ba.forKey(e,this.firestore,null)}}class oz{constructor(t,e){this._firestore=t,this._delegate=e,this._userDataWriter=new yk(t)}get(t){const e=Mp(t);return this._delegate.get(e).then(n=>new $0(this._firestore,new md(this._firestore._delegate,this._userDataWriter,n._key,n._document,n.metadata,e.converter)))}set(t,e,n){const r=Mp(t);return n?(q1("Transaction.set",n),this._delegate.set(r,e,n)):this._delegate.set(r,e),this}update(t,e,n,...r){const o=Mp(t);return 2===arguments.length?this._delegate.update(o,e):this._delegate.update(o,e,n,...r),this}delete(t){const e=Mp(t);return this._delegate.delete(e),this}}class sz{constructor(t){this._delegate=t}set(t,e,n){const r=Mp(t);return n?(q1("WriteBatch.set",n),this._delegate.set(r,e,n)):this._delegate.set(r,e),this}update(t,e,n,...r){const o=Mp(t);return 2===arguments.length?this._delegate.update(o,e):this._delegate.update(o,e,n,...r),this}delete(t){const e=Mp(t);return this._delegate.delete(e),this}commit(){return this._delegate.commit()}}class kp{constructor(t,e,n){this._firestore=t,this._userDataWriter=e,this._delegate=n}fromFirestore(t,e){const n=new j0(this._firestore._delegate,this._userDataWriter,t._key,t._document,t.metadata,null);return this._delegate.fromFirestore(new Y0(this._firestore,n),e??{})}toFirestore(t,e){return e?this._delegate.toFirestore(t,e):this._delegate.toFirestore(t)}static getInstance(t,e){const n=kp.INSTANCES;let r=n.get(t);r||(r=new WeakMap,n.set(t,r));let o=r.get(e);return o||(o=new kp(t,new yk(t),e),r.set(e,o)),o}}kp.INSTANCES=new WeakMap;class ba{constructor(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new yk(t)}static forPath(t,e,n){if(t.length%2!=0)throw new Pe("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${t.canonicalString()} has ${t.length}`);return new ba(e,new Dn(e._delegate,n,new dt(t)))}static forKey(t,e,n){return new ba(e,new Dn(e._delegate,n,t))}get id(){return this._delegate.id}get parent(){return new F_(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(t){try{return new F_(this.firestore,AU(this._delegate,t))}catch(e){throw Zo(e,"collection()","DocumentReference.collection()")}}isEqual(t){return(t=(0,Ui.m9)(t))instanceof Dn&&RU(this._delegate,t)}set(t,e){e=q1("DocumentReference.set",e);try{return e?QU(this._delegate,t,e):QU(this._delegate,t)}catch(n){throw Zo(n,"setDoc()","DocumentReference.set()")}}update(t,e,...n){try{return 1===arguments.length?XU(this._delegate,t):XU(this._delegate,t,e,...n)}catch(r){throw Zo(r,"updateDoc()","DocumentReference.update()")}}delete(){return function SK(i){return P_(Si(i.firestore,En),[new __(i._key,Pn.none())])}(this._delegate)}onSnapshot(...t){const e=az(t),n=cz(t,r=>new $0(this.firestore,new md(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)));return JU(this._delegate,e,n)}get(t){let e;return e="cache"===t?.source?function DK(i){i=Si(i,Dn);const t=Si(i.firestore,En),e=gr(t),n=new Xu(t);return function V7(i,t){const e=new Or;return i.asyncQueue.enqueueAndForget((0,ke.Z)(function*(){return(n=(0,ke.Z)(function*(r,o,d){try{const h=yield function(g,b){const x=mt(g);return x.persistence.runTransaction("read document","readonly",k=>x.localDocuments.getDocument(k,b))}(r,o);h.isFoundDocument()?d.resolve(h):h.isNoDocument()?d.resolve(null):d.reject(new Pe(pe.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(h){const g=M_(h,`Failed to get document '${o} from cache`);d.reject(g)}}),function(r,o,d){return n.apply(this,arguments)})(yield ak(i),t,e);var n})),e.promise}(e,i._key).then(r=>new md(t,n,i._key,r,new Ep(null!==r&&r.hasLocalMutations,!0),i.converter))}(this._delegate):"server"===t?.source?function EK(i){i=Si(i,Dn);const t=Si(i.firestore,En);return xU(gr(t),i._key,{source:"server"}).then(e=>Y1(t,i,e))}(this._delegate):function CK(i){i=Si(i,Dn);const t=Si(i.firestore,En);return xU(gr(t),i._key).then(e=>Y1(t,i,e))}(this._delegate),e.then(n=>new $0(this.firestore,new md(this.firestore._delegate,this._userDataWriter,n._key,n._document,n.metadata,this._delegate.converter)))}withConverter(t){return new ba(this.firestore,this._delegate.withConverter(t?kp.getInstance(this.firestore,t):null))}}function Zo(i,t,e){return i.message=i.message.replace(t,e),i}function az(i){for(const t of i)if("object"==typeof t&&!W1(t))return t;return{}}function cz(i,t){var e,n;let r;return r=W1(i[0])?i[0]:W1(i[1])?i[1]:"function"==typeof i[0]?{next:i[0],error:i[1],complete:i[2]}:{next:i[1],error:i[2],complete:i[3]},{next:o=>{r.next&&r.next(t(o))},error:null===(e=r.error)||void 0===e?void 0:e.bind(r),complete:null===(n=r.complete)||void 0===n?void 0:n.bind(r)}}class $0{constructor(t,e){this._firestore=t,this._delegate=e}get ref(){return new ba(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(t){return this._delegate.data(t)}get(t,e){return this._delegate.get(t,e)}isEqual(t){return KU(this._delegate,t._delegate)}}class Y0 extends $0{data(t){const e=this._delegate.data(t);return function Uq(i,t){i||St()}(void 0!==e),e}}class Ko{constructor(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new yk(t)}where(t,e,n){try{return new Ko(this.firestore,Ku(this._delegate,function hK(i,t,e){const n=t,r=fk("where",i);return z0._create(r,n,e)}(t,e,n)))}catch(r){throw Zo(r,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(t,e){try{return new Ko(this.firestore,Ku(this._delegate,function mK(i,t="asc"){const e=t,n=fk("orderBy",i);return G1._create(n,e)}(t,e)))}catch(n){throw Zo(n,/(orderBy|where)\(\)/,"Query.$1()")}}limit(t){try{return new Ko(this.firestore,Ku(this._delegate,function pK(i){return IU("limit",i),gk._create("limit",i,"F")}(t)))}catch(e){throw Zo(e,"limit()","Query.limit()")}}limitToLast(t){try{return new Ko(this.firestore,Ku(this._delegate,function fK(i){return IU("limitToLast",i),gk._create("limitToLast",i,"L")}(t)))}catch(e){throw Zo(e,"limitToLast()","Query.limitToLast()")}}startAt(...t){try{return new Ko(this.firestore,Ku(this._delegate,function gK(...i){return _k._create("startAt",i,!0)}(...t)))}catch(e){throw Zo(e,"startAt()","Query.startAt()")}}startAfter(...t){try{return new Ko(this.firestore,Ku(this._delegate,function _K(...i){return _k._create("startAfter",i,!1)}(...t)))}catch(e){throw Zo(e,"startAfter()","Query.startAfter()")}}endBefore(...t){try{return new Ko(this.firestore,Ku(this._delegate,function vK(...i){return vk._create("endBefore",i,!1)}(...t)))}catch(e){throw Zo(e,"endBefore()","Query.endBefore()")}}endAt(...t){try{return new Ko(this.firestore,Ku(this._delegate,function bK(...i){return vk._create("endAt",i,!0)}(...t)))}catch(e){throw Zo(e,"endAt()","Query.endAt()")}}isEqual(t){return L1(this._delegate,t._delegate)}get(t){let e;return e="cache"===t?.source?function MK(i){i=Si(i,no);const t=Si(i.firestore,En),e=gr(t),n=new Xu(t);return function H7(i,t){const e=new Or;return i.asyncQueue.enqueueAndForget((0,ke.Z)(function*(){return(n=(0,ke.Z)(function*(r,o,d){try{const h=yield KE(r,o,!0),g=new dU(o,h.Wi),b=g.zu(h.documents),x=g.applyChanges(b,!1);d.resolve(x.snapshot)}catch(h){const g=M_(h,`Failed to execute query '${o} against cache`);d.reject(g)}}),function(r,o,d){return n.apply(this,arguments)})(yield ak(i),t,e);var n})),e.promise}(e,i._query).then(r=>new Qu(t,n,i,r))}(this._delegate):"server"===t?.source?function IK(i){i=Si(i,no);const t=Si(i.firestore,En),e=gr(t),n=new Xu(t);return CU(e,i._query,{source:"server"}).then(r=>new Qu(t,n,i,r))}(this._delegate):function kK(i){i=Si(i,no);const t=Si(i.firestore,En),e=gr(t),n=new Xu(t);return jU(i._query),CU(e,i._query).then(r=>new Qu(t,n,i,r))}(this._delegate),e.then(n=>new Z1(this.firestore,new Qu(this.firestore._delegate,this._userDataWriter,this._delegate,n._snapshot)))}onSnapshot(...t){const e=az(t),n=cz(t,r=>new Z1(this.firestore,new Qu(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)));return JU(this._delegate,e,n)}withConverter(t){return new Ko(this.firestore,this._delegate.withConverter(t?kp.getInstance(this.firestore,t):null))}}class QK{constructor(t,e){this._firestore=t,this._delegate=e}get type(){return this._delegate.type}get doc(){return new Y0(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class Z1{constructor(t,e){this._firestore=t,this._delegate=e}get query(){return new Ko(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(t=>new Y0(this._firestore,t))}docChanges(t){return this._delegate.docChanges(t).map(e=>new QK(this._firestore,e))}forEach(t,e){this._delegate.forEach(n=>{t.call(e,new Y0(this._firestore,n))})}isEqual(t){return KU(this._delegate,t._delegate)}}class F_ extends Ko{constructor(t,e){super(t,e),this.firestore=t,this._delegate=e}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const t=this._delegate.parent;return t?new ba(this.firestore,t):null}doc(t){try{return new ba(this.firestore,void 0===t?lk(this._delegate):lk(this._delegate,t))}catch(e){throw Zo(e,"doc()","CollectionReference.doc()")}}add(t){return function TK(i,t){const e=Si(i.firestore,En),n=lk(i),r=bk(i.converter,t);return P_(e,[hk(Cp(i.firestore),"addDoc",n._key,r,null!==i.converter,{}).toMutation(n._key,Pn.exists(!1))]).then(()=>n)}(this._delegate,t).then(e=>new ba(this.firestore,e))}isEqual(t){return RU(this._delegate,t._delegate)}withConverter(t){return new F_(this.firestore,this._delegate.withConverter(t?kp.getInstance(this.firestore,t):null))}}function Mp(i){return Si(i,Dn)}class K1{constructor(...t){this._delegate=new hd(...t)}static documentId(){return new K1(Xn.keyField().canonicalString())}isEqual(t){return(t=(0,Ui.m9)(t))instanceof hd&&this._delegate._internalPath.isEqual(t._internalPath)}}class Ip{constructor(t){this._delegate=t}static serverTimestamp(){const t=function zK(){return new V1("serverTimestamp")}();return t._methodName="FieldValue.serverTimestamp",new Ip(t)}static delete(){const t=function UK(){return new B0("deleteField")}();return t._methodName="FieldValue.delete",new Ip(t)}static arrayUnion(...t){const e=function jK(...i){return new aK("arrayUnion",i)}(...t);return e._methodName="FieldValue.arrayUnion",new Ip(e)}static arrayRemove(...t){const e=function GK(...i){return new cK("arrayRemove",i)}(...t);return e._methodName="FieldValue.arrayRemove",new Ip(e)}static increment(t){const e=function $K(i){return new lK("increment",i)}(t);return e._methodName="FieldValue.increment",new Ip(e)}isEqual(t){return this._delegate.isEqual(t._delegate)}}const XK={Firestore:rz,GeoPoint:dk,Timestamp:On,Blob:G0,Transaction:oz,WriteBatch:sz,DocumentReference:ba,DocumentSnapshot:$0,Query:Ko,QueryDocumentSnapshot:Y0,QuerySnapshot:Z1,CollectionReference:F_,FieldPath:K1,FieldValue:Ip,setLogLevel:function KK(i){!function Hq(i){Pu.setLogLevel(i)}(i)},CACHE_SIZE_UNLIMITED:-1};!function e9(i){(function JK(i,t){i.INTERNAL.registerComponent(new ZD.wA("firestore-compat",e=>{const n=e.getProvider("app-compat").getImmediate(),r=e.getProvider("firestore").getImmediate();return t(n,r)},"PUBLIC").setServiceProps(Object.assign({},XK)))})(i,(t,e)=>new rz(t,e,new ZK)),i.registerVersion("@firebase/firestore-compat","0.3.7")}(LY.Z);var wk=R(5363),t9=R(6063);class n9 extends nt.x{constructor(t=1/0,e=1/0,n=t9.l){super(),this._bufferSize=t,this._windowTime=e,this._timestampProvider=n,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=e===1/0,this._bufferSize=Math.max(1,t),this._windowTime=Math.max(1,e)}next(t){const{isStopped:e,_buffer:n,_infiniteTimeWindow:r,_timestampProvider:o,_windowTime:d}=this;e||(n.push(t),!r&&n.push(o.now()+d)),this._trimBuffer(),super.next(t)}_subscribe(t){this._throwIfClosed(),this._trimBuffer();const e=this._innerSubscribe(t),{_infiniteTimeWindow:n,_buffer:r}=this,o=r.slice();for(let d=0;d<o.length&&!t.closed;d+=n?1:2)t.next(o[d]);return this._checkFinalizedStatuses(t),e}_trimBuffer(){const{_bufferSize:t,_timestampProvider:e,_buffer:n,_infiniteTimeWindow:r}=this,o=(r?1:2)*t;if(t<1/0&&o<n.length&&n.splice(0,n.length-o),!r){const d=e.now();let h=0;for(let g=1;g<n.length&&n[g]<=d;g+=2)h=g;h&&n.splice(0,h+1)}}}function lz(i,t,e){let n,r=!1;return i&&"object"==typeof i?({bufferSize:n=1/0,windowTime:t=1/0,refCount:r=!1,scheduler:e}=i):n=i??1/0,(0,FL.B)({connector:()=>new n9(n,t,e),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:r})}function dz(i,t){return(0,uo.m)(t)?on(()=>i,t):on(()=>i)}var Q1=R(9468),X1=R(259);const eO=new Map,uz={activated:!1,tokenObservers:[]},c9={initialized:!1,enabled:!1};function _r(i){return eO.get(i)||Object.assign({},uz)}function Ck(){return c9}const tO="https://content-firebaseappcheck.googleapis.com/v1",h9="exchangeDebugToken",hz={OFFSET_DURATION:3e5,RETRIAL_MIN_WAIT:3e4,RETRIAL_MAX_WAIT:96e4};class p9{constructor(t,e,n,r,o){if(this.operation=t,this.retryPolicy=e,this.getWaitDuration=n,this.lowerBound=r,this.upperBound=o,this.pending=null,this.nextErrorWaitInterval=r,r>o)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(t){var e=this;return(0,ke.Z)(function*(){e.stop();try{e.pending=new Ui.BH,yield function f9(i){return new Promise(t=>{setTimeout(t,i)})}(e.getNextRun(t)),e.pending.resolve(),yield e.pending.promise,e.pending=new Ui.BH,yield e.operation(),e.pending.resolve(),yield e.pending.promise,e.process(!0).catch(()=>{})}catch(n){e.retryPolicy(n)?e.process(!1).catch(()=>{}):e.stop()}})()}getNextRun(t){if(t)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const e=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),e}}}const ro=new Ui.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function rO(){return rO=(0,ke.Z)(function*({url:i,body:t},e){const n={"Content-Type":"application/json"},r=e.getImmediate({optional:!0});if(r){const k=yield r.getHeartbeatsHeader();k&&(n["X-Firebase-Client"]=k)}const o={method:"POST",body:JSON.stringify(t),headers:n};let d,h;try{d=yield fetch(i,o)}catch(k){throw ro.create("fetch-network-error",{originalErrorMessage:k?.message})}if(200!==d.status)throw ro.create("fetch-status-error",{httpStatus:d.status});try{h=yield d.json()}catch(k){throw ro.create("fetch-parse-error",{originalErrorMessage:k?.message})}const g=h.ttl.match(/^([\d.]+)(s)$/);if(!g||!g[2]||isNaN(Number(g[1])))throw ro.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${h.ttl}`});const b=1e3*Number(g[1]),x=Date.now();return{token:h.token,expireTimeMillis:x+b,issuedAtTimeMillis:x}}),rO.apply(this,arguments)}const y9="firebase-app-check-database",w9=1,q0="firebase-app-check-store";let kk=null;function oO(){return oO=(0,ke.Z)(function*(i,t){const n=(yield function fz(){return kk||(kk=new Promise((i,t)=>{try{const e=indexedDB.open(y9,w9);e.onsuccess=n=>{i(n.target.result)},e.onerror=n=>{var r;t(ro.create("storage-open",{originalErrorMessage:null===(r=n.target.error)||void 0===r?void 0:r.message}))},e.onupgradeneeded=n=>{0===n.oldVersion&&n.target.result.createObjectStore(q0,{keyPath:"compositeKey"})}}catch(e){t(ro.create("storage-open",{originalErrorMessage:e?.message}))}}),kk)}()).transaction(q0,"readwrite"),o=n.objectStore(q0).put({compositeKey:i,value:t});return new Promise((d,h)=>{o.onsuccess=g=>{d()},n.onerror=g=>{var b;h(ro.create("storage-set",{originalErrorMessage:null===(b=g.target.error)||void 0===b?void 0:b.message}))}})}),oO.apply(this,arguments)}const W0=new Au.Yd("@firebase/app-check");function cO(i,t){return(0,Ui.hl)()?function C9(i,t){return function gz(i,t){return oO.apply(this,arguments)}(function vz(i){return`${i.options.appId}-${i.name}`}(i),t)}(i,t).catch(e=>{W0.warn(`Failed to write token to IndexedDB. Error: ${e}`)}):Promise.resolve()}function dO(){return dO=(0,ke.Z)(function*(){const i=Ck();if(i.enabled&&i.token)return i.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")}),dO.apply(this,arguments)}const S9={error:"UNKNOWN_ERROR"};function T9(i){return Ui.US.encodeString(JSON.stringify(i),!1)}function Mk(i){return uO.apply(this,arguments)}function uO(){return uO=(0,ke.Z)(function*(i,t=!1){const e=i.app;!function mz(i){if(!_r(i).activated)throw ro.create("use-before-activation",{appName:i.name})}(e);const n=_r(e);let o,r=n.token;if(r&&!N_(r)&&(n.token=void 0,r=void 0),!r){const g=yield n.cachedTokenPromise;g&&(N_(g)?r=g:yield cO(e,void 0))}if(!t&&r&&N_(r))return{token:r.token};let h,d=!1;if(function bz(){return Ck().enabled}()){n.exchangeTokenPromise||(n.exchangeTokenPromise=function nO(i,t){return rO.apply(this,arguments)}(function b9(i,t){const{projectId:e,appId:n,apiKey:r}=i.options;return{url:`${tO}/projects/${e}/apps/${n}:${h9}?key=${r}`,body:{debug_token:t}}}(e,yield function yz(){return dO.apply(this,arguments)}()),i.heartbeatServiceProvider).finally(()=>{n.exchangeTokenPromise=void 0}),d=!0);const g=yield n.exchangeTokenPromise;return yield cO(e,g),n.token=g,{token:g.token}}try{n.exchangeTokenPromise||(n.exchangeTokenPromise=n.provider.getToken().finally(()=>{n.exchangeTokenPromise=void 0}),d=!0),r=yield _r(e).exchangeTokenPromise}catch(g){"appCheck/throttled"===g.code?W0.warn(g.message):W0.error(g),o=g}return r?o?h=N_(r)?{token:r.token,internalError:o}:Cz(o):(h={token:r.token},n.token=r,yield cO(e,r)):h=Cz(o),d&&function xz(i,t){const e=_r(i).tokenObservers;for(const n of e)try{"EXTERNAL"===n.type&&null!=t.error?n.error(t.error):n.next(t)}catch{}}(e,h),h}),uO.apply(this,arguments)}function mO(i,t){const e=_r(i),n=e.tokenObservers.filter(r=>r.next!==t);0===n.length&&e.tokenRefresher&&e.tokenRefresher.isRunning()&&e.tokenRefresher.stop(),e.tokenObservers=n}function wz(i){const{app:t}=i,e=_r(t);let n=e.tokenRefresher;n||(n=function A9(i){const{app:t}=i;return new p9((0,ke.Z)(function*(){let n;if(n=_r(t).token?yield Mk(i,!0):yield Mk(i),n.error)throw n.error;if(n.internalError)throw n.internalError}),()=>!0,()=>{const e=_r(t);if(e.token){let n=e.token.issuedAtTimeMillis+.5*(e.token.expireTimeMillis-e.token.issuedAtTimeMillis)+3e5;return n=Math.min(n,e.token.expireTimeMillis-3e5),Math.max(0,n-Date.now())}return 0},hz.RETRIAL_MIN_WAIT,hz.RETRIAL_MAX_WAIT)}(i),e.tokenRefresher=n),!n.isRunning()&&e.isTokenAutoRefreshEnabled&&n.start()}function N_(i){return i.expireTimeMillis-Date.now()>0}function Cz(i){return{token:T9(S9),error:i}}class R9{constructor(t,e){this.app=t,this.heartbeatServiceProvider=e}_delete(){const{tokenObservers:t}=_r(this.app);for(const e of t)mO(this.app,e.next);return Promise.resolve()}}const Az="app-check-internal";!function Y9(){(0,ep._registerComponent)(new ZD.wA("app-check",i=>function O9(i,t){return new R9(i,t)}(i.getProvider("app").getImmediate(),i.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((i,t,e)=>{i.getProvider(Az).initialize()})),(0,ep._registerComponent)(new ZD.wA(Az,i=>function P9(i){return{getToken:t=>Mk(i,t),addTokenListener:t=>function hO(i,t,e,n){const{app:r}=i,o=_r(r);if(o.tokenObservers=[...o.tokenObservers,{next:e,error:n,type:t}],o.token&&N_(o.token)){const h=o.token;Promise.resolve().then(()=>{e({token:h.token}),wz(i)}).catch(()=>{})}o.cachedTokenPromise.then(()=>wz(i))}(i,"INTERNAL",t),removeTokenListener:t=>mO(i.app,t)}}(i.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,ep.registerVersion)("@firebase/app-check","0.6.5")}();class _O{constructor(){return(0,Jr.vb)("app-check")}}typeof window<"u"&&window;var Q9=R(9260);const Oz=new s.OlP("angularfire2.auth.use-emulator"),Pz=new s.OlP("angularfire2.auth.settings"),Fz=new s.OlP("angularfire2.auth.tenant-id"),Nz=new s.OlP("angularfire2.auth.langugage-code"),Lz=new s.OlP("angularfire2.auth.use-device-language"),Bz=new s.OlP("angularfire.auth.persistence"),Vz=(i,t,e,n,r,o,d,h)=>(0,oc.cc)(`${i.name}.auth`,"AngularFireAuth",i.name,()=>{const g=t.runOutsideAngular(()=>i.auth());if(e&&g.useEmulator(...e),n&&(g.tenantId=n),g.languageCode=r,o&&g.useDeviceLanguage(),d)for(const[b,x]of Object.entries(d))g.settings[b]=x;return h&&g.setPersistence(h),g},[e,n,r,o,d,h]);let Hz=(()=>{class i{constructor(e,n,r,o,d,h,g,b,x,k,T,F){const H=new nt.x,X=it(void 0).pipe((0,wk.Q)(d.outsideAngular),on(()=>o.runOutsideAngular(()=>Promise.resolve().then(R.bind(R,6689)))),(0,kt.U)(()=>(0,oc.on)(e,o,n)),(0,kt.U)(ne=>Vz(ne,o,h,b,x,k,g,T)),lz({bufferSize:1,refCount:!1}));if(Sa(r))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=it(null);else{X.pipe(ho()).subscribe();const je=X.pipe(on(Rt=>Rt.getRedirectResult().then(oi=>oi,()=>null)),Jr.iC,lz({bufferSize:1,refCount:!1})),Ct=X.pipe(on(Rt=>new vn.y(oi=>({unsubscribe:o.runOutsideAngular(()=>Rt.onAuthStateChanged(hi=>oi.next(hi),hi=>oi.error(hi),()=>oi.complete()))})))),wt=X.pipe(on(Rt=>new vn.y(oi=>({unsubscribe:o.runOutsideAngular(()=>Rt.onIdTokenChanged(hi=>oi.next(hi),hi=>oi.error(hi),()=>oi.complete()))}))));this.authState=je.pipe(dz(Ct),(0,Q1.R)(d.outsideAngular),(0,wk.Q)(d.insideAngular)),this.user=je.pipe(dz(wt),(0,Q1.R)(d.outsideAngular),(0,wk.Q)(d.insideAngular)),this.idToken=this.user.pipe(on(Rt=>Rt?(0,mi.D)(Rt.getIdToken()):it(null))),this.idTokenResult=this.user.pipe(on(Rt=>Rt?(0,mi.D)(Rt.getIdTokenResult()):it(null))),this.credential=(0,Br.T)(je,H,this.authState.pipe(sn(Rt=>!Rt))).pipe((0,kt.U)(Rt=>Rt?.user?Rt:null),(0,Q1.R)(d.outsideAngular),(0,wk.Q)(d.insideAngular))}return(0,oc.pX)(this,X,o,{spy:{apply:(ne,je,Ct)=>{(ne.startsWith("signIn")||ne.startsWith("createUser"))&&Ct.then(wt=>H.next(wt))}}})}}return i.\u0275fac=function(e){return new(e||i)(s.LFG(oc.Dh),s.LFG(oc.xv,8),s.LFG(s.Lbi),s.LFG(s.R0b),s.LFG(Jr.HU),s.LFG(Oz,8),s.LFG(Pz,8),s.LFG(Fz,8),s.LFG(Nz,8),s.LFG(Lz,8),s.LFG(Bz,8),s.LFG(_O,8))},i.\u0275prov=s.Yz7({token:i,factory:i.\u0275fac,providedIn:"any"}),i})();function Uz(i,t){return function J9(i,t=km.z){return new vn.y(e=>{let n;return null!=t?t.schedule(()=>{n=i.onSnapshot({includeMetadataChanges:!0},e)}):n=i.onSnapshot({includeMetadataChanges:!0},e),()=>{n?.()}})}(i,t)}function bO(i,t){return Uz(i,t).pipe((0,kt.U)(e=>({payload:e,type:"query"})))}function Sk(i,t){return bO(i,t).pipe(sr(void 0),qT(),(0,kt.U)(([e,n])=>{const r=n.payload.docChanges(),o=r.map(d=>({type:d.type,payload:d}));return e&&JSON.stringify(e.payload.metadata)!==JSON.stringify(n.payload.metadata)&&n.payload.docs.forEach((d,h)=>{const g=r.find(x=>x.doc.ref.isEqual(d.ref)),b=e?.payload.docs.find(x=>x.ref.isEqual(d.ref));g&&JSON.stringify(g.doc.metadata)===JSON.stringify(d.metadata)||!g&&b&&JSON.stringify(b.metadata)===JSON.stringify(d.metadata)||o.push({type:"modified",payload:{oldIndex:h,newIndex:h,type:"modified",doc:d}})}),o}))}function zz(i,t,e){return Sk(i,e).pipe($d((n,r)=>function tQ(i,t,e){return t.forEach(n=>{e.indexOf(n.type)>-1&&(i=function iQ(i,t){switch(t.type){case"added":if(!i[t.newIndex]||!i[t.newIndex].doc.ref.isEqual(t.doc.ref))return yO(i,t.newIndex,0,t);break;case"modified":if(null==i[t.oldIndex]||i[t.oldIndex].doc.ref.isEqual(t.doc.ref)){if(t.oldIndex!==t.newIndex){const e=i.slice();return e.splice(t.oldIndex,1),e.splice(t.newIndex,0,t),e}return yO(i,t.newIndex,1,t)}break;case"removed":if(i[t.oldIndex]&&i[t.oldIndex].doc.ref.isEqual(t.doc.ref))return yO(i,t.oldIndex,1)}return i}(i,n))}),i}(n,r.map(o=>o.payload),t),[]),SC(),(0,kt.U)(n=>n.map(r=>({type:r.type,payload:r}))))}function yO(i,t,e,...n){const r=i.slice();return r.splice(t,e,...n),r}function jz(i){return(!i||0===i.length)&&(i=["added","removed","modified"]),i}class Gz{constructor(t,e,n){this.ref=t,this.query=e,this.afs=n}stateChanges(t){let e=Sk(this.query,this.afs.schedulers.outsideAngular);return t&&t.length>0&&(e=e.pipe((0,kt.U)(n=>n.filter(r=>t.indexOf(r.type)>-1)))),e.pipe(sr(void 0),qT(),sn(([n,r])=>r.length>0||!n),(0,kt.U)(([n,r])=>r),Jr.iC)}auditTrail(t){return this.stateChanges(t).pipe($d((e,n)=>[...e,...n],[]))}snapshotChanges(t){const e=jz(t);return zz(this.query,e,this.afs.schedulers.outsideAngular).pipe(Jr.iC)}valueChanges(t={}){return bO(this.query,this.afs.schedulers.outsideAngular).pipe((0,kt.U)(e=>e.payload.docs.map(n=>t.idField?Object.assign(Object.assign({},n.data()),{[t.idField]:n.id}):n.data())),Jr.iC)}get(t){return(0,mi.D)(this.query.get(t)).pipe(Jr.iC)}add(t){return this.ref.add(t)}doc(t){return new $z(this.ref.doc(t),this.afs)}}class $z{constructor(t,e){this.ref=t,this.afs=e}set(t,e){return this.ref.set(t,e)}update(t){return this.ref.update(t)}delete(){return this.ref.delete()}collection(t,e){const n=this.ref.collection(t),{ref:r,query:o}=Wz(n,e);return new Gz(r,o,this.afs)}snapshotChanges(){return function eQ(i,t){return Uz(i,t).pipe(sr(void 0),qT(),(0,kt.U)(([e,n])=>n.exists?e?.exists?{payload:n,type:"modified"}:{payload:n,type:"added"}:{payload:n,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(Jr.iC)}valueChanges(t={}){return this.snapshotChanges().pipe((0,kt.U)(({payload:e})=>t.idField?Object.assign(Object.assign({},e.data()),{[t.idField]:e.id}):e.data()))}get(t){return(0,mi.D)(this.ref.get(t)).pipe(Jr.iC)}}class nQ{constructor(t,e){this.query=t,this.afs=e}stateChanges(t){return t&&0!==t.length?Sk(this.query,this.afs.schedulers.outsideAngular).pipe((0,kt.U)(e=>e.filter(n=>t.indexOf(n.type)>-1)),sn(e=>e.length>0),Jr.iC):Sk(this.query,this.afs.schedulers.outsideAngular).pipe(Jr.iC)}auditTrail(t){return this.stateChanges(t).pipe($d((e,n)=>[...e,...n],[]))}snapshotChanges(t){const e=jz(t);return zz(this.query,e,this.afs.schedulers.outsideAngular).pipe(Jr.iC)}valueChanges(t={}){return bO(this.query,this.afs.schedulers.outsideAngular).pipe((0,kt.U)(n=>n.payload.docs.map(r=>t.idField?Object.assign({[t.idField]:r.id},r.data()):r.data())),Jr.iC)}get(t){return(0,mi.D)(this.query.get(t)).pipe(Jr.iC)}}const Yz=new s.OlP("angularfire2.enableFirestorePersistence"),qz=new s.OlP("angularfire2.firestore.persistenceSettings"),rQ=new s.OlP("angularfire2.firestore.settings"),oQ=new s.OlP("angularfire2.firestore.use-emulator");function Wz(i,t=(e=>e)){return{query:t(i),ref:i}}let Zz=(()=>{class i{constructor(e,n,r,o,d,h,g,b,x,k,T,F,H,X,ne,je,Ct){this.schedulers=g;const wt=(0,oc.on)(e,h,n),Rt=x;k&&Vz(wt,h,T,H,X,ne,F,je),[this.firestore,this.persistenceEnabled$]=(0,oc.cc)(`${wt.name}.firestore`,"AngularFirestore",wt.name,()=>{const oi=h.runOutsideAngular(()=>wt.firestore());if(o&&oi.settings(o),Rt&&oi.useEmulator(...Rt),r&&!Sa(d)){const hi=()=>{try{return(0,mi.D)(oi.enablePersistence(b||void 0).then(()=>!0,()=>!1))}catch($i){return typeof console<"u"&&console.warn($i),it(!1)}};return[oi,h.runOutsideAngular(hi)]}return[oi,it(!1)]},[o,Rt,r])}collection(e,n){let r;r="string"==typeof e?this.firestore.collection(e):e;const{ref:o,query:d}=Wz(r,n),h=this.schedulers.ngZone.run(()=>o);return new Gz(h,d,this)}collectionGroup(e,n){const r=n||(d=>d),o=this.firestore.collectionGroup(e);return new nQ(r(o),this)}doc(e){let n;n="string"==typeof e?this.firestore.doc(e):e;const r=this.schedulers.ngZone.run(()=>n);return new $z(r,this)}createId(){return this.firestore.collection("_").doc().id}}return i.\u0275fac=function(e){return new(e||i)(s.LFG(oc.Dh),s.LFG(oc.xv,8),s.LFG(Yz,8),s.LFG(rQ,8),s.LFG(s.Lbi),s.LFG(s.R0b),s.LFG(Jr.HU),s.LFG(qz,8),s.LFG(oQ,8),s.LFG(Hz,8),s.LFG(Oz,8),s.LFG(Pz,8),s.LFG(Fz,8),s.LFG(Nz,8),s.LFG(Lz,8),s.LFG(Bz,8),s.LFG(_O,8))},i.\u0275prov=s.Yz7({token:i,factory:i.\u0275fac,providedIn:"any"}),i})(),sQ=(()=>{class i{constructor(){Q9.Z.registerVersion("angularfire",Jr.q4.full,"fst-compat")}static enablePersistence(e){return{ngModule:i,providers:[{provide:Yz,useValue:!0},{provide:qz,useValue:e}]}}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=s.oAB({type:i}),i.\u0275inj=s.cJS({providers:[Zz]}),i})();var aQ=R(930);function Tk(i,t){const e="object"==typeof t;return new Promise((n,r)=>{const o=new aQ.Hp({next:d=>{n(d),o.unsubscribe()},error:r,complete:()=>{e?n(t.defaultValue):r(new wl)}});i.subscribe(o)})}let Ak=(()=>{class i{constructor(e){this.http=e}verifyUser(e){const n=(new rc).set("email",e.email).set("password",e.password),r=(new va).set("Content-Type","application/x-www-form-urlencoded").set("Accept","application/json");return Tk(this.http.post("/verifyUser",n.toString(),{headers:r}))}createUser(e){const n=(new rc).set("name",e.name?e.name:"user").set("email",e.email).set("password",e.password);console.log("++++++ ",e.name,e.email,e.password);const r=(new va).set("Content-Type","application/x-www-form-urlencoded").set("Accept","application/json");return Tk(this.http.post("/createUser",n.toString(),{headers:r}))}mailTasks(e,n,r){return console.info(".... in task service sending tasks to SB ....."),console.info("--",e.toString),console.log("++",r),Tk(this.http.post(`/sendMail/${n}/${r}`,e))}sendNotification(e,n){const r=(new rc).set("title","Roar Chorezilla!").set("message",e).set("token",n);console.log("++++++ ",e,n);const o=(new va).set("Content-Type","application/x-www-form-urlencoded").set("Accept","application/json");return Tk(this.http.post("/ping",r.toString(),{headers:o}))}}return i.\u0275fac=function(e){return new(e||i)(s.LFG($D))},i.\u0275prov=s.Yz7({token:i,factory:i.\u0275fac}),i})();function cQ(i,t){if(1&i){const e=s.EpF();s.TgZ(0,"mat-card",1),s.NdJ("dblclick",function(){s.CHM(e);const r=s.oxw();return s.KtG(r.edit.emit(r.task))}),s.TgZ(1,"h2"),s._uU(2),s.qZA(),s.TgZ(3,"p"),s._uU(4),s.qZA(),s.TgZ(5,"p"),s._uU(6),s.qZA()()}if(2&i){const e=s.oxw();s.xp6(2),s.Oqu(e.task.title),s.xp6(2),s.hij(" ",e.task.description," "),s.xp6(2),s.hij("Added by ",e.task.username,"")}}let lQ=(()=>{class i{constructor(e){this.relaySvc=e,this.task=null,this.edit=new s.vpe}}return i.\u0275fac=function(e){return new(e||i)(s.Y36(Fs))},i.\u0275cmp=s.Xpm({type:i,selectors:[["app-task"]],inputs:{task:"task"},outputs:{edit:"edit"},decls:1,vars:1,consts:[["class","item",3,"dblclick",4,"ngIf"],[1,"item",3,"dblclick"]],template:function(e,n){1&e&&s.YNc(0,cQ,7,3,"mat-card",0),2&e&&s.Q6J("ngIf",n.task)},dependencies:[ir,Qm],styles:["[_nghost-%COMP%]{display:block}.item[_ngcontent-%COMP%]{margin:10px;padding:10px;cursor:pointer;background-color:#f5f5f5}"]}),i})();function dQ(i,t){1&i&&(s.TgZ(0,"p",15),s._uU(1,"Empty list"),s.qZA())}function uQ(i,t){if(1&i){const e=s.EpF();s.TgZ(0,"app-task",16),s.NdJ("edit",function(r){s.CHM(e);const o=s.oxw();return s.KtG(o.editTask("todo",r))}),s.qZA()}2&i&&s.Q6J("task",t.$implicit)}function hQ(i,t){1&i&&(s.TgZ(0,"p",15),s._uU(1,"Empty list"),s.qZA())}function mQ(i,t){if(1&i){const e=s.EpF();s.TgZ(0,"app-task",16),s.NdJ("edit",function(r){s.CHM(e);const o=s.oxw();return s.KtG(o.editTask("inProgress",r))}),s.qZA()}2&i&&s.Q6J("task",t.$implicit)}function pQ(i,t){1&i&&(s.TgZ(0,"p",15),s._uU(1,"Empty list"),s.qZA())}function fQ(i,t){if(1&i){const e=s.EpF();s.TgZ(0,"app-task",16),s.NdJ("edit",function(r){s.CHM(e);const o=s.oxw();return s.KtG(o.editTask("done",r))}),s.qZA()}2&i&&s.Q6J("task",t.$implicit)}const wO=function(i,t){return[i,t]};let gQ=(()=>{class i{constructor(e,n,r,o,d){this.fb=e,this.dialog=n,this.store=r,this.taskSvc=o,this.relaySvc=d,this.todo=this.store.collection("todo").valueChanges({idField:"id"}),this.inProgress=this.store.collection("inProgress").valueChanges({idField:"id"}),this.done=this.store.collection("done").valueChanges({idField:"id"}),this.tasks=[],this.user=this.relaySvc.currentUser}ngOnInit(){this.emailForm=this.createForm(),this.user=this.relaySvc.currentUser}createForm(){return this.fb.group({email:this.fb.control("",[ms.required,ms.email])})}newTask(){this.dialog.open(E2,{width:"350px",data:{task:{username:this.relaySvc.currentUser.name}}}).afterClosed().subscribe(n=>{n&&this.store.collection("todo").add(n.task)})}editTask(e,n){this.dialog.open(E2,{width:"350px",data:{task:n,enableDelete:!0}}).afterClosed().subscribe(o=>{o&&(o.delete?this.store.collection(e).doc(n.id).delete():this.store.collection(e).doc(n.id).update(n))})}drop(e){if(e.previousContainer===e.container||!e.previousContainer.data||!e.container.data)return;const n=e.previousContainer.data[e.previousIndex];this.store.firestore.runTransaction(()=>Promise.all([this.store.collection(e.previousContainer.id).doc(n.id).delete(),this.store.collection(e.container.id).add(n)])),function ey(i,t,e,n){const r=Eu(e,i.length-1),o=Eu(n,t.length);i.length&&t.splice(o,0,i.splice(r,1)[0])}(e.previousContainer.data,e.container.data,e.previousIndex,e.currentIndex)}sendMail(e){this.dialog.open(NY,{width:"300px",data:{title:e,mail:{}}}).afterClosed().subscribe(r=>{if(r){var o=r.mail.email;console.log(">>>>> ",o),this.taskSvc.mailTasks(this.tasks,e,o),null!=o&&this.taskSvc.sendNotification("todo"===e?`Chorezilla's Manifesto (Todo List) has been sent to ${o}!`:"inProgress"===e?`Chorezilla's Work in Progress (In Progress List) has been sent to ${o}!`:`Chorezilla's Champion Checklist (Completed List) has been sent to ${o}!`,this.relaySvc.webToken)}})}getTasksList(e){return new Promise(n=>{console.log("in getTasksList, moving to resolve...."),n(this.store.collection(e).valueChanges().subscribe(r=>{this.tasks=r,console.log("from getTasksList",this.tasks)}))})}}return i.\u0275fac=function(e){return new(e||i)(s.Y36(bT),s.Y36(PT),s.Y36(Zz),s.Y36(Ak),s.Y36(Fs))},i.\u0275cmp=s.Xpm({type:i,selectors:[["app-task-columns"]],decls:56,vars:40,consts:[["color","primary"],[1,"content-wrapper"],["mat-button","",3,"click"],[1,"container-wrapper"],[1,"container"],["viewBox","0 0 20 20",1,"svg-icon"],["d","M17.218,2.268L2.477,8.388C2.13,8.535,2.164,9.05,2.542,9.134L9.33,10.67l1.535,6.787c0.083,0.377,0.602,0.415,0.745,0.065l6.123-14.74C17.866,2.46,17.539,2.134,17.218,2.268 M3.92,8.641l11.772-4.89L9.535,9.909L3.92,8.641z M11.358,16.078l-1.268-5.613l6.157-6.157L11.358,16.078z"],["cdkDropList","","id","todo",1,"list",3,"cdkDropListData","cdkDropListConnectedTo","cdkDropListDropped"],["todoList","cdkDropList"],["class","empty-label",4,"ngIf"],["cdkDrag","",3,"task","edit",4,"ngFor","ngForOf"],["cdkDropList","","id","inProgress",1,"list",3,"cdkDropListData","cdkDropListConnectedTo","cdkDropListDropped"],["inProgressList","cdkDropList"],["cdkDropList","","id","done",1,"list",3,"cdkDropListData","cdkDropListConnectedTo","cdkDropListDropped"],["doneList","cdkDropList"],[1,"empty-label"],["cdkDrag","",3,"task","edit"]],template:function(e,n){if(1&e&&(s.TgZ(0,"mat-toolbar",0)(1,"span"),s._uU(2,"CHOREzilla"),s.qZA()(),s.TgZ(3,"div",1)(4,"h2"),s._uU(5),s.qZA(),s.TgZ(6,"button",2),s.NdJ("click",function(){return n.newTask()}),s.TgZ(7,"mat-icon"),s._uU(8,"add"),s.qZA(),s._uU(9," Add Task "),s.qZA(),s.TgZ(10,"div",3)(11,"div",4)(12,"h2"),s._uU(13," Chorezilla's Manifesto (Todo) "),s.TgZ(14,"button",2),s.NdJ("click",function(){return n.getTasksList("todo"),n.sendMail("todo")}),s.TgZ(15,"mat-icon"),s.O4$(),s.TgZ(16,"svg",5),s._UZ(17,"path",6),s.qZA()(),s._uU(18," Send "),s.qZA()(),s.kcU(),s.TgZ(19,"mat-card",7,8),s.NdJ("cdkDropListDropped",function(o){return n.drop(o)}),s.ALo(21,"async"),s.YNc(22,dQ,2,0,"p",9),s.ALo(23,"async"),s.YNc(24,uQ,1,1,"app-task",10),s.ALo(25,"async"),s.qZA()(),s.TgZ(26,"div",4)(27,"h2"),s._uU(28," Chorezilla's Work in Progress "),s.TgZ(29,"button",2),s.NdJ("click",function(){return n.getTasksList("inProgress"),n.sendMail("inProgress")}),s.TgZ(30,"mat-icon"),s.O4$(),s.TgZ(31,"svg",5),s._UZ(32,"path",6),s.qZA()(),s._uU(33," Send "),s.qZA()(),s.kcU(),s.TgZ(34,"mat-card",11,12),s.NdJ("cdkDropListDropped",function(o){return n.drop(o)}),s.ALo(36,"async"),s.YNc(37,hQ,2,0,"p",9),s.ALo(38,"async"),s.YNc(39,mQ,1,1,"app-task",10),s.ALo(40,"async"),s.qZA()(),s.TgZ(41,"div",4)(42,"h2"),s._uU(43," Chorezilla's Champion Checklist "),s.TgZ(44,"button",2),s.NdJ("click",function(){return n.getTasksList("done"),n.sendMail("done")}),s.TgZ(45,"mat-icon"),s.O4$(),s.TgZ(46,"svg",5),s._UZ(47,"path",6),s.qZA()(),s._uU(48," Send "),s.qZA()(),s.kcU(),s.TgZ(49,"mat-card",13,14),s.NdJ("cdkDropListDropped",function(o){return n.drop(o)}),s.ALo(51,"async"),s.YNc(52,pQ,2,0,"p",9),s.ALo(53,"async"),s.YNc(54,fQ,1,1,"app-task",10),s.ALo(55,"async"),s.qZA()()()()),2&e){const r=s.MAs(20),o=s.MAs(35),d=s.MAs(50);let h,g,b;s.xp6(5),s.hij("Hello ",n.user.name,"!"),s.xp6(14),s.Q6J("cdkDropListData",s.lcZ(21,13,n.todo))("cdkDropListConnectedTo",s.WLB(31,wO,d,o)),s.xp6(3),s.Q6J("ngIf",0===(null==(h=s.lcZ(23,15,n.todo))?null:h.length)),s.xp6(2),s.Q6J("ngForOf",s.lcZ(25,17,n.todo)),s.xp6(10),s.Q6J("cdkDropListData",s.lcZ(36,19,n.inProgress))("cdkDropListConnectedTo",s.WLB(34,wO,r,d)),s.xp6(3),s.Q6J("ngIf",0===(null==(g=s.lcZ(38,21,n.inProgress))?null:g.length)),s.xp6(2),s.Q6J("ngForOf",s.lcZ(40,23,n.inProgress)),s.xp6(10),s.Q6J("cdkDropListData",s.lcZ(51,25,n.done))("cdkDropListConnectedTo",s.WLB(37,wO,r,o)),s.xp6(3),s.Q6J("ngIf",0===(null==(b=s.lcZ(53,27,n.done))?null:b.length)),s.xp6(2),s.Q6J("ngForOf",s.lcZ(55,29,n.done))}},dependencies:[Ln,ir,sy,cy,Py,Qm,HT,bY,lQ,ys],styles:["mat-toolbar[_ngcontent-%COMP%]{margin-bottom:20px}mat-toolbar[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{margin-left:10px}.content-wrapper[_ngcontent-%COMP%]{max-width:1400px;margin:auto}.container-wrapper[_ngcontent-%COMP%]{display:flex;justify-content:space-around}.container[_ngcontent-%COMP%]{width:400px;margin:0 25px 25px 0}.list[_ngcontent-%COMP%]{border:solid 1px;min-height:60px;border-radius:4px}app-new-task[_ngcontent-%COMP%]{margin-bottom:30px}.empty-label[_ngcontent-%COMP%]{font-size:2em;padding-top:10px;text-align:center;opacity:.2}.cdk-drag-animating[_ngcontent-%COMP%]{transition:transform .25s}.cdk-drag-placeholder[_ngcontent-%COMP%]{opacity:0}#todo[_ngcontent-%COMP%]{background-color:#e6e6fa}#inProgress[_ngcontent-%COMP%]{background-color:#cbc3e3}#done[_ngcontent-%COMP%]{background-color:#c3b1e1}.mdc-button.mat-mdc-button.mat-unthemed.mat-mdc-button-base[_ngcontent-%COMP%]{background-color:pink}.svg-icon[_ngcontent-%COMP%]{width:1em;height:1em}.svg-icon[_ngcontent-%COMP%]   path[_ngcontent-%COMP%], .svg-icon[_ngcontent-%COMP%]   polygon[_ngcontent-%COMP%], .svg-icon[_ngcontent-%COMP%]   rect[_ngcontent-%COMP%]{fill:#4691f6}.svg-icon[_ngcontent-%COMP%]   circle[_ngcontent-%COMP%]{stroke:#4691f6;stroke-width:1}.image[_ngcontent-%COMP%]{width:50px}"]}),i})();const _Q=function(){return["/new"]};let vQ=(()=>{class i{constructor(e,n,r,o){this.fb=e,this.taskSvc=n,this.router=r,this.relaySvc=o}ngOnInit(){this.loginForm=this.createForm()}login(){const e=this.loginForm.value;console.info(">>> user: ",e),this.taskSvc.verifyUser(e).then(n=>{console.log(">>> VERIFY USER \n",n),n.email==e.email&&(this.relaySvc.currentUser=n,this.router.navigate(["/tasks"]))}).catch(n=>{console.error(">>>>> error verifying user",n)})}createForm(){return this.fb.group({email:this.fb.control("",[ms.required,ms.email]),password:this.fb.control("",[ms.required])})}}return i.\u0275fac=function(e){return new(e||i)(s.Y36(bT),s.Y36(Ak),s.Y36(Qr),s.Y36(Fs))},i.\u0275cmp=s.Xpm({type:i,selectors:[["app-login"]],decls:23,vars:3,consts:[[1,"card"],[3,"formGroup","ngSubmit"],["appearance","fill"],["matInput","","type","email","formControlName","email","placeholder","Enter Email"],["matInput","","type","password","formControlName","password","placeholder","Enter Password"],["type","submit","mat-raised-button","","color","primary"],[3,"routerLink"]],template:function(e,n){1&e&&(s.TgZ(0,"mat-card",0)(1,"mat-card-header")(2,"h2"),s._uU(3,"Login Here"),s.qZA()(),s.TgZ(4,"mat-card-content")(5,"form",1),s.NdJ("ngSubmit",function(){return n.login()}),s.TgZ(6,"mat-form-field",2)(7,"mat-label"),s._uU(8,"Email"),s.qZA(),s._UZ(9,"input",3),s.qZA(),s._UZ(10,"br"),s.TgZ(11,"mat-form-field",2)(12,"mat-label"),s._uU(13,"Password"),s.qZA(),s._UZ(14,"input",4),s.qZA(),s._UZ(15,"br"),s.TgZ(16,"button",5),s._uU(17,"Login"),s.qZA()(),s._UZ(18,"br"),s.TgZ(19,"h4"),s._uU(20,"New User? "),s.TgZ(21,"a",6),s._uU(22,"Register here"),s.qZA()()()()),2&e&&(s.xp6(5),s.Q6J("formGroup",n.loginForm),s.xp6(16),s.Q6J("routerLink",s.DdM(2,_Q)))},dependencies:[rm,Py,Qm,DT,oL,LD,AD,Xg,hT,qm,Dy,iT,Zm,ID],styles:[".card[_ngcontent-%COMP%]{height:100vh;text-align:center;display:flex;justify-content:center;align-items:center;background-color:#f0f8ff}"]}),i})();function bQ(i,t){1&i&&(s.TgZ(0,"div",9),s._uU(1," Password must be at least 5 characters long. "),s.qZA())}const yQ=function(){return["/"]};let wQ=(()=>{class i{constructor(e,n,r,o){this.fb=e,this.router=n,this.taskSvc=r,this.relaySvc=o}ngOnInit(){this.form=this.createForm()}register(){const e=this.form.value;console.info(">>> user: ",e),this.taskSvc.createUser(e).then(n=>{console.log(n),n.email==e.email&&(this.relaySvc.currentUser=n,this.router.navigate(["/tasks"]))}).catch(n=>{console.error(">>>>> error verifying user",n)})}createForm(){return this.fb.group({name:this.fb.control("",[ms.required,ms.minLength(3)]),email:this.fb.control("",[ms.required,ms.email]),password:this.fb.control("",[ms.required,ms.minLength(5)])})}}return i.\u0275fac=function(e){return new(e||i)(s.Y36(bT),s.Y36(Qr),s.Y36(Ak),s.Y36(Fs))},i.\u0275cmp=s.Xpm({type:i,selectors:[["app-register"]],decls:29,vars:4,consts:[[1,"card"],[3,"formGroup","ngSubmit"],["appearance","fill"],["matInput","","type","text","formControlName","name","placeholder","Enter Name"],["matInput","","type","email","formControlName","email","placeholder","Enter Email"],["matInput","","type","password","formControlName","password","placeholder","Enter Password"],["class","alert",4,"ngIf"],["type","submit","mat-raised-button","","color","primary"],[3,"routerLink"],[1,"alert"]],template:function(e,n){1&e&&(s.TgZ(0,"div",0)(1,"mat-card")(2,"mat-card-content")(3,"h2"),s._uU(4,"Register a new user"),s.qZA(),s.TgZ(5,"form",1),s.NdJ("ngSubmit",function(){return n.register()}),s.TgZ(6,"mat-form-field",2)(7,"mat-label"),s._uU(8,"Name"),s.qZA(),s._UZ(9,"input",3),s.qZA(),s._UZ(10,"br"),s.TgZ(11,"mat-form-field",2)(12,"mat-label"),s._uU(13,"Email"),s.qZA(),s._UZ(14,"input",4),s.qZA(),s._UZ(15,"br"),s.TgZ(16,"mat-form-field",2)(17,"mat-label"),s._uU(18,"Password"),s.qZA(),s._UZ(19,"input",5),s.qZA(),s.YNc(20,bQ,2,0,"div",6),s._UZ(21,"br"),s.TgZ(22,"button",7),s._uU(23,"Register"),s.qZA()(),s._UZ(24,"br"),s.TgZ(25,"h4"),s._uU(26,"Already a member? "),s.TgZ(27,"a",8),s._uU(28,"Login here"),s.qZA()()()()()),2&e&&(s.xp6(5),s.Q6J("formGroup",n.form),s.xp6(15),s.Q6J("ngIf",null==n.form.controls.password.errors?null:n.form.controls.password.errors.minlength),s.xp6(7),s.Q6J("routerLink",s.DdM(3,yQ)))},dependencies:[ir,rm,Py,Qm,DT,LD,AD,Xg,hT,qm,Dy,iT,Zm,ID],styles:[".card[_ngcontent-%COMP%]{height:100vh;text-align:center;display:flex;justify-content:center;align-items:center}mat-card[_ngcontent-%COMP%]{background-color:#f0f8ff}"]}),i})();(0,X1.ZF)(lm_firebase);const xQ=[{path:"",component:vQ},{path:"new",component:wQ},{path:"tasks",component:gQ},{path:"**",redirectTo:"/",pathMatch:"full"}];let CQ=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=s.oAB({type:i,bootstrap:[zw]}),i.\u0275inj=s.cJS({providers:[Ak,Fs],imports:[Ra,nI,gM.forRoot(xQ),A8,SY,ly,TL,Xj,Jj,oc.hO.initializeApp(lm_firebase),sQ]}),i})();Ch().bootstrapModule(CQ).catch(i=>console.error(i))},9751:(Tt,Ie,R)=>{R.d(Ie,{y:()=>ve});var s=R(930),J=R(727),N=R(8822),oe=R(9635),re=R(2416),K=R(576),ge=R(2806);let ve=(()=>{class Z{constructor(ye){ye&&(this._subscribe=ye)}lift(ye){const Je=new Z;return Je.source=this,Je.operator=ye,Je}subscribe(ye,Je,tt){const me=function G(Z){return Z&&Z instanceof s.Lv||function U(Z){return Z&&(0,K.m)(Z.next)&&(0,K.m)(Z.error)&&(0,K.m)(Z.complete)}(Z)&&(0,J.Nn)(Z)}(ye)?ye:new s.Hp(ye,Je,tt);return(0,ge.x)(()=>{const{operator:Me,source:Te}=this;me.add(Me?Me.call(me,Te):Te?this._subscribe(me):this._trySubscribe(me))}),me}_trySubscribe(ye){try{return this._subscribe(ye)}catch(Je){ye.error(Je)}}forEach(ye,Je){return new(Je=he(Je))((tt,me)=>{const Me=new s.Hp({next:Te=>{try{ye(Te)}catch(He){me(He),Me.unsubscribe()}},error:me,complete:tt});this.subscribe(Me)})}_subscribe(ye){var Je;return null===(Je=this.source)||void 0===Je?void 0:Je.subscribe(ye)}[N.L](){return this}pipe(...ye){return(0,oe.U)(ye)(this)}toPromise(ye){return new(ye=he(ye))((Je,tt)=>{let me;this.subscribe(Me=>me=Me,Me=>tt(Me),()=>Je(me))})}}return Z.create=Ke=>new Z(Ke),Z})();function he(Z){var Ke;return null!==(Ke=Z??re.v.Promise)&&void 0!==Ke?Ke:Promise}},7579:(Tt,Ie,R)=>{R.d(Ie,{x:()=>ge});var s=R(9751),J=R(727);const oe=(0,R(3888).d)(he=>function(){he(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var re=R(8737),K=R(2806);let ge=(()=>{class he extends s.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(G){const Z=new ve(this,this);return Z.operator=G,Z}_throwIfClosed(){if(this.closed)throw new oe}next(G){(0,K.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const Z of this.currentObservers)Z.next(G)}})}error(G){(0,K.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=G;const{observers:Z}=this;for(;Z.length;)Z.shift().error(G)}})}complete(){(0,K.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:G}=this;for(;G.length;)G.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var G;return(null===(G=this.observers)||void 0===G?void 0:G.length)>0}_trySubscribe(G){return this._throwIfClosed(),super._trySubscribe(G)}_subscribe(G){return this._throwIfClosed(),this._checkFinalizedStatuses(G),this._innerSubscribe(G)}_innerSubscribe(G){const{hasError:Z,isStopped:Ke,observers:ye}=this;return Z||Ke?J.Lc:(this.currentObservers=null,ye.push(G),new J.w0(()=>{this.currentObservers=null,(0,re.P)(ye,G)}))}_checkFinalizedStatuses(G){const{hasError:Z,thrownError:Ke,isStopped:ye}=this;Z?G.error(Ke):ye&&G.complete()}asObservable(){const G=new s.y;return G.source=this,G}}return he.create=(U,G)=>new ve(U,G),he})();class ve extends ge{constructor(U,G){super(),this.destination=U,this.source=G}next(U){var G,Z;null===(Z=null===(G=this.destination)||void 0===G?void 0:G.next)||void 0===Z||Z.call(G,U)}error(U){var G,Z;null===(Z=null===(G=this.destination)||void 0===G?void 0:G.error)||void 0===Z||Z.call(G,U)}complete(){var U,G;null===(G=null===(U=this.destination)||void 0===U?void 0:U.complete)||void 0===G||G.call(U)}_subscribe(U){var G,Z;return null!==(Z=null===(G=this.source)||void 0===G?void 0:G.subscribe(U))&&void 0!==Z?Z:J.Lc}}},930:(Tt,Ie,R)=>{R.d(Ie,{Hp:()=>tt,Lv:()=>Z});var s=R(576),J=R(727),N=R(2416),oe=R(7849),re=R(5032);const K=he("C",void 0,void 0);function he(Le,xe,be){return{kind:Le,value:xe,error:be}}var U=R(3410),G=R(2806);class Z extends J.w0{constructor(xe){super(),this.isStopped=!1,xe?(this.destination=xe,(0,J.Nn)(xe)&&xe.add(this)):this.destination=He}static create(xe,be,Qe){return new tt(xe,be,Qe)}next(xe){this.isStopped?Te(function ve(Le){return he("N",Le,void 0)}(xe),this):this._next(xe)}error(xe){this.isStopped?Te(function ge(Le){return he("E",void 0,Le)}(xe),this):(this.isStopped=!0,this._error(xe))}complete(){this.isStopped?Te(K,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(xe){this.destination.next(xe)}_error(xe){try{this.destination.error(xe)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Ke=Function.prototype.bind;function ye(Le,xe){return Ke.call(Le,xe)}class Je{constructor(xe){this.partialObserver=xe}next(xe){const{partialObserver:be}=this;if(be.next)try{be.next(xe)}catch(Qe){me(Qe)}}error(xe){const{partialObserver:be}=this;if(be.error)try{be.error(xe)}catch(Qe){me(Qe)}else me(xe)}complete(){const{partialObserver:xe}=this;if(xe.complete)try{xe.complete()}catch(be){me(be)}}}class tt extends Z{constructor(xe,be,Qe){let Oe;if(super(),(0,s.m)(xe)||!xe)Oe={next:xe??void 0,error:be??void 0,complete:Qe??void 0};else{let ue;this&&N.v.useDeprecatedNextContext?(ue=Object.create(xe),ue.unsubscribe=()=>this.unsubscribe(),Oe={next:xe.next&&ye(xe.next,ue),error:xe.error&&ye(xe.error,ue),complete:xe.complete&&ye(xe.complete,ue)}):Oe=xe}this.destination=new Je(Oe)}}function me(Le){N.v.useDeprecatedSynchronousErrorHandling?(0,G.O)(Le):(0,oe.h)(Le)}function Te(Le,xe){const{onStoppedNotification:be}=N.v;be&&U.z.setTimeout(()=>be(Le,xe))}const He={closed:!0,next:re.Z,error:function Me(Le){throw Le},complete:re.Z}},727:(Tt,Ie,R)=>{R.d(Ie,{Lc:()=>K,w0:()=>re,Nn:()=>ge});var s=R(576);const N=(0,R(3888).d)(he=>function(G){he(this),this.message=G?`${G.length} errors occurred during unsubscription:\n${G.map((Z,Ke)=>`${Ke+1}) ${Z.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=G});var oe=R(8737);class re{constructor(U){this.initialTeardown=U,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let U;if(!this.closed){this.closed=!0;const{_parentage:G}=this;if(G)if(this._parentage=null,Array.isArray(G))for(const ye of G)ye.remove(this);else G.remove(this);const{initialTeardown:Z}=this;if((0,s.m)(Z))try{Z()}catch(ye){U=ye instanceof N?ye.errors:[ye]}const{_finalizers:Ke}=this;if(Ke){this._finalizers=null;for(const ye of Ke)try{ve(ye)}catch(Je){U=U??[],Je instanceof N?U=[...U,...Je.errors]:U.push(Je)}}if(U)throw new N(U)}}add(U){var G;if(U&&U!==this)if(this.closed)ve(U);else{if(U instanceof re){if(U.closed||U._hasParent(this))return;U._addParent(this)}(this._finalizers=null!==(G=this._finalizers)&&void 0!==G?G:[]).push(U)}}_hasParent(U){const{_parentage:G}=this;return G===U||Array.isArray(G)&&G.includes(U)}_addParent(U){const{_parentage:G}=this;this._parentage=Array.isArray(G)?(G.push(U),G):G?[G,U]:U}_removeParent(U){const{_parentage:G}=this;G===U?this._parentage=null:Array.isArray(G)&&(0,oe.P)(G,U)}remove(U){const{_finalizers:G}=this;G&&(0,oe.P)(G,U),U instanceof re&&U._removeParent(this)}}re.EMPTY=(()=>{const he=new re;return he.closed=!0,he})();const K=re.EMPTY;function ge(he){return he instanceof re||he&&"closed"in he&&(0,s.m)(he.remove)&&(0,s.m)(he.add)&&(0,s.m)(he.unsubscribe)}function ve(he){(0,s.m)(he)?he():he.unsubscribe()}},2416:(Tt,Ie,R)=>{R.d(Ie,{v:()=>s});const s={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(Tt,Ie,R)=>{R.d(Ie,{E:()=>J});const J=new(R(9751).y)(re=>re.complete())},8996:(Tt,Ie,R)=>{R.d(Ie,{D:()=>xe});var s=R(8421),J=R(5363),N=R(9468),K=R(9751),ve=R(2202),he=R(576),U=R(9672);function Z(be,Qe){if(!be)throw new Error("Iterable cannot be null");return new K.y(Oe=>{(0,U.f)(Oe,Qe,()=>{const ue=be[Symbol.asyncIterator]();(0,U.f)(Oe,Qe,()=>{ue.next().then(Y=>{Y.done?Oe.complete():Oe.next(Y.value)})},0,!0)})})}var Ke=R(3670),ye=R(8239),Je=R(1144),tt=R(6495),me=R(2206),Me=R(4532),Te=R(3260);function xe(be,Qe){return Qe?function Le(be,Qe){if(null!=be){if((0,Ke.c)(be))return function oe(be,Qe){return(0,s.Xf)(be).pipe((0,N.R)(Qe),(0,J.Q)(Qe))}(be,Qe);if((0,Je.z)(be))return function ge(be,Qe){return new K.y(Oe=>{let ue=0;return Qe.schedule(function(){ue===be.length?Oe.complete():(Oe.next(be[ue++]),Oe.closed||this.schedule())})})}(be,Qe);if((0,ye.t)(be))return function re(be,Qe){return(0,s.Xf)(be).pipe((0,N.R)(Qe),(0,J.Q)(Qe))}(be,Qe);if((0,me.D)(be))return Z(be,Qe);if((0,tt.T)(be))return function G(be,Qe){return new K.y(Oe=>{let ue;return(0,U.f)(Oe,Qe,()=>{ue=be[ve.h](),(0,U.f)(Oe,Qe,()=>{let Y,We;try{({value:Y,done:We}=ue.next())}catch(Ye){return void Oe.error(Ye)}We?Oe.complete():Oe.next(Y)},0,!0)}),()=>(0,he.m)(ue?.return)&&ue.return()})}(be,Qe);if((0,Te.L)(be))return function He(be,Qe){return Z((0,Te.Q)(be),Qe)}(be,Qe)}throw(0,Me.z)(be)}(be,Qe):(0,s.Xf)(be)}},8421:(Tt,Ie,R)=>{R.d(Ie,{Xf:()=>Ke});var s=R(655),J=R(1144),N=R(8239),oe=R(9751),re=R(3670),K=R(2206),ge=R(4532),ve=R(6495),he=R(3260),U=R(576),G=R(7849),Z=R(8822);function Ke(Le){if(Le instanceof oe.y)return Le;if(null!=Le){if((0,re.c)(Le))return function ye(Le){return new oe.y(xe=>{const be=Le[Z.L]();if((0,U.m)(be.subscribe))return be.subscribe(xe);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Le);if((0,J.z)(Le))return function Je(Le){return new oe.y(xe=>{for(let be=0;be<Le.length&&!xe.closed;be++)xe.next(Le[be]);xe.complete()})}(Le);if((0,N.t)(Le))return function tt(Le){return new oe.y(xe=>{Le.then(be=>{xe.closed||(xe.next(be),xe.complete())},be=>xe.error(be)).then(null,G.h)})}(Le);if((0,K.D)(Le))return Me(Le);if((0,ve.T)(Le))return function me(Le){return new oe.y(xe=>{for(const be of Le)if(xe.next(be),xe.closed)return;xe.complete()})}(Le);if((0,he.L)(Le))return function Te(Le){return Me((0,he.Q)(Le))}(Le)}throw(0,ge.z)(Le)}function Me(Le){return new oe.y(xe=>{(function He(Le,xe){var be,Qe,Oe,ue;return(0,s.mG)(this,void 0,void 0,function*(){try{for(be=(0,s.KL)(Le);!(Qe=yield be.next()).done;)if(xe.next(Qe.value),xe.closed)return}catch(Y){Oe={error:Y}}finally{try{Qe&&!Qe.done&&(ue=be.return)&&(yield ue.call(be))}finally{if(Oe)throw Oe.error}}xe.complete()})})(Le,xe).catch(be=>xe.error(be))})}},6451:(Tt,Ie,R)=>{R.d(Ie,{T:()=>K});var s=R(8189),J=R(8421),N=R(515),oe=R(3269),re=R(8996);function K(...ge){const ve=(0,oe.yG)(ge),he=(0,oe._6)(ge,1/0),U=ge;return U.length?1===U.length?(0,J.Xf)(U[0]):(0,s.J)(he)((0,re.D)(U,ve)):N.E}},5403:(Tt,Ie,R)=>{R.d(Ie,{x:()=>J});var s=R(930);function J(oe,re,K,ge,ve){return new N(oe,re,K,ge,ve)}class N extends s.Lv{constructor(re,K,ge,ve,he,U){super(re),this.onFinalize=he,this.shouldUnsubscribe=U,this._next=K?function(G){try{K(G)}catch(Z){re.error(Z)}}:super._next,this._error=ve?function(G){try{ve(G)}catch(Z){re.error(Z)}finally{this.unsubscribe()}}:super._error,this._complete=ge?function(){try{ge()}catch(G){re.error(G)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var re;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:K}=this;super.unsubscribe(),!K&&(null===(re=this.onFinalize)||void 0===re||re.call(this))}}}},4004:(Tt,Ie,R)=>{R.d(Ie,{U:()=>N});var s=R(4482),J=R(5403);function N(oe,re){return(0,s.e)((K,ge)=>{let ve=0;K.subscribe((0,J.x)(ge,he=>{ge.next(oe.call(re,he,ve++))}))})}},8189:(Tt,Ie,R)=>{R.d(Ie,{J:()=>N});var s=R(5577),J=R(4671);function N(oe=1/0){return(0,s.z)(J.y,oe)}},5577:(Tt,Ie,R)=>{R.d(Ie,{z:()=>ve});var s=R(4004),J=R(8421),N=R(4482),oe=R(9672),re=R(5403),ge=R(576);function ve(he,U,G=1/0){return(0,ge.m)(U)?ve((Z,Ke)=>(0,s.U)((ye,Je)=>U(Z,ye,Ke,Je))((0,J.Xf)(he(Z,Ke))),G):("number"==typeof U&&(G=U),(0,N.e)((Z,Ke)=>function K(he,U,G,Z,Ke,ye,Je,tt){const me=[];let Me=0,Te=0,He=!1;const Le=()=>{He&&!me.length&&!Me&&U.complete()},xe=Qe=>Me<Z?be(Qe):me.push(Qe),be=Qe=>{ye&&U.next(Qe),Me++;let Oe=!1;(0,J.Xf)(G(Qe,Te++)).subscribe((0,re.x)(U,ue=>{Ke?.(ue),ye?xe(ue):U.next(ue)},()=>{Oe=!0},void 0,()=>{if(Oe)try{for(Me--;me.length&&Me<Z;){const ue=me.shift();Je?(0,oe.f)(U,Je,()=>be(ue)):be(ue)}Le()}catch(ue){U.error(ue)}}))};return he.subscribe((0,re.x)(U,xe,()=>{He=!0,Le()})),()=>{tt?.()}}(Z,Ke,he,G)))}},5363:(Tt,Ie,R)=>{R.d(Ie,{Q:()=>oe});var s=R(9672),J=R(4482),N=R(5403);function oe(re,K=0){return(0,J.e)((ge,ve)=>{ge.subscribe((0,N.x)(ve,he=>(0,s.f)(ve,re,()=>ve.next(he),K),()=>(0,s.f)(ve,re,()=>ve.complete(),K),he=>(0,s.f)(ve,re,()=>ve.error(he),K)))})}},3099:(Tt,Ie,R)=>{R.d(Ie,{B:()=>re});var s=R(8421),J=R(7579),N=R(930),oe=R(4482);function re(ge={}){const{connector:ve=(()=>new J.x),resetOnError:he=!0,resetOnComplete:U=!0,resetOnRefCountZero:G=!0}=ge;return Z=>{let Ke,ye,Je,tt=0,me=!1,Me=!1;const Te=()=>{ye?.unsubscribe(),ye=void 0},He=()=>{Te(),Ke=Je=void 0,me=Me=!1},Le=()=>{const xe=Ke;He(),xe?.unsubscribe()};return(0,oe.e)((xe,be)=>{tt++,!Me&&!me&&Te();const Qe=Je=Je??ve();be.add(()=>{tt--,0===tt&&!Me&&!me&&(ye=K(Le,G))}),Qe.subscribe(be),!Ke&&tt>0&&(Ke=new N.Hp({next:Oe=>Qe.next(Oe),error:Oe=>{Me=!0,Te(),ye=K(He,he,Oe),Qe.error(Oe)},complete:()=>{me=!0,Te(),ye=K(He,U),Qe.complete()}}),(0,s.Xf)(xe).subscribe(Ke))})(Z)}}function K(ge,ve,...he){if(!0===ve)return void ge();if(!1===ve)return;const U=new N.Hp({next:()=>{U.unsubscribe(),ge()}});return(0,s.Xf)(ve(...he)).subscribe(U)}},9468:(Tt,Ie,R)=>{R.d(Ie,{R:()=>J});var s=R(4482);function J(N,oe=0){return(0,s.e)((re,K)=>{K.add(N.schedule(()=>re.subscribe(K),oe))})}},8505:(Tt,Ie,R)=>{R.d(Ie,{b:()=>re});var s=R(576),J=R(4482),N=R(5403),oe=R(4671);function re(K,ge,ve){const he=(0,s.m)(K)||ge||ve?{next:K,error:ge,complete:ve}:K;return he?(0,J.e)((U,G)=>{var Z;null===(Z=he.subscribe)||void 0===Z||Z.call(he);let Ke=!0;U.subscribe((0,N.x)(G,ye=>{var Je;null===(Je=he.next)||void 0===Je||Je.call(he,ye),G.next(ye)},()=>{var ye;Ke=!1,null===(ye=he.complete)||void 0===ye||ye.call(he),G.complete()},ye=>{var Je;Ke=!1,null===(Je=he.error)||void 0===Je||Je.call(he,ye),G.error(ye)},()=>{var ye,Je;Ke&&(null===(ye=he.unsubscribe)||void 0===ye||ye.call(he)),null===(Je=he.finalize)||void 0===Je||Je.call(he)}))}):oe.y}},4408:(Tt,Ie,R)=>{R.d(Ie,{o:()=>re});var s=R(727);class J extends s.w0{constructor(ge,ve){super()}schedule(ge,ve=0){return this}}const N={setInterval(K,ge,...ve){const{delegate:he}=N;return he?.setInterval?he.setInterval(K,ge,...ve):setInterval(K,ge,...ve)},clearInterval(K){const{delegate:ge}=N;return(ge?.clearInterval||clearInterval)(K)},delegate:void 0};var oe=R(8737);class re extends J{constructor(ge,ve){super(ge,ve),this.scheduler=ge,this.work=ve,this.pending=!1}schedule(ge,ve=0){var he;if(this.closed)return this;this.state=ge;const U=this.id,G=this.scheduler;return null!=U&&(this.id=this.recycleAsyncId(G,U,ve)),this.pending=!0,this.delay=ve,this.id=null!==(he=this.id)&&void 0!==he?he:this.requestAsyncId(G,this.id,ve),this}requestAsyncId(ge,ve,he=0){return N.setInterval(ge.flush.bind(ge,this),he)}recycleAsyncId(ge,ve,he=0){if(null!=he&&this.delay===he&&!1===this.pending)return ve;null!=ve&&N.clearInterval(ve)}execute(ge,ve){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const he=this._execute(ge,ve);if(he)return he;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(ge,ve){let U,he=!1;try{this.work(ge)}catch(G){he=!0,U=G||new Error("Scheduled action threw falsy error")}if(he)return this.unsubscribe(),U}unsubscribe(){if(!this.closed){const{id:ge,scheduler:ve}=this,{actions:he}=ve;this.work=this.state=this.scheduler=null,this.pending=!1,(0,oe.P)(he,this),null!=ge&&(this.id=this.recycleAsyncId(ve,ge,null)),this.delay=null,super.unsubscribe()}}}},7565:(Tt,Ie,R)=>{R.d(Ie,{v:()=>N});var s=R(6063);class J{constructor(re,K=J.now){this.schedulerActionCtor=re,this.now=K}schedule(re,K=0,ge){return new this.schedulerActionCtor(this,re).schedule(ge,K)}}J.now=s.l.now;class N extends J{constructor(re,K=J.now){super(re,K),this.actions=[],this._active=!1}flush(re){const{actions:K}=this;if(this._active)return void K.push(re);let ge;this._active=!0;do{if(ge=re.execute(re.state,re.delay))break}while(re=K.shift());if(this._active=!1,ge){for(;re=K.shift();)re.unsubscribe();throw ge}}}},4986:(Tt,Ie,R)=>{R.d(Ie,{P:()=>oe,z:()=>N});var s=R(4408);const N=new(R(7565).v)(s.o),oe=N},6063:(Tt,Ie,R)=>{R.d(Ie,{l:()=>s});const s={now:()=>(s.delegate||Date).now(),delegate:void 0}},3410:(Tt,Ie,R)=>{R.d(Ie,{z:()=>s});const s={setTimeout(J,N,...oe){const{delegate:re}=s;return re?.setTimeout?re.setTimeout(J,N,...oe):setTimeout(J,N,...oe)},clearTimeout(J){const{delegate:N}=s;return(N?.clearTimeout||clearTimeout)(J)},delegate:void 0}},2202:(Tt,Ie,R)=>{R.d(Ie,{h:()=>J});const J=function s(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(Tt,Ie,R)=>{R.d(Ie,{L:()=>s});const s="function"==typeof Symbol&&Symbol.observable||"@@observable"},3269:(Tt,Ie,R)=>{R.d(Ie,{_6:()=>K,jO:()=>oe,yG:()=>re});var s=R(576),J=R(3532);function N(ge){return ge[ge.length-1]}function oe(ge){return(0,s.m)(N(ge))?ge.pop():void 0}function re(ge){return(0,J.K)(N(ge))?ge.pop():void 0}function K(ge,ve){return"number"==typeof N(ge)?ge.pop():ve}},8737:(Tt,Ie,R)=>{function s(J,N){if(J){const oe=J.indexOf(N);0<=oe&&J.splice(oe,1)}}R.d(Ie,{P:()=>s})},3888:(Tt,Ie,R)=>{function s(J){const oe=J(re=>{Error.call(re),re.stack=(new Error).stack});return oe.prototype=Object.create(Error.prototype),oe.prototype.constructor=oe,oe}R.d(Ie,{d:()=>s})},2806:(Tt,Ie,R)=>{R.d(Ie,{O:()=>oe,x:()=>N});var s=R(2416);let J=null;function N(re){if(s.v.useDeprecatedSynchronousErrorHandling){const K=!J;if(K&&(J={errorThrown:!1,error:null}),re(),K){const{errorThrown:ge,error:ve}=J;if(J=null,ge)throw ve}}else re()}function oe(re){s.v.useDeprecatedSynchronousErrorHandling&&J&&(J.errorThrown=!0,J.error=re)}},9672:(Tt,Ie,R)=>{function s(J,N,oe,re=0,K=!1){const ge=N.schedule(function(){oe(),K?J.add(this.schedule(null,re)):this.unsubscribe()},re);if(J.add(ge),!K)return ge}R.d(Ie,{f:()=>s})},4671:(Tt,Ie,R)=>{function s(J){return J}R.d(Ie,{y:()=>s})},1144:(Tt,Ie,R)=>{R.d(Ie,{z:()=>s});const s=J=>J&&"number"==typeof J.length&&"function"!=typeof J},2206:(Tt,Ie,R)=>{R.d(Ie,{D:()=>J});var s=R(576);function J(N){return Symbol.asyncIterator&&(0,s.m)(N?.[Symbol.asyncIterator])}},576:(Tt,Ie,R)=>{function s(J){return"function"==typeof J}R.d(Ie,{m:()=>s})},3670:(Tt,Ie,R)=>{R.d(Ie,{c:()=>N});var s=R(8822),J=R(576);function N(oe){return(0,J.m)(oe[s.L])}},6495:(Tt,Ie,R)=>{R.d(Ie,{T:()=>N});var s=R(2202),J=R(576);function N(oe){return(0,J.m)(oe?.[s.h])}},8239:(Tt,Ie,R)=>{R.d(Ie,{t:()=>J});var s=R(576);function J(N){return(0,s.m)(N?.then)}},3260:(Tt,Ie,R)=>{R.d(Ie,{L:()=>oe,Q:()=>N});var s=R(655),J=R(576);function N(re){return(0,s.FC)(this,arguments,function*(){const ge=re.getReader();try{for(;;){const{value:ve,done:he}=yield(0,s.qq)(ge.read());if(he)return yield(0,s.qq)(void 0);yield yield(0,s.qq)(ve)}}finally{ge.releaseLock()}})}function oe(re){return(0,J.m)(re?.getReader)}},3532:(Tt,Ie,R)=>{R.d(Ie,{K:()=>J});var s=R(576);function J(N){return N&&(0,s.m)(N.schedule)}},4482:(Tt,Ie,R)=>{R.d(Ie,{A:()=>J,e:()=>N});var s=R(576);function J(oe){return(0,s.m)(oe?.lift)}function N(oe){return re=>{if(J(re))return re.lift(function(K){try{return oe(K,this)}catch(ge){this.error(ge)}});throw new TypeError("Unable to lift unknown Observable type")}}},5032:(Tt,Ie,R)=>{function s(){}R.d(Ie,{Z:()=>s})},9635:(Tt,Ie,R)=>{R.d(Ie,{U:()=>N,z:()=>J});var s=R(4671);function J(...oe){return N(oe)}function N(oe){return 0===oe.length?s.y:1===oe.length?oe[0]:function(K){return oe.reduce((ge,ve)=>ve(ge),K)}}},7849:(Tt,Ie,R)=>{R.d(Ie,{h:()=>N});var s=R(2416),J=R(3410);function N(oe){J.z.setTimeout(()=>{const{onUnhandledError:re}=s.v;if(!re)throw oe;re(oe)})}},4532:(Tt,Ie,R)=>{function s(J){return new TypeError(`You provided ${null!==J&&"object"==typeof J?"an invalid object":`'${J}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}R.d(Ie,{z:()=>s})},655:(Tt,Ie,R)=>{function oe(se,fe){var Ce={};for(var Se in se)Object.prototype.hasOwnProperty.call(se,Se)&&fe.indexOf(Se)<0&&(Ce[Se]=se[Se]);if(null!=se&&"function"==typeof Object.getOwnPropertySymbols){var Fe=0;for(Se=Object.getOwnPropertySymbols(se);Fe<Se.length;Fe++)fe.indexOf(Se[Fe])<0&&Object.prototype.propertyIsEnumerable.call(se,Se[Fe])&&(Ce[Se[Fe]]=se[Se[Fe]])}return Ce}function Z(se,fe,Ce,Se){return new(Ce||(Ce=Promise))(function(Ue,Ze){function pt(si){try{ot(Se.next(si))}catch(Dt){Ze(Dt)}}function Bt(si){try{ot(Se.throw(si))}catch(Dt){Ze(Dt)}}function ot(si){si.done?Ue(si.value):function Fe(Ue){return Ue instanceof Ce?Ue:new Ce(function(Ze){Ze(Ue)})}(si.value).then(pt,Bt)}ot((Se=Se.apply(se,fe||[])).next())})}function Le(se){return this instanceof Le?(this.v=se,this):new Le(se)}function xe(se,fe,Ce){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Fe,Se=Ce.apply(se,fe||[]),Ue=[];return Fe={},Ze("next"),Ze("throw"),Ze("return"),Fe[Symbol.asyncIterator]=function(){return this},Fe;function Ze(ei){Se[ei]&&(Fe[ei]=function(ki){return new Promise(function(Oi,Pi){Ue.push([ei,ki,Oi,Pi])>1||pt(ei,ki)})})}function pt(ei,ki){try{!function Bt(ei){ei.value instanceof Le?Promise.resolve(ei.value.v).then(ot,si):Dt(Ue[0][2],ei)}(Se[ei](ki))}catch(Oi){Dt(Ue[0][3],Oi)}}function ot(ei){pt("next",ei)}function si(ei){pt("throw",ei)}function Dt(ei,ki){ei(ki),Ue.shift(),Ue.length&&pt(Ue[0][0],Ue[0][1])}}function Qe(se){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Ce,fe=se[Symbol.asyncIterator];return fe?fe.call(se):(se=function tt(se){var fe="function"==typeof Symbol&&Symbol.iterator,Ce=fe&&se[fe],Se=0;if(Ce)return Ce.call(se);if(se&&"number"==typeof se.length)return{next:function(){return se&&Se>=se.length&&(se=void 0),{value:se&&se[Se++],done:!se}}};throw new TypeError(fe?"Object is not iterable.":"Symbol.iterator is not defined.")}(se),Ce={},Se("next"),Se("throw"),Se("return"),Ce[Symbol.asyncIterator]=function(){return this},Ce);function Se(Ue){Ce[Ue]=se[Ue]&&function(Ze){return new Promise(function(pt,Bt){!function Fe(Ue,Ze,pt,Bt){Promise.resolve(Bt).then(function(ot){Ue({value:ot,done:pt})},Ze)}(pt,Bt,(Ze=se[Ue](Ze)).done,Ze.value)})}}}R.d(Ie,{FC:()=>xe,KL:()=>Qe,_T:()=>oe,mG:()=>Z,qq:()=>Le})},4650:(Tt,Ie,R)=>{R.d(Ie,{$8M:()=>Bd,$WT:()=>Ht,$Z:()=>Vw,AFp:()=>Sg,ALo:()=>JI,AaK:()=>ve,AsE:()=>vb,BQk:()=>_m,CHM:()=>ah,CRH:()=>Nb,CZH:()=>Pm,CqO:()=>bx,D6c:()=>qg,DdM:()=>$I,EJc:()=>Kb,EiD:()=>Df,EpF:()=>Kf,F$t:()=>xx,F4k:()=>vx,FYo:()=>ww,FiY:()=>ks,Gf:()=>ds,GfV:()=>xw,GkF:()=>ib,Gpc:()=>G,Hsn:()=>Cx,Ikx:()=>Db,JOm:()=>ar,JVY:()=>Yh,JZr:()=>tt,KtG:()=>hc,L6k:()=>Lr,LAX:()=>nu,LFG:()=>$e,Lbi:()=>Zb,Lck:()=>pP,MAs:()=>VM,MMx:()=>bC,MR2:()=>Jh,NdJ:()=>nb,O4$:()=>mc,OlP:()=>Li,Oqu:()=>_b,P3R:()=>_v,PXZ:()=>sF,Q6J:()=>_x,QGY:()=>Qf,QbO:()=>zC,Qsj:()=>$k,R0b:()=>Go,RDi:()=>$h,Rgc:()=>xg,SBq:()=>qa,Sil:()=>qC,Suo:()=>Cg,TTD:()=>le,TgZ:()=>qf,Udp:()=>ed,VKq:()=>YI,W1O:()=>Am,WLB:()=>qI,X6Q:()=>hy,XFs:()=>vt,Xpm:()=>vr,Xts:()=>Bc,Y36:()=>uu,YKP:()=>PI,YNc:()=>gx,Yjl:()=>Ne,Yz7:()=>Dt,Z0I:()=>Pi,ZZ4:()=>hD,_Bn:()=>OI,_UZ:()=>gu,_Vd:()=>Hc,_c5:()=>py,_uU:()=>gb,aQg:()=>mD,c2e:()=>Ag,cJS:()=>ki,cg1:()=>Qx,dDg:()=>MS,dqk:()=>xt,eBb:()=>na,eFA:()=>tD,eJc:()=>Dg,ekj:()=>ym,eoX:()=>ny,f3M:()=>at,g9A:()=>Br,h0i:()=>id,hGG:()=>VS,hij:()=>cg,iGM:()=>IC,ifc:()=>te,ip1:()=>Yb,jDz:()=>NI,kL8:()=>lg,kcU:()=>$_,lG2:()=>ae,lcZ:()=>eS,lqb:()=>Ul,lri:()=>ty,mCW:()=>ra,n5z:()=>_l,n_E:()=>Ob,oAB:()=>ut,oxw:()=>Jf,pB0:()=>fv,q3G:()=>yn,q4F:()=>kv,qLn:()=>im,qOj:()=>Qa,qZA:()=>Wf,qzn:()=>Lo,rWj:()=>iy,sBO:()=>RS,s_b:()=>Fb,soG:()=>Rg,tBr:()=>wc,tb:()=>Fg,tp0:()=>Pa,uIk:()=>ca,vHH:()=>me,vpe:()=>tc,wAp:()=>$t,xp6:()=>Aw,ynx:()=>gm,z2F:()=>rd,z3N:()=>dr,zSh:()=>wv,zs3:()=>lu});var s=R(7579),J=R(727),N=R(9751),oe=R(6451),re=R(3099);function K(a){for(let c in a)if(a[c]===K)return c;throw Error("Could not find renamed property on target object.")}function ge(a,c){for(const l in c)c.hasOwnProperty(l)&&!a.hasOwnProperty(l)&&(a[l]=c[l])}function ve(a){if("string"==typeof a)return a;if(Array.isArray(a))return"["+a.map(ve).join(", ")+"]";if(null==a)return""+a;if(a.overriddenName)return`${a.overriddenName}`;if(a.name)return`${a.name}`;const c=a.toString();if(null==c)return""+c;const l=c.indexOf("\n");return-1===l?c:c.substring(0,l)}function he(a,c){return null==a||""===a?null===c?"":c:null==c||""===c?a:a+" "+c}const U=K({__forward_ref__:K});function G(a){return a.__forward_ref__=G,a.toString=function(){return ve(this())},a}function Z(a){return Ke(a)?a():a}function Ke(a){return"function"==typeof a&&a.hasOwnProperty(U)&&a.__forward_ref__===G}function ye(a){return a&&!!a.\u0275providers}const tt="https://g.co/ng/security#xss";class me extends Error{constructor(c,l){super(Me(c,l)),this.code=c}}function Me(a,c){return`NG0${Math.abs(a)}${c?": "+c.trim():""}`}function Te(a){return"string"==typeof a?a:null==a?"":String(a)}function Qe(a,c){throw new me(-201,!1)}function Ze(a,c){null==a&&function pt(a,c,l,u){throw new Error(`ASSERTION ERROR: ${a}`+(null==u?"":` [Expected=> ${l} ${u} ${c} <=Actual]`))}(c,a,null,"!=")}function Dt(a){return{token:a.token,providedIn:a.providedIn||null,factory:a.factory,value:void 0}}function ki(a){return{providers:a.providers||[],imports:a.imports||[]}}function Oi(a){return Yi(a,Gn)||Yi(a,Vi)}function Pi(a){return null!==Oi(a)}function Yi(a,c){return a.hasOwnProperty(c)?a[c]:null}function jn(a){return a&&(a.hasOwnProperty($n)||a.hasOwnProperty(Ki))?a[$n]:null}const Gn=K({\u0275prov:K}),$n=K({\u0275inj:K}),Vi=K({ngInjectableDef:K}),Ki=K({ngInjectorDef:K});var vt=(()=>((vt=vt||{})[vt.Default=0]="Default",vt[vt.Host=1]="Host",vt[vt.Self=2]="Self",vt[vt.SkipSelf=4]="SkipSelf",vt[vt.Optional=8]="Optional",vt))();let kr;function qi(a){const c=kr;return kr=a,c}function pn(a,c,l){const u=Oi(a);return u&&"root"==u.providedIn?void 0===u.value?u.value=u.factory():u.value:l&vt.Optional?null:void 0!==c?c:void Qe(ve(a))}const xt=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),Qi={},fn="__NG_DI_FLAG__",Xi="ngTempTokenPath",en="ngTokenPath",Do=/\n/gm,yi="\u0275",qr="__source";let ni;function Yn(a){const c=ni;return ni=a,c}function Fn(a,c=vt.Default){if(void 0===ni)throw new me(-203,!1);return null===ni?pn(a,void 0,c):ni.get(a,c&vt.Optional?null:void 0,c)}function $e(a,c=vt.Default){return(function Yr(){return kr}()||Fn)(Z(a),c)}function at(a,c=vt.Default){return $e(a,Vt(c))}function Vt(a){return typeof a>"u"||"number"==typeof a?a:0|(a.optional&&8)|(a.host&&1)|(a.self&&2)|(a.skipSelf&&4)}function Nt(a){const c=[];for(let l=0;l<a.length;l++){const u=Z(a[l]);if(Array.isArray(u)){if(0===u.length)throw new me(900,!1);let m,_=vt.Default;for(let y=0;y<u.length;y++){const C=u[y],D=Fi(C);"number"==typeof D?-1===D?m=C.token:_|=D:m=C}c.push($e(m,_))}else c.push($e(u))}return c}function gi(a,c){return a[fn]=c,a.prototype[fn]=c,a}function Fi(a){return a[fn]}function W(a){return{toString:a}.toString()}var _e=(()=>((_e=_e||{})[_e.OnPush=0]="OnPush",_e[_e.Default=1]="Default",_e))(),te=(()=>{return(a=te||(te={}))[a.Emulated=0]="Emulated",a[a.None=2]="None",a[a.ShadowDom=3]="ShadowDom",te;var a})();const st={},rt=[],wi=K({\u0275cmp:K}),zi=K({\u0275dir:K}),Wi=K({\u0275pipe:K}),Ti=K({\u0275mod:K}),ri=K({\u0275fac:K}),tn=K({__NG_ELEMENT_ID__:K});let Wr=0;function vr(a){return W(()=>{const c=so(a),l={...c,decls:a.decls,vars:a.vars,template:a.template,consts:a.consts||null,ngContentSelectors:a.ngContentSelectors,onPush:a.changeDetection===_e.OnPush,directiveDefs:null,pipeDefs:null,dependencies:c.standalone&&a.dependencies||null,getStandaloneInjector:null,data:a.data||{},encapsulation:a.encapsulation||te.Emulated,id:"c"+Wr++,styles:a.styles||rt,_:null,schemas:a.schemas||null,tView:null};Nn(l);const u=a.dependencies;return l.directiveDefs=kn(u,!1),l.pipeDefs=kn(u,!0),l})}function ce(a){return Ge(a)||Qt(a)}function ct(a){return null!==a}function ut(a){return W(()=>({type:a.type,bootstrap:a.bootstrap||rt,declarations:a.declarations||rt,imports:a.imports||rt,exports:a.exports||rt,transitiveCompileScopes:null,schemas:a.schemas||null,id:a.id||null}))}function $(a,c){if(null==a)return st;const l={};for(const u in a)if(a.hasOwnProperty(u)){let m=a[u],_=m;Array.isArray(m)&&(_=m[1],m=m[0]),l[m]=u,c&&(c[m]=_)}return l}function ae(a){return W(()=>{const c=so(a);return Nn(c),c})}function Ne(a){return{type:a.type,name:a.name,factory:null,pure:!1!==a.pure,standalone:!0===a.standalone,onDestroy:a.type.prototype.ngOnDestroy||null}}function Ge(a){return a[wi]||null}function Qt(a){return a[zi]||null}function zt(a){return a[Wi]||null}function Ht(a){const c=Ge(a)||Qt(a)||zt(a);return null!==c&&c.standalone}function Ci(a,c){const l=a[Ti]||null;if(!l&&!0===c)throw new Error(`Type ${ve(a)} does not have '\u0275mod' property.`);return l}function so(a){const c={};return{type:a.type,providersResolver:null,factory:null,hostBindings:a.hostBindings||null,hostVars:a.hostVars||0,hostAttrs:a.hostAttrs||null,contentQueries:a.contentQueries||null,declaredInputs:c,exportAs:a.exportAs||null,standalone:!0===a.standalone,selectors:a.selectors||rt,viewQuery:a.viewQuery||null,features:a.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:$(a.inputs,c),outputs:$(a.outputs)}}function Nn(a){a.features?.forEach(c=>c(a))}function kn(a,c){if(!a)return null;const l=c?zt:ce;return()=>("function"==typeof a?a():a).map(u=>l(u)).filter(ct)}const Mr=0,ft=1,jt=2,Zt=3,Nr=4,_s=5,Ln=6,vs=7,nn=8,ir=9,bs=10,ai=11,Eo=12,ko=13,wa=14,$s=15,Bn=16,xa=17,Mo=18,Ir=19,Io=20,ac=21,_i=22,Ca=1,cc=2,Da=7,ys=8,Qo=9,nr=10;function Sr(a){return Array.isArray(a)&&"object"==typeof a[Ca]}function rr(a){return Array.isArray(a)&&!0===a[Ca]}function Ea(a){return 0!=(4&a.flags)}function So(a){return a.componentOffset>-1}function ao(a){return 1==(1&a.flags)}function ln(a){return!!a.template}function ka(a){return 0!=(256&a[jt])}function P(a,c){return a.hasOwnProperty(ri)?a[ri]:null}class j{constructor(c,l,u){this.previousValue=c,this.currentValue=l,this.firstChange=u}isFirstChange(){return this.firstChange}}function le(){return De}function De(a){return a.type.prototype.ngOnChanges&&(a.setInput=yt),Ve}function Ve(){const a=Xt(this),c=a?.current;if(c){const l=a.previous;if(l===st)a.previous=c;else for(let u in c)l[u]=c[u];a.current=null,this.ngOnChanges(c)}}function yt(a,c,l,u){const m=this.declaredInputs[l],_=Xt(a)||function li(a,c){return a[Yt]=c}(a,{previous:st,current:null}),y=_.current||(_.current={}),C=_.previous,D=C[m];y[m]=new j(D&&D.currentValue,c,C===st),a[u]=c}le.ngInherit=!0;const Yt="__ngSimpleChanges__";function Xt(a){return a[Yt]||null}const Zi=function(a,c,l){},Mn="svg";function ji(a){for(;Array.isArray(a);)a=a[Mr];return a}function In(a,c){return ji(c[a])}function gn(a,c){return ji(c[a.index])}function nh(a,c){return a.data[c]}function qs(a,c){return a[c]}function or(a,c){const l=c[a];return Sr(l)?l:l[Mr]}function cl(a){return 64==(64&a[jt])}function Cs(a,c){return null==c?null:a[c]}function xd(a){a[Mo]=0}function uc(a,c){a[_s]+=c;let l=a,u=a[Zt];for(;null!==u&&(1===c&&1===l[_s]||-1===c&&0===l[_s]);)u[_s]+=c,l=u,u=u[Zt]}const Kt={lFrame:U_(null),bindingsEnabled:!0};function sh(){return Kt.bindingsEnabled}function Ae(){return Kt.lFrame.lView}function Ei(){return Kt.lFrame.tView}function ah(a){return Kt.lFrame.contextLView=a,a[nn]}function hc(a){return Kt.lFrame.contextLView=null,a}function br(){let a=ch();for(;null!==a&&64===a.type;)a=a.parent;return a}function ch(){return Kt.lFrame.currentTNode}function Ao(a,c){const l=Kt.lFrame;l.currentTNode=a,l.isParent=c}function Bp(){return Kt.lFrame.isParent}function Cd(){Kt.lFrame.isParent=!1}function Vn(){const a=Kt.lFrame;let c=a.bindingRootIndex;return-1===c&&(c=a.bindingRootIndex=a.tView.bindingStartIndex),c}function dl(){return Kt.lFrame.bindingIndex++}function Jo(a){const c=Kt.lFrame,l=c.bindingIndex;return c.bindingIndex=c.bindingIndex+a,l}function K0(a,c){const l=Kt.lFrame;l.bindingIndex=l.bindingRootIndex=a,Ed(c)}function Ed(a){Kt.lFrame.currentDirectiveIndex=a}function H_(){return Kt.lFrame.currentQueryIndex}function Md(a){Kt.lFrame.currentQueryIndex=a}function Q0(a){const c=a[ft];return 2===c.type?c.declTNode:1===c.type?a[Ln]:null}function hh(a,c,l){if(l&vt.SkipSelf){let m=c,_=a;for(;!(m=m.parent,null!==m||l&vt.Host||(m=Q0(_),null===m||(_=_[$s],10&m.type))););if(null===m)return!1;c=m,a=_}const u=Kt.lFrame=mh();return u.currentTNode=c,u.lView=a,!0}function Up(a){const c=mh(),l=a[ft];Kt.lFrame=c,c.currentTNode=l.firstChild,c.lView=a,c.tView=l,c.contextLView=a,c.bindingIndex=l.bindingStartIndex,c.inI18n=!1}function mh(){const a=Kt.lFrame,c=null===a?null:a.child;return null===c?U_(a):c}function U_(a){const c={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:a,child:null,inI18n:!1};return null!==a&&(a.child=c),c}function ph(){const a=Kt.lFrame;return Kt.lFrame=a.parent,a.currentTNode=null,a.lView=null,a}const z_=ph;function ul(){const a=ph();a.isParent=!0,a.tView=null,a.selectedIndex=-1,a.contextLView=null,a.elementDepthCount=0,a.currentDirectiveIndex=-1,a.currentNamespace=null,a.bindingRootIndex=-1,a.bindingIndex=-1,a.currentQueryIndex=0}function yr(){return Kt.lFrame.selectedIndex}function Ws(a){Kt.lFrame.selectedIndex=a}function _n(){const a=Kt.lFrame;return nh(a.tView,a.selectedIndex)}function mc(){Kt.lFrame.currentNamespace=Mn}function $_(){!function J0(){Kt.lFrame.currentNamespace=null}()}function fh(a,c){for(let l=c.directiveStart,u=c.directiveEnd;l<u;l++){const _=a.data[l].type.prototype,{ngAfterContentInit:y,ngAfterContentChecked:C,ngAfterViewInit:D,ngAfterViewChecked:M,ngOnDestroy:S}=_;y&&(a.contentHooks??(a.contentHooks=[])).push(-l,y),C&&((a.contentHooks??(a.contentHooks=[])).push(l,C),(a.contentCheckHooks??(a.contentCheckHooks=[])).push(l,C)),D&&(a.viewHooks??(a.viewHooks=[])).push(-l,D),M&&((a.viewHooks??(a.viewHooks=[])).push(l,M),(a.viewCheckHooks??(a.viewCheckHooks=[])).push(l,M)),null!=S&&(a.destroyHooks??(a.destroyHooks=[])).push(l,S)}}function zp(a,c,l){pc(a,c,3,l)}function gh(a,c,l,u){(3&a[jt])===l&&pc(a,c,l,u)}function hl(a,c){let l=a[jt];(3&l)===c&&(l&=2047,l+=1,a[jt]=l)}function pc(a,c,l,u){const _=u??-1,y=c.length-1;let C=0;for(let D=void 0!==u?65535&a[Mo]:0;D<y;D++)if("number"==typeof c[D+1]){if(C=c[D],null!=u&&C>=u)break}else c[D]<0&&(a[Mo]+=65536),(C<_||-1==_)&&(iw(a,l,c,D),a[Mo]=(4294901760&a[Mo])+D+2),D++}function iw(a,c,l,u){const m=l[u]<0,_=l[u+1],C=a[m?-l[u]:l[u]];if(m){if(a[jt]>>11<a[Mo]>>16&&(3&a[jt])===c){a[jt]+=2048,Zi(4,C,_);try{_.call(C)}finally{Zi(5,C,_)}}}else{Zi(4,C,_);try{_.call(C)}finally{Zi(5,C,_)}}}const Zs=-1;class Id{constructor(c,l,u){this.factory=c,this.resolving=!1,this.canSeeViewProviders=l,this.injectImpl=u}}function bh(a,c,l){let u=0;for(;u<l.length;){const m=l[u];if("number"==typeof m){if(0!==m)break;u++;const _=l[u++],y=l[u++],C=l[u++];a.setAttribute(c,y,C,_)}else{const _=m,y=l[++u];Td(_)?a.setProperty(c,_,y):a.setAttribute(c,_,y),u++}}return u}function gc(a){return 3===a||4===a||6===a}function Td(a){return 64===a.charCodeAt(0)}function Ds(a,c){if(null!==c&&0!==c.length)if(null===a||0===a.length)a=c.slice();else{let l=-1;for(let u=0;u<c.length;u++){const m=c[u];"number"==typeof m?l=m:0===l||pl(a,l,m,null,-1===l||2===l?c[++u]:null)}}return a}function pl(a,c,l,u,m){let _=0,y=a.length;if(-1===c)y=-1;else for(;_<a.length;){const C=a[_++];if("number"==typeof C){if(C===c){y=-1;break}if(C>c){y=_-1;break}}}for(;_<a.length;){const C=a[_];if("number"==typeof C)break;if(C===l){if(null===u)return void(null!==m&&(a[_+1]=m));if(u===a[_+1])return void(a[_+2]=m)}_++,null!==u&&_++,null!==m&&_++}-1!==y&&(a.splice(y,0,c),_=y+1),a.splice(_++,0,l),null!==u&&a.splice(_++,0,u),null!==m&&a.splice(_++,0,m)}function yh(a){return a!==Zs}function Ta(a){return 32767&a}function Ad(a,c){let l=function jp(a){return a>>16}(a),u=c;for(;l>0;)u=u[$s],l--;return u}let Rd=!0;function Od(a){const c=Rd;return Rd=a,c}const _c=255,Gp=5;let Ro=0;const co={};function Es(a,c){const l=wn(a,c);if(-1!==l)return l;const u=c[ft];u.firstCreatePass&&(a.injectorIndex=c.length,Pd(u.data,a),Pd(c,null),Pd(u.blueprint,null));const m=fl(a,c),_=a.injectorIndex;if(yh(m)){const y=Ta(m),C=Ad(m,c),D=C[ft].data;for(let M=0;M<8;M++)c[_+M]=C[y+M]|D[y+M]}return c[_+8]=m,_}function Pd(a,c){a.push(0,0,0,0,0,0,0,0,c)}function wn(a,c){return-1===a.injectorIndex||a.parent&&a.parent.injectorIndex===a.injectorIndex||null===c[a.injectorIndex+8]?-1:a.injectorIndex}function fl(a,c){if(a.parent&&-1!==a.parent.injectorIndex)return a.parent.injectorIndex;let l=0,u=null,m=c;for(;null!==m;){if(u=Ld(m),null===u)return Zs;if(l++,m=m[$s],-1!==u.injectorIndex)return u.injectorIndex|l<<16}return Zs}function vc(a,c,l){!function W_(a,c,l){let u;"string"==typeof l?u=l.charCodeAt(0)||0:l.hasOwnProperty(tn)&&(u=l[tn]),null==u&&(u=l[tn]=Ro++);const m=u&_c;c.data[a+(m>>Gp)]|=1<<m}(a,c,l)}function gl(a,c,l){if(l&vt.Optional||void 0!==a)return a;Qe()}function $p(a,c,l,u){if(l&vt.Optional&&void 0===u&&(u=null),!(l&(vt.Self|vt.Host))){const m=a[ir],_=qi(void 0);try{return m?m.get(c,u,l&vt.Optional):pn(c,u,l&vt.Optional)}finally{qi(_)}}return gl(u,0,l)}function Yp(a,c,l,u=vt.Default,m){if(null!==a){if(1024&c[jt]){const y=function Nd(a,c,l,u,m){let _=a,y=c;for(;null!==_&&null!==y&&1024&y[jt]&&!(256&y[jt]);){const C=wh(_,y,l,u|vt.Self,co);if(C!==co)return C;let D=_.parent;if(!D){const M=y[ac];if(M){const S=M.get(l,co,u);if(S!==co)return S}D=Ld(y),y=y[$s]}_=D}return m}(a,c,l,u,co);if(y!==co)return y}const _=wh(a,c,l,u,co);if(_!==co)return _}return $p(c,l,u,m)}function wh(a,c,l,u,m){const _=function yc(a){if("string"==typeof a)return a.charCodeAt(0)||0;const c=a.hasOwnProperty(tn)?a[tn]:void 0;return"number"==typeof c?c>=0?c&_c:Wp:c}(l);if("function"==typeof _){if(!hh(c,a,u))return u&vt.Host?gl(m,0,u):$p(c,l,u,m);try{const y=_(u);if(null!=y||u&vt.Optional)return y;Qe()}finally{z_()}}else if("number"==typeof _){let y=null,C=wn(a,c),D=Zs,M=u&vt.Host?c[Bn][Ln]:null;for((-1===C||u&vt.SkipSelf)&&(D=-1===C?fl(a,c):c[C+8],D!==Zs&&qp(u,!1)?(y=c[ft],C=Ta(D),c=Ad(D,c)):C=-1);-1!==C;){const S=c[ft];if(Fd(_,C,S.data)){const O=xh(C,c,l,y,u,M);if(O!==co)return O}D=c[C+8],D!==Zs&&qp(u,c[ft].data[C+8]===M)&&Fd(_,C,c)?(y=S,C=Ta(D),c=Ad(D,c)):C=-1}}return m}function xh(a,c,l,u,m,_){const y=c[ft],C=y.data[a+8],S=bc(C,y,l,null==u?So(C)&&Rd:u!=y&&0!=(3&C.type),m&vt.Host&&_===C);return null!==S?Aa(c,y,S,C):co}function bc(a,c,l,u,m){const _=a.providerIndexes,y=c.data,C=1048575&_,D=a.directiveStart,S=_>>20,q=m?C+S:a.directiveEnd;for(let ie=u?C:C+S;ie<q;ie++){const Ee=y[ie];if(ie<D&&l===Ee||ie>=D&&Ee.type===l)return ie}if(m){const ie=y[D];if(ie&&ln(ie)&&ie.type===l)return D}return null}function Aa(a,c,l,u){let m=a[l];const _=c.data;if(function Y_(a){return a instanceof Id}(m)){const y=m;y.resolving&&function Le(a,c){const l=c?`. Dependency path: ${c.join(" > ")} > ${a}`:"";throw new me(-200,`Circular dependency in DI detected for ${a}${l}`)}(function He(a){return"function"==typeof a?a.name||a.toString():"object"==typeof a&&null!=a&&"function"==typeof a.type?a.type.name||a.type.toString():Te(a)}(_[l]));const C=Od(y.canSeeViewProviders);y.resolving=!0;const D=y.injectImpl?qi(y.injectImpl):null;hh(a,u,vt.Default);try{m=a[l]=y.factory(void 0,_,a,u),c.firstCreatePass&&l>=u.directiveStart&&function tw(a,c,l){const{ngOnChanges:u,ngOnInit:m,ngDoCheck:_}=c.type.prototype;if(u){const y=De(c);(l.preOrderHooks??(l.preOrderHooks=[])).push(a,y),(l.preOrderCheckHooks??(l.preOrderCheckHooks=[])).push(a,y)}m&&(l.preOrderHooks??(l.preOrderHooks=[])).push(0-a,m),_&&((l.preOrderHooks??(l.preOrderHooks=[])).push(a,_),(l.preOrderCheckHooks??(l.preOrderCheckHooks=[])).push(a,_))}(l,_[l],c)}finally{null!==D&&qi(D),Od(C),y.resolving=!1,z_()}}return m}function Fd(a,c,l){return!!(l[c+(a>>Gp)]&1<<a)}function qp(a,c){return!(a&vt.Self||a&vt.Host&&c)}class Ks{constructor(c,l){this._tNode=c,this._lView=l}get(c,l,u){return Yp(this._tNode,this._lView,c,Vt(u),l)}}function Wp(){return new Ks(br(),Ae())}function _l(a){return W(()=>{const c=a.prototype.constructor,l=c[ri]||Ch(c),u=Object.prototype;let m=Object.getPrototypeOf(a.prototype).constructor;for(;m&&m!==u;){const _=m[ri]||Ch(m);if(_&&_!==l)return _;m=Object.getPrototypeOf(m)}return _=>new _})}function Ch(a){return Ke(a)?()=>{const c=Ch(Z(a));return c&&c()}:P(a)}function Ld(a){const c=a[ft],l=c.type;return 2===l?c.declTNode:1===l?a[Ln]:null}function Bd(a){return function Z_(a,c){if("class"===c)return a.classes;if("style"===c)return a.styles;const l=a.attrs;if(l){const u=l.length;let m=0;for(;m<u;){const _=l[m];if(gc(_))break;if(0===_)m+=2;else if("number"==typeof _)for(m++;m<u&&"string"==typeof l[m];)m++;else{if(_===c)return l[m+1];m+=2}}}return null}(br(),a)}const Vd="__parameters__";function Oa(a,c,l){return W(()=>{const u=function Dh(a){return function(...l){if(a){const u=a(...l);for(const m in u)this[m]=u[m]}}}(c);function m(..._){if(this instanceof m)return u.apply(this,_),this;const y=new m(..._);return C.annotation=y,C;function C(D,M,S){const O=D.hasOwnProperty(Vd)?D[Vd]:Object.defineProperty(D,Vd,{value:[]})[Vd];for(;O.length<=S;)O.push(null);return(O[S]=O[S]||[]).push(y),D}}return l&&(m.prototype=Object.create(l.prototype)),m.prototype.ngMetadataName=a,m.annotationCls=m,m})}class Li{constructor(c,l){this._desc=c,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof l?this.__NG_ELEMENT_ID__=l:void 0!==l&&(this.\u0275prov=Dt({token:this,providedIn:l.providedIn||"root",factory:l.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function Xs(a,c){a.forEach(l=>Array.isArray(l)?Xs(l,c):c(l))}function ev(a,c,l){c>=a.length?a.push(l):a.splice(c,0,l)}function bl(a,c){return c>=a.length-1?a.pop():a.splice(c,1)[0]}function Ud(a,c){const l=[];for(let u=0;u<a;u++)l.push(c);return l}function mi(a,c,l){let u=it(a,c);return u>=0?a[1|u]=l:(u=~u,function zd(a,c,l,u){let m=a.length;if(m==c)a.push(l,u);else if(1===m)a.push(u,a[0]),a[0]=l;else{for(m--,a.push(a[m-1],a[m]);m>c;)a[m]=a[m-2],m--;a[c]=l,a[c+1]=u}}(a,u,c,l)),u}function lo(a,c){const l=it(a,c);if(l>=0)return a[1|l]}function it(a,c){return function Tr(a,c,l){let u=0,m=a.length>>l;for(;m!==u;){const _=u+(m-u>>1),y=a[_<<l];if(c===y)return _<<l;y>c?m=_:u=_+1}return~(m<<l)}(a,c,1)}const wc=gi(Oa("Inject",a=>({token:a})),-1),ks=gi(Oa("Optional"),8),Pa=gi(Oa("SkipSelf"),4);var ar=(()=>((ar=ar||{})[ar.Important=1]="Important",ar[ar.DashCase=2]="DashCase",ar))();const mo=new Map;let rf=0;const Sl="__ngContext__";function wr(a,c){Sr(c)?(a[Sl]=c[Io],function af(a){mo.set(a[Io],a)}(c)):a[Sl]=c}let Is;function Tl(a,c){return Is(a,c)}function is(a){const c=a[Zt];return rr(c)?c[Zt]:c}function Va(a){return qd(a[ko])}function Yd(a){return qd(a[Nr])}function qd(a){for(;null!==a&&!rr(a);)a=a[Nr];return a}function Ss(a,c,l,u,m){if(null!=u){let _,y=!1;rr(u)?_=u:Sr(u)&&(y=!0,u=u[Mr]);const C=ji(u);0===a&&null!==l?null==m?hf(c,l,C):ia(c,l,C,m||null,!0):1===a&&null!==l?ia(c,l,C,m||null,!0):2===a?function Ll(a,c,l){const u=Tc(a,c);u&&function Pl(a,c,l,u){a.removeChild(c,l,u)}(a,u,c,l)}(c,C,y):3===a&&c.destroyNode(C),null!=_&&function ns(a,c,l,u,m){const _=l[Da];_!==ji(l)&&Ss(c,a,u,_,m);for(let C=nr;C<l.length;C++){const D=l[C];Ac(D[ft],D,a,c,u,_)}}(c,a,_,l,m)}}function Zd(a,c,l){return a.createElement(c,l)}function uf(a,c){const l=a[Qo],u=l.indexOf(c),m=c[Zt];512&c[jt]&&(c[jt]&=-513,uc(m,-1)),l.splice(u,1)}function Ua(a,c){if(a.length<=nr)return;const l=nr+c,u=a[l];if(u){const m=u[xa];null!==m&&m!==a&&uf(m,u),c>0&&(a[l-1][Nr]=u[Nr]);const _=bl(a,nr+c);!function dv(a,c){Ac(a,c,c[ai],2,null,null),c[Mr]=null,c[Ln]=null}(u[ft],u);const y=_[Ir];null!==y&&y.detachView(_[ft]),u[Zt]=null,u[Nr]=null,u[jt]&=-65}return u}function Rl(a,c){if(!(128&c[jt])){const l=c[ai];l.destroyNode&&Ac(a,c,l,3,null,null),function uv(a){let c=a[ko];if(!c)return Lh(a[ft],a);for(;c;){let l=null;if(Sr(c))l=c[ko];else{const u=c[nr];u&&(l=u)}if(!l){for(;c&&!c[Nr]&&c!==a;)Sr(c)&&Lh(c[ft],c),c=c[Zt];null===c&&(c=a),Sr(c)&&Lh(c[ft],c),l=c&&c[Nr]}c=l}}(c)}}function Lh(a,c){if(!(128&c[jt])){c[jt]&=-65,c[jt]|=128,function Bh(a,c){let l;if(null!=a&&null!=(l=a.destroyHooks))for(let u=0;u<l.length;u+=2){const m=c[l[u]];if(!(m instanceof Id)){const _=l[u+1];if(Array.isArray(_))for(let y=0;y<_.length;y+=2){const C=m[_[y]],D=_[y+1];Zi(4,C,D);try{D.call(C)}finally{Zi(5,C,D)}}else{Zi(4,m,_);try{_.call(m)}finally{Zi(5,m,_)}}}}}(a,c),function Ts(a,c){const l=a.cleanup,u=c[vs];let m=-1;if(null!==l)for(let _=0;_<l.length-1;_+=2)if("string"==typeof l[_]){const y=l[_+3];y>=0?u[m=y]():u[m=-y].unsubscribe(),_+=2}else{const y=u[m=l[_+1]];l[_].call(y)}if(null!==u){for(let _=m+1;_<u.length;_++)(0,u[_])();c[vs]=null}}(a,c),1===c[ft].type&&c[ai].destroy();const l=c[xa];if(null!==l&&rr(c[Zt])){l!==c[Zt]&&uf(l,c);const u=c[Ir];null!==u&&u.detachView(a)}!function cr(a){mo.delete(a[Io])}(c)}}function mv(a,c,l){return function Ol(a,c,l){let u=c;for(;null!==u&&40&u.type;)u=(c=u).parent;if(null===u)return l[Mr];{const{componentOffset:m}=u;if(m>-1){const{encapsulation:_}=a.data[u.directiveStart+m];if(_===te.None||_===te.Emulated)return null}return gn(u,l)}}(a,c.parent,l)}function ia(a,c,l,u,m){a.insertBefore(c,l,u,m)}function hf(a,c,l){a.appendChild(c,l)}function Sc(a,c,l,u,m){null!==u?ia(a,c,l,u,m):hf(a,c,l)}function Tc(a,c){return a.parentNode(c)}function Vh(a,c,l){return Qd(a,c,l)}let Nl,Pc,Gh,xr,Qd=function za(a,c,l){return 40&a.type?gn(a,l):null};function Xd(a,c,l,u){const m=mv(a,u,c),_=c[ai],C=Vh(u.parent||c[Ln],u,c);if(null!=m)if(Array.isArray(l))for(let D=0;D<l.length;D++)Sc(_,m,l[D],C,!1);else Sc(_,m,l,C,!1);void 0!==Nl&&Nl(_,u,c,l,m)}function As(a,c){if(null!==c){const l=c.type;if(3&l)return gn(c,a);if(4&l)return Uh(-1,a[c.index]);if(8&l){const u=c.child;if(null!==u)return As(a,u);{const m=a[c.index];return rr(m)?Uh(-1,m):ji(m)}}if(32&l)return Tl(c,a)()||ji(a[c.index]);{const u=ja(a,c);return null!==u?Array.isArray(u)?u[0]:As(is(a[Bn]),u):As(a,c.next)}}return null}function ja(a,c){return null!==c?a[Bn][Ln].projection[c.projection]:null}function Uh(a,c){const l=nr+a+1;if(l<c.length){const u=c[l],m=u[ft].firstChild;if(null!==m)return As(u,m)}return c[Da]}function Jd(a,c,l,u,m,_,y){for(;null!=l;){const C=u[l.index],D=l.type;if(y&&0===c&&(C&&wr(ji(C),u),l.flags|=2),32!=(32&l.flags))if(8&D)Jd(a,c,l.child,u,m,_,!1),Ss(c,a,m,C,_);else if(32&D){const M=Tl(l,u);let S;for(;S=M();)Ss(c,a,m,S,_);Ss(c,a,m,C,_)}else 16&D?Rc(a,c,u,l,m,_):Ss(c,a,m,C,_);l=y?l.projectionNext:l.next}}function Ac(a,c,l,u,m,_){Jd(l,u,a.firstChild,c,m,_,!1)}function Rc(a,c,l,u,m,_){const y=l[Bn],D=y[Ln].projection[u.projection];if(Array.isArray(D))for(let M=0;M<D.length;M++)Ss(c,a,m,D[M],_);else Jd(a,c,D,y[Zt],m,_,!0)}function Oc(a,c,l){""===l?a.removeAttribute(c,"class"):a.setAttribute(c,"class",l)}function Bl(a,c,l){const{mergedAttrs:u,classes:m,styles:_}=l;null!==u&&bh(a,c,u),null!==m&&Oc(a,c,m),null!==_&&function $a(a,c,l){a.setAttribute(c,"style",l)}(a,c,_)}function Fc(a){return function zh(){if(void 0===Pc&&(Pc=null,xt.trustedTypes))try{Pc=xt.trustedTypes.createPolicy("angular",{createHTML:a=>a,createScript:a=>a,createScriptURL:a=>a})}catch{}return Pc}()?.createHTML(a)||a}function $h(a){Gh=a}function tu(a){return function Ya(){if(void 0===xr&&(xr=null,xt.trustedTypes))try{xr=xt.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:a=>a,createScript:a=>a,createScriptURL:a=>a})}catch{}return xr}()?.createScriptURL(a)||a}class Rs{constructor(c){this.changingThisBreaksApplicationSecurity=c}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${tt})`}}class pv extends Rs{getTypeName(){return"HTML"}}class bf extends Rs{getTypeName(){return"Style"}}class yf extends Rs{getTypeName(){return"Script"}}class rs extends Rs{getTypeName(){return"URL"}}class iu extends Rs{getTypeName(){return"ResourceURL"}}function dr(a){return a instanceof Rs?a.changingThisBreaksApplicationSecurity:a}function Lo(a,c){const l=function wf(a){return a instanceof Rs&&a.getTypeName()||null}(a);if(null!=l&&l!==c){if("ResourceURL"===l&&"URL"===c)return!0;throw new Error(`Required a safe ${c}, got a ${l} (see ${tt})`)}return l===c}function Yh(a){return new pv(a)}function Lr(a){return new bf(a)}function na(a){return new yf(a)}function nu(a){return new rs(a)}function fv(a){return new iu(a)}class Nc{constructor(c){this.inertDocumentHelper=c}getInertBodyElement(c){c="<body><remove></remove>"+c;try{const l=(new window.DOMParser).parseFromString(Fc(c),"text/html").body;return null===l?this.inertDocumentHelper.getInertBodyElement(c):(l.removeChild(l.firstChild),l)}catch{return null}}}class ru{constructor(c){this.defaultDoc=c,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(c){const l=this.inertDocument.createElement("template");return l.innerHTML=Fc(c),l}}const Wh=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function ra(a){return(a=String(a)).match(Wh)?a:"unsafe:"+a}function Os(a){const c={};for(const l of a.split(","))c[l]=!0;return c}function Ps(...a){const c={};for(const l of a)for(const u in l)l.hasOwnProperty(u)&&(c[u]=!0);return c}const xf=Os("area,br,col,hr,img,wbr"),Cf=Os("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),v=Os("rp,rt"),E=Ps(xf,Ps(Cf,Os("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Ps(v,Os("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Ps(v,Cf)),I=Os("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Re=Ps(I,Os("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Os("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),Xe=Os("script,style,template");class gt{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(c){let l=c.firstChild,u=!0;for(;l;)if(l.nodeType===Node.ELEMENT_NODE?u=this.startElement(l):l.nodeType===Node.TEXT_NODE?this.chars(l.nodeValue):this.sanitizedSomething=!0,u&&l.firstChild)l=l.firstChild;else for(;l;){l.nodeType===Node.ELEMENT_NODE&&this.endElement(l);let m=this.checkClobberedElement(l,l.nextSibling);if(m){l=m;break}l=this.checkClobberedElement(l,l.parentNode)}return this.buf.join("")}startElement(c){const l=c.nodeName.toLowerCase();if(!E.hasOwnProperty(l))return this.sanitizedSomething=!0,!Xe.hasOwnProperty(l);this.buf.push("<"),this.buf.push(l);const u=c.attributes;for(let m=0;m<u.length;m++){const _=u.item(m),y=_.name,C=y.toLowerCase();if(!Re.hasOwnProperty(C)){this.sanitizedSomething=!0;continue}let D=_.value;I[C]&&(D=ra(D)),this.buf.push(" ",y,'="',Bo(D),'"')}return this.buf.push(">"),!0}endElement(c){const l=c.nodeName.toLowerCase();E.hasOwnProperty(l)&&!xf.hasOwnProperty(l)&&(this.buf.push("</"),this.buf.push(l),this.buf.push(">"))}chars(c){this.buf.push(Bo(c))}checkClobberedElement(c,l){if(l&&(c.compareDocumentPosition(l)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${c.outerHTML}`);return l}}const ht=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,an=/([^\#-~ |!])/g;function Bo(a){return a.replace(/&/g,"&amp;").replace(ht,function(c){return"&#"+(1024*(c.charCodeAt(0)-55296)+(c.charCodeAt(1)-56320)+65536)+";"}).replace(an,function(c){return"&#"+c.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Lc;function Df(a,c){let l=null;try{Lc=Lc||function Kr(a){const c=new ru(a);return function qh(){try{return!!(new window.DOMParser).parseFromString(Fc(""),"text/html")}catch{return!1}}()?new Nc(c):c}(a);let u=c?String(c):"";l=Lc.getInertBodyElement(u);let m=5,_=u;do{if(0===m)throw new Error("Failed to sanitize html because the input is unstable");m--,u=_,_=l.innerHTML,l=Lc.getInertBodyElement(u)}while(u!==_);return Fc((new gt).sanitizeChildren(ou(l)||l))}finally{if(l){const u=ou(l)||l;for(;u.firstChild;)u.removeChild(u.firstChild)}}}function ou(a){return"content"in a&&function su(a){return a.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===a.nodeName}(a)?a.content:null}var yn=(()=>((yn=yn||{})[yn.NONE=0]="NONE",yn[yn.HTML=1]="HTML",yn[yn.STYLE=2]="STYLE",yn[yn.SCRIPT=3]="SCRIPT",yn[yn.URL=4]="URL",yn[yn.RESOURCE_URL=5]="RESOURCE_URL",yn))();function Vl(a){const c=Xh();return c?c.sanitize(yn.URL,a)||"":Lo(a,"URL")?dr(a):ra(Te(a))}function Ar(a){const c=Xh();if(c)return tu(c.sanitize(yn.RESOURCE_URL,a)||"");if(Lo(a,"ResourceURL"))return tu(dr(a));throw new me(904,!1)}function _v(a,c,l){return function gv(a,c){return"src"===c&&("embed"===a||"frame"===a||"iframe"===a||"media"===a||"script"===a)||"href"===c&&("base"===a||"link"===a)?Ar:Vl}(c,l)(a)}function Xh(){const a=Ae();return a&&a[Eo]}const Bc=new Li("ENVIRONMENT_INITIALIZER"),au=new Li("INJECTOR",-1),cw=new Li("INJECTOR_DEF_TYPES");class lw{get(c,l=Qi){if(l===Qi){const u=new Error(`NullInjectorError: No provider for ${ve(c)}!`);throw u.name="NullInjectorError",u}return l}}function Jh(a){return{\u0275providers:a}}function em(...a){return{\u0275providers:dw(0,a),\u0275fromNgModule:!0}}function dw(a,...c){const l=[],u=new Set;let m;return Xs(c,_=>{const y=_;bv(y,l,[],u)&&(m||(m=[]),m.push(y))}),void 0!==m&&uw(m,l),l}function uw(a,c){for(let l=0;l<a.length;l++){const{providers:m}=a[l];yv(m,_=>{c.push(_)})}}function bv(a,c,l,u){if(!(a=Z(a)))return!1;let m=null,_=jn(a);const y=!_&&Ge(a);if(_||y){if(y&&!y.standalone)return!1;m=a}else{const D=a.ngModule;if(_=jn(D),!_)return!1;m=D}const C=u.has(m);if(y){if(C)return!1;if(u.add(m),y.dependencies){const D="function"==typeof y.dependencies?y.dependencies():y.dependencies;for(const M of D)bv(M,c,l,u)}}else{if(!_)return!1;{if(null!=_.imports&&!C){let M;u.add(m);try{Xs(_.imports,S=>{bv(S,c,l,u)&&(M||(M=[]),M.push(S))})}finally{}void 0!==M&&uw(M,c)}if(!C){const M=P(m)||(()=>new m);c.push({provide:m,useFactory:M,deps:rt},{provide:cw,useValue:m,multi:!0},{provide:Bc,useValue:()=>$e(m),multi:!0})}const D=_.providers;null==D||C||yv(D,S=>{c.push(S)})}}return m!==a&&void 0!==a.providers}function yv(a,c){for(let l of a)ye(l)&&(l=l.\u0275providers),Array.isArray(l)?yv(l,c):c(l)}const Vk=K({provide:String,useValue:K});function hw(a){return null!==a&&"object"==typeof a&&Vk in a}function oa(a){return"function"==typeof a}const wv=new Li("Set Injector scope."),Mf={},Hk={};let xv;function If(){return void 0===xv&&(xv=new lw),xv}class Ul{}class pw extends Ul{get destroyed(){return this._destroyed}constructor(c,l,u,m){super(),this.parent=l,this.source=u,this.scopes=m,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Ev(c,y=>this.processProvider(y)),this.records.set(au,Vc(void 0,this)),m.has("environment")&&this.records.set(Ul,Vc(void 0,this));const _=this.records.get(wv);null!=_&&"string"==typeof _.value&&this.scopes.add(_.value),this.injectorDefTypes=new Set(this.get(cw.multi,rt,vt.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const c of this._ngOnDestroyHooks)c.ngOnDestroy();for(const c of this._onDestroyHooks)c()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(c){this._onDestroyHooks.push(c)}runInContext(c){this.assertNotDestroyed();const l=Yn(this),u=qi(void 0);try{return c()}finally{Yn(l),qi(u)}}get(c,l=Qi,u=vt.Default){this.assertNotDestroyed(),u=Vt(u);const m=Yn(this),_=qi(void 0);try{if(!(u&vt.SkipSelf)){let C=this.records.get(c);if(void 0===C){const D=function Sf(a){return"function"==typeof a||"object"==typeof a&&a instanceof Li}(c)&&Oi(c);C=D&&this.injectableDefInScope(D)?Vc(Cv(c),Mf):null,this.records.set(c,C)}if(null!=C)return this.hydrate(c,C)}return(u&vt.Self?If():this.parent).get(c,l=u&vt.Optional&&l===Qi?null:l)}catch(y){if("NullInjectorError"===y.name){if((y[Xi]=y[Xi]||[]).unshift(ve(c)),m)throw y;return function V(a,c,l,u){const m=a[Xi];throw c[qr]&&m.unshift(c[qr]),a.message=function B(a,c,l,u=null){a=a&&"\n"===a.charAt(0)&&a.charAt(1)==yi?a.slice(2):a;let m=ve(c);if(Array.isArray(c))m=c.map(ve).join(" -> ");else if("object"==typeof c){let _=[];for(let y in c)if(c.hasOwnProperty(y)){let C=c[y];_.push(y+":"+("string"==typeof C?JSON.stringify(C):ve(C)))}m=`{${_.join(", ")}}`}return`${l}${u?"("+u+")":""}[${m}]: ${a.replace(Do,"\n  ")}`}("\n"+a.message,m,l,u),a[en]=m,a[Xi]=null,a}(y,c,"R3InjectorError",this.source)}throw y}finally{qi(_),Yn(m)}}resolveInjectorInitializers(){const c=Yn(this),l=qi(void 0);try{const u=this.get(Bc.multi,rt,vt.Self);for(const m of u)m()}finally{Yn(c),qi(l)}}toString(){const c=[],l=this.records;for(const u of l.keys())c.push(ve(u));return`R3Injector[${c.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new me(205,!1)}processProvider(c){let l=oa(c=Z(c))?c:Z(c&&c.provide);const u=function fw(a){return hw(a)?Vc(void 0,a.useValue):Vc(gw(a),Mf)}(c);if(oa(c)||!0!==c.multi)this.records.get(l);else{let m=this.records.get(l);m||(m=Vc(void 0,Mf,!0),m.factory=()=>Nt(m.multi),this.records.set(l,m)),l=c,m.multi.push(c)}this.records.set(l,u)}hydrate(c,l){return l.value===Mf&&(l.value=Hk,l.value=l.factory()),"object"==typeof l.value&&l.value&&function Dv(a){return null!==a&&"object"==typeof a&&"function"==typeof a.ngOnDestroy}(l.value)&&this._ngOnDestroyHooks.add(l.value),l.value}injectableDefInScope(c){if(!c.providedIn)return!1;const l=Z(c.providedIn);return"string"==typeof l?"any"===l||this.scopes.has(l):this.injectorDefTypes.has(l)}}function Cv(a){const c=Oi(a),l=null!==c?c.factory:P(a);if(null!==l)return l;if(a instanceof Li)throw new me(204,!1);if(a instanceof Function)return function Uk(a){const c=a.length;if(c>0)throw Ud(c,"?"),new me(204,!1);const l=function mn(a){const c=a&&(a[Gn]||a[Vi]);return c?(function Fr(a){if(a.hasOwnProperty("name"))return a.name;(""+a).match(/^function\s*([^\s(]+)/)}(a),c):null}(a);return null!==l?()=>l.factory(a):()=>new a}(a);throw new me(204,!1)}function gw(a,c,l){let u;if(oa(a)){const m=Z(a);return P(m)||Cv(m)}if(hw(a))u=()=>Z(a.useValue);else if(function kf(a){return!(!a||!a.useFactory)}(a))u=()=>a.useFactory(...Nt(a.deps||[]));else if(function mw(a){return!(!a||!a.useExisting)}(a))u=()=>$e(Z(a.useExisting));else{const m=Z(a&&(a.useClass||a.provide));if(!function _w(a){return!!a.deps}(a))return P(m)||Cv(m);u=()=>new m(...Nt(a.deps))}return u}function Vc(a,c,l=!1){return{factory:a,value:c,multi:l?[]:void 0}}function Ev(a,c){for(const l of a)Array.isArray(l)?Ev(l,c):l&&ye(l)?Ev(l.\u0275providers,c):c(l)}class zk{}class vw{}class bw{resolveComponentFactory(c){throw function jk(a){const c=Error(`No component factory found for ${ve(a)}. Did you add it to @NgModule.entryComponents?`);return c.ngComponent=a,c}(c)}}let Hc=(()=>{class a{}return a.NULL=new bw,a})();function Tf(){return zl(br(),Ae())}function zl(a,c){return new qa(gn(a,c))}let qa=(()=>{class a{constructor(l){this.nativeElement=l}}return a.__NG_ELEMENT_ID__=Tf,a})();function yw(a){return a instanceof qa?a.nativeElement:a}class ww{}let $k=(()=>{class a{}return a.__NG_ELEMENT_ID__=()=>function Yk(){const a=Ae(),l=or(br().index,a);return(Sr(l)?l:a)[ai]}(),a})(),qk=(()=>{class a{}return a.\u0275prov=Dt({token:a,providedIn:"root",factory:()=>null}),a})();class xw{constructor(c){this.full=c,this.major=c.split(".")[0],this.minor=c.split(".")[1],this.patch=c.split(".").slice(2).join(".")}}const kv=new xw("15.2.7"),Mv={},Iv="ngOriginalError";function Sv(a){return a[Iv]}class im{constructor(){this._console=console}handleError(c){const l=this._findOriginalError(c);this._console.error("ERROR",c),l&&this._console.error("ORIGINAL ERROR",l)}_findOriginalError(c){let l=c&&Sv(c);for(;l&&Sv(l);)l=Sv(l);return l||null}}function sa(a){return a instanceof Function?a():a}function Tv(a,c,l){let u=a.length;for(;;){const m=a.indexOf(c,l);if(-1===m)return m;if(0===m||a.charCodeAt(m-1)<=32){const _=c.length;if(m+_===u||a.charCodeAt(m+_)<=32)return m}l=m+1}}const Af="ng-template";function Mw(a,c,l){let u=0,m=!0;for(;u<a.length;){let _=a[u++];if("string"==typeof _&&m){const y=a[u++];if(l&&"class"===_&&-1!==Tv(y.toLowerCase(),c,0))return!0}else{if(1===_){for(;u<a.length&&"string"==typeof(_=a[u++]);)if(_.toLowerCase()===c)return!0;return!1}"number"==typeof _&&(m=!1)}}return!1}function Gl(a){return 4===a.type&&a.value!==Af}function Av(a,c,l){return c===(4!==a.type||l?a.value:Af)}function eM(a,c,l){let u=4;const m=a.attrs||[],_=function Sw(a){for(let c=0;c<a.length;c++)if(gc(a[c]))return c;return a.length}(m);let y=!1;for(let C=0;C<c.length;C++){const D=c[C];if("number"!=typeof D){if(!y)if(4&u){if(u=2|1&u,""!==D&&!Av(a,D,l)||""===D&&1===c.length){if(os(u))return!1;y=!0}}else{const M=8&u?D:c[++C];if(8&u&&null!==a.attrs){if(!Mw(a.attrs,M,l)){if(os(u))return!1;y=!0}continue}const O=Rf(8&u?"class":D,m,Gl(a),l);if(-1===O){if(os(u))return!1;y=!0;continue}if(""!==M){let q;q=O>_?"":m[O+1].toLowerCase();const ie=8&u?q:null;if(ie&&-1!==Tv(ie,M,0)||2&u&&M!==q){if(os(u))return!1;y=!0}}}}else{if(!y&&!os(u)&&!os(D))return!1;if(y&&os(D))continue;y=!1,u=D|1&u}}return os(u)||y}function os(a){return 0==(1&a)}function Rf(a,c,l,u){if(null===c)return-1;let m=0;if(u||!l){let _=!1;for(;m<c.length;){const y=c[m];if(y===a)return m;if(3===y||6===y)_=!0;else{if(1===y||2===y){let C=c[++m];for(;"string"==typeof C;)C=c[++m];continue}if(4===y)break;if(0===y){m+=4;continue}}m+=_?1:2}return-1}return function tM(a,c){let l=a.indexOf(4);if(l>-1)for(l++;l<a.length;){const u=a[l];if("number"==typeof u)return-1;if(u===c)return l;l++}return-1}(c,a)}function nm(a,c,l=!1){for(let u=0;u<c.length;u++)if(eM(a,c[u],l))return!0;return!1}function iM(a,c){e:for(let l=0;l<c.length;l++){const u=c[l];if(a.length===u.length){for(let m=0;m<a.length;m++)if(a[m]!==u[m])continue e;return!0}}return!1}function Tw(a,c){return a?":not("+c.trim()+")":c}function nM(a){let c=a[0],l=1,u=2,m="",_=!1;for(;l<a.length;){let y=a[l];if("string"==typeof y)if(2&u){const C=a[++l];m+="["+y+(C.length>0?'="'+C+'"':"")+"]"}else 8&u?m+="."+y:4&u&&(m+=" "+y);else""!==m&&!os(y)&&(c+=Tw(_,m),m=""),u=y,_=_||!os(u);l++}return""!==m&&(c+=Tw(_,m)),c}const ci={};function Aw(a){Pf(Ei(),Ae(),yr()+a,!1)}function Pf(a,c,l,u){if(!u)if(3==(3&c[jt])){const _=a.preOrderCheckHooks;null!==_&&zp(c,_,l)}else{const _=a.preOrderHooks;null!==_&&gh(c,_,0,l)}Ws(l)}function Rv(a,c=null,l=null,u){const m=cM(a,c,l,u);return m.resolveInjectorInitializers(),m}function cM(a,c=null,l=null,u,m=new Set){const _=[l||rt,em(a)];return u=u||("object"==typeof a?void 0:ve(a)),new pw(_,c||If(),u||null,m)}let lu=(()=>{class a{static create(l,u){if(Array.isArray(l))return Rv({name:""},u,l,"");{const m=l.name??"";return Rv({name:m},l.parent,l.providers,m)}}}return a.THROW_IF_NOT_FOUND=Qi,a.NULL=new lw,a.\u0275prov=Dt({token:a,providedIn:"any",factory:()=>$e(au)}),a.__NG_ELEMENT_ID__=-1,a})();function uu(a,c=vt.Default){const l=Ae();return null===l?$e(a,c):Yp(br(),l,Z(a),c)}function Vw(){throw new Error("invalid")}function Hw(a,c){const l=a.contentQueries;if(null!==l)for(let u=0;u<l.length;u+=2){const _=l[u+1];if(-1!==_){const y=a.data[_];Md(l[u]),y.contentQueries(2,c[_],_)}}}function Nv(a,c,l,u,m,_,y,C,D,M,S){const O=c.blueprint.slice();return O[Mr]=m,O[jt]=76|u,(null!==S||a&&1024&a[jt])&&(O[jt]|=1024),xd(O),O[Zt]=O[$s]=a,O[nn]=l,O[bs]=y||a&&a[bs],O[ai]=C||a&&a[ai],O[Eo]=D||a&&a[Eo]||null,O[ir]=M||a&&a[ir]||null,O[Ln]=_,O[Io]=function sf(){return rf++}(),O[ac]=S,O[Bn]=2==c.type?a[Bn]:O,O}function Za(a,c,l,u,m){let _=a.data[c];if(null===_)_=function lm(a,c,l,u,m){const _=ch(),y=Bp(),D=a.data[c]=function fi(a,c,l,u,m,_){return{type:l,index:u,insertBeforeIndex:null,injectorIndex:c?c.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:0,providerIndexes:0,value:m,attrs:_,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:c,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,y?_:_&&_.parent,l,c,u,m);return null===a.firstChild&&(a.firstChild=D),null!==_&&(y?null==_.child&&null!==D.parent&&(_.child=D):null===_.next&&(_.next=D,D.prev=_)),D}(a,c,l,u,m),function Dd(){return Kt.lFrame.inI18n}()&&(_.flags|=32);else if(64&_.type){_.type=l,_.value=u,_.attrs=m;const y=function ll(){const a=Kt.lFrame,c=a.currentTNode;return a.isParent?c:c.parent}();_.injectorIndex=null===y?-1:y.injectorIndex}return Ao(_,!0),_}function Fs(a,c,l,u){if(0===l)return-1;const m=c.length;for(let _=0;_<l;_++)c.push(u),a.blueprint.push(u),a.data.push(null);return m}function Lv(a,c,l){Up(c);try{const u=a.viewQuery;null!==u&&jv(1,u,l);const m=a.template;null!==m&&zw(a,c,m,1,l),a.firstCreatePass&&(a.firstCreatePass=!1),a.staticContentQueries&&Hw(a,c),a.staticViewQueries&&jv(2,a.viewQuery,l);const _=a.components;null!==_&&function vM(a,c){for(let l=0;l<c.length;l++)RM(a,c[l])}(c,_)}catch(u){throw a.firstCreatePass&&(a.incompleteFirstPass=!0,a.firstCreatePass=!1),u}finally{c[jt]&=-5,ul()}}function Lf(a,c,l,u){const m=c[jt];if(128!=(128&m)){Up(c);try{xd(c),function dh(a){return Kt.lFrame.bindingIndex=a}(a.bindingStartIndex),null!==l&&zw(a,c,l,2,u);const y=3==(3&m);if(y){const M=a.preOrderCheckHooks;null!==M&&zp(c,M,null)}else{const M=a.preOrderHooks;null!==M&&gh(c,M,0,null),hl(c,0)}if(function TM(a){for(let c=Va(a);null!==c;c=Yd(c)){if(!c[cc])continue;const l=c[Qo];for(let u=0;u<l.length;u++){const m=l[u];512&m[jt]||uc(m[Zt],1),m[jt]|=512}}}(c),function SM(a){for(let c=Va(a);null!==c;c=Yd(c))for(let l=nr;l<c.length;l++){const u=c[l],m=u[ft];cl(u)&&Lf(m,u,m.template,u[nn])}}(c),null!==a.contentQueries&&Hw(a,c),y){const M=a.contentCheckHooks;null!==M&&zp(c,M)}else{const M=a.contentHooks;null!==M&&gh(c,M,1),hl(c,1)}!function _M(a,c){const l=a.hostBindingOpCodes;if(null!==l)try{for(let u=0;u<l.length;u++){const m=l[u];if(m<0)Ws(~m);else{const _=m,y=l[++u],C=l[++u];K0(y,_),C(2,c[_])}}}finally{Ws(-1)}}(a,c);const C=a.components;null!==C&&function Uw(a,c){for(let l=0;l<c.length;l++)AM(a,c[l])}(c,C);const D=a.viewQuery;if(null!==D&&jv(2,D,u),y){const M=a.viewCheckHooks;null!==M&&zp(c,M)}else{const M=a.viewHooks;null!==M&&gh(c,M,2),hl(c,2)}!0===a.firstUpdatePass&&(a.firstUpdatePass=!1),c[jt]&=-41,512&c[jt]&&(c[jt]&=-513,uc(c[Zt],-1))}finally{ul()}}}function zw(a,c,l,u,m){const _=yr(),y=2&u;try{Ws(-1),y&&c.length>_i&&Pf(a,c,_i,!1),Zi(y?2:0,m),l(u,m)}finally{Ws(_),Zi(y?3:1,m)}}function Bf(a,c,l){if(Ea(c)){const m=c.directiveEnd;for(let _=c.directiveStart;_<m;_++){const y=a.data[_];y.contentQueries&&y.contentQueries(1,l[_],_)}}}function Bv(a,c,l){sh()&&(function Gw(a,c,l,u){const m=l.directiveStart,_=l.directiveEnd;So(l)&&function kM(a,c,l){const u=gn(c,a),m=un(l),_=a[bs],y=Vf(a,Nv(a,m,null,l.onPush?32:16,u,c,_,_.createRenderer(u,l),null,null,null));a[c.index]=y}(c,l,a.data[m+l.componentOffset]),a.firstCreatePass||Es(l,c),wr(u,c);const y=l.initialInputs;for(let C=m;C<_;C++){const D=a.data[C],M=Aa(c,a,C,l);wr(M,c),null!==y&&MM(0,C-m,M,D,0,y),ln(D)&&(or(l.index,c)[nn]=Aa(c,a,C,l))}}(a,c,l,gn(l,c)),64==(64&l.flags)&&$w(a,c,l))}function Ns(a,c,l=gn){const u=c.localNames;if(null!==u){let m=c.index+1;for(let _=0;_<u.length;_+=2){const y=u[_+1],C=-1===y?l(c,a):a[y];a[m++]=C}}}function un(a){const c=a.tView;return null===c||c.incompleteFirstPass?a.tView=vi(1,null,a.template,a.decls,a.vars,a.directiveDefs,a.pipeDefs,a.viewQuery,a.schemas,a.consts):c}function vi(a,c,l,u,m,_,y,C,D,M){const S=_i+u,O=S+m,q=function dm(a,c){const l=[];for(let u=0;u<c;u++)l.push(u<a?null:ci);return l}(S,O),ie="function"==typeof M?M():M;return q[ft]={type:a,blueprint:q,template:l,queries:null,viewQuery:C,declTNode:c,data:q.slice().fill(null,S),bindingStartIndex:S,expandoStartIndex:O,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof _?_():_,pipeRegistry:"function"==typeof y?y():y,firstChild:null,schemas:D,consts:ie,incompleteFirstPass:!1}}function _t(a,c,l,u){const m=Ww(c);null===l?m.push(u):(m.push(l),a.firstCreatePass&&Zw(a).push(u,m.length-1))}function $l(a,c,l,u){for(let m in a)if(a.hasOwnProperty(m)){l=null===l?{}:l;const _=a[m];null===u?bi(l,c,m,_):u.hasOwnProperty(m)&&bi(l,c,u[m],_)}return l}function bi(a,c,l,u){a.hasOwnProperty(l)?a[l].push(c,u):a[l]=[c,u]}function ss(a,c,l,u,m,_,y,C){const D=gn(c,l);let S,M=c.inputs;!C&&null!=M&&(S=M[u])?(Gv(a,l,S,u,m),So(c)&&function mu(a,c){const l=or(c,a);16&l[jt]||(l[jt]|=32)}(l,c.index)):3&c.type&&(u=function hu(a){return"class"===a?"className":"for"===a?"htmlFor":"formaction"===a?"formAction":"innerHtml"===a?"innerHTML":"readonly"===a?"readOnly":"tabindex"===a?"tabIndex":a}(u),m=null!=y?y(m,c.value||"",u):m,_.setProperty(D,u,m))}function Yl(a,c,l,u){if(sh()){const m=null===u?null:{"":-1},_=function wM(a,c){const l=a.directiveRegistry;let u=null,m=null;if(l)for(let _=0;_<l.length;_++){const y=l[_];if(nm(c,y.selectors,!1))if(u||(u=[]),ln(y))if(null!==y.findHostDirectiveDefs){const C=[];m=m||new Map,y.findHostDirectiveDefs(y,C,m),u.unshift(...C,y),Uv(a,c,C.length)}else u.unshift(y),Uv(a,c,0);else m=m||new Map,y.findHostDirectiveDefs?.(y,u,m),u.push(y)}return null===u?null:[u,m]}(a,l);let y,C;null===_?y=C=null:[y,C]=_,null!==y&&Vv(a,c,l,y,m,C),m&&function xM(a,c,l){if(c){const u=a.localNames=[];for(let m=0;m<c.length;m+=2){const _=l[c[m+1]];if(null==_)throw new me(-301,!1);u.push(c[m],_)}}}(l,u,m)}l.mergedAttrs=Ds(l.mergedAttrs,l.attrs)}function Vv(a,c,l,u,m,_){for(let M=0;M<u.length;M++)vc(Es(l,c),a,u[M].type);!function DM(a,c,l){a.flags|=1,a.directiveStart=c,a.directiveEnd=c+l,a.providerIndexes=c}(l,a.data.length,u.length);for(let M=0;M<u.length;M++){const S=u[M];S.providersResolver&&S.providersResolver(S)}let y=!1,C=!1,D=Fs(a,c,u.length,null);for(let M=0;M<u.length;M++){const S=u[M];l.mergedAttrs=Ds(l.mergedAttrs,S.hostAttrs),EM(a,l,c,D,S),CM(D,S,m),null!==S.contentQueries&&(l.flags|=4),(null!==S.hostBindings||null!==S.hostAttrs||0!==S.hostVars)&&(l.flags|=64);const O=S.type.prototype;!y&&(O.ngOnChanges||O.ngOnInit||O.ngDoCheck)&&((a.preOrderHooks??(a.preOrderHooks=[])).push(l.index),y=!0),!C&&(O.ngOnChanges||O.ngDoCheck)&&((a.preOrderCheckHooks??(a.preOrderCheckHooks=[])).push(l.index),C=!0),D++}!function NO(a,c,l){const m=c.directiveEnd,_=a.data,y=c.attrs,C=[];let D=null,M=null;for(let S=c.directiveStart;S<m;S++){const O=_[S],q=l?l.get(O):null,Ee=q?q.outputs:null;D=$l(O.inputs,S,D,q?q.inputs:null),M=$l(O.outputs,S,M,Ee);const qe=null===D||null===y||Gl(c)?null:IM(D,S,y);C.push(qe)}null!==D&&(D.hasOwnProperty("class")&&(c.flags|=8),D.hasOwnProperty("style")&&(c.flags|=16)),c.initialInputs=C,c.inputs=D,c.outputs=M}(a,l,_)}function $w(a,c,l){const u=l.directiveStart,m=l.directiveEnd,_=l.index,y=function uh(){return Kt.lFrame.currentDirectiveIndex}();try{Ws(_);for(let C=u;C<m;C++){const D=a.data[C],M=c[C];Ed(C),(null!==D.hostBindings||0!==D.hostVars||null!==D.hostAttrs)&&yM(D,M)}}finally{Ws(-1),Ed(y)}}function yM(a,c){null!==a.hostBindings&&a.hostBindings(1,c)}function Uv(a,c,l){c.componentOffset=l,(a.components??(a.components=[])).push(c.index)}function CM(a,c,l){if(l){if(c.exportAs)for(let u=0;u<c.exportAs.length;u++)l[c.exportAs[u]]=a;ln(c)&&(l[""]=a)}}function EM(a,c,l,u,m){a.data[u]=m;const _=m.factory||(m.factory=P(m.type)),y=new Id(_,ln(m),uu);a.blueprint[u]=y,l[u]=y,function Hv(a,c,l,u,m){const _=m.hostBindings;if(_){let y=a.hostBindingOpCodes;null===y&&(y=a.hostBindingOpCodes=[]);const C=~c.index;(function BO(a){let c=a.length;for(;c>0;){const l=a[--c];if("number"==typeof l&&l<0)return l}return 0})(y)!=C&&y.push(C),y.push(l,u,_)}}(a,c,u,Fs(a,l,m.hostVars,ci),m)}function aa(a,c,l,u,m,_){const y=gn(a,c);!function Yw(a,c,l,u,m,_,y){if(null==_)a.removeAttribute(c,m,l);else{const C=null==y?Te(_):y(_,u||"",m);a.setAttribute(c,m,C,l)}}(c[ai],y,_,a.value,l,u,m)}function MM(a,c,l,u,m,_){const y=_[c];if(null!==y){const C=u.setInput;for(let D=0;D<y.length;){const M=y[D++],S=y[D++],O=y[D++];null!==C?u.setInput(l,O,M,S):l[S]=O}}}function IM(a,c,l){let u=null,m=0;for(;m<l.length;){const _=l[m];if(0!==_)if(5!==_){if("number"==typeof _)break;if(a.hasOwnProperty(_)){null===u&&(u=[]);const y=a[_];for(let C=0;C<y.length;C+=2)if(y[C]===c){u.push(_,y[C+1],l[m+1]);break}}m+=2}else m+=2;else m+=4}return u}function qw(a,c,l,u){return[a,!0,!1,c,null,0,u,l,null,null]}function AM(a,c){const l=or(c,a);if(cl(l)){const u=l[ft];48&l[jt]?Lf(u,l,u.template,l[nn]):l[_s]>0&&zv(l)}}function zv(a){for(let u=Va(a);null!==u;u=Yd(u))for(let m=nr;m<u.length;m++){const _=u[m];if(cl(_))if(512&_[jt]){const y=_[ft];Lf(y,_,y.template,_[nn])}else _[_s]>0&&zv(_)}const l=a[ft].components;if(null!==l)for(let u=0;u<l.length;u++){const m=or(l[u],a);cl(m)&&m[_s]>0&&zv(m)}}function RM(a,c){const l=or(c,a),u=l[ft];(function OM(a,c){for(let l=c.length;l<a.blueprint.length;l++)c.push(a.blueprint[l])})(u,l),Lv(u,l,l[nn])}function Vf(a,c){return a[ko]?a[wa][Nr]=c:a[ko]=c,a[wa]=c,c}function Hf(a){for(;a;){a[jt]|=32;const c=is(a);if(ka(a)&&!c)return a;a=c}return null}function Uf(a,c,l,u=!0){const m=c[bs];m.begin&&m.begin();try{Lf(a,c,a.template,l)}catch(y){throw u&&Qw(c,y),y}finally{m.end&&m.end()}}function jv(a,c,l){Md(0),c(a,l)}function Ww(a){return a[vs]||(a[vs]=[])}function Zw(a){return a.cleanup||(a.cleanup=[])}function Qw(a,c){const l=a[ir],u=l?l.get(im,null):null;u&&u.handleError(c)}function Gv(a,c,l,u,m){for(let _=0;_<l.length;){const y=l[_++],C=l[_++],D=c[y],M=a.data[y];null!==M.setInput?M.setInput(D,m,u,C):D[C]=m}}function Ka(a,c,l){const u=In(c,a);!function Ph(a,c,l){a.setValue(c,l)}(a[ai],u,l)}function zf(a,c,l){let u=l?a.styles:null,m=l?a.classes:null,_=0;if(null!==c)for(let y=0;y<c.length;y++){const C=c[y];"number"==typeof C?_=C:1==_?m=he(m,C):2==_&&(u=he(u,C+": "+c[++y]+";"))}l?a.styles=u:a.stylesWithoutHost=u,l?a.classes=m:a.classesWithoutHost=m}function $v(a,c,l,u,m=!1){for(;null!==l;){const _=c[l.index];if(null!==_&&u.push(ji(_)),rr(_))for(let C=nr;C<_.length;C++){const D=_[C],M=D[ft].firstChild;null!==M&&$v(D[ft],D,M,u)}const y=l.type;if(8&y)$v(a,c,l.child,u);else if(32&y){const C=Tl(l,c);let D;for(;D=C();)u.push(D)}else if(16&y){const C=ja(c,l);if(Array.isArray(C))u.push(...C);else{const D=is(c[Bn]);$v(D[ft],D,C,u,!0)}}l=m?l.projectionNext:l.next}return u}class um{get rootNodes(){const c=this._lView,l=c[ft];return $v(l,c,l.firstChild,[])}constructor(c,l){this._lView=c,this._cdRefInjectingView=l,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[nn]}set context(c){this._lView[nn]=c}get destroyed(){return 128==(128&this._lView[jt])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const c=this._lView[Zt];if(rr(c)){const l=c[ys],u=l?l.indexOf(this):-1;u>-1&&(Ua(c,u),bl(l,u))}this._attachedToViewContainer=!1}Rl(this._lView[ft],this._lView)}onDestroy(c){_t(this._lView[ft],this._lView,null,c)}markForCheck(){Hf(this._cdRefInjectingView||this._lView)}detach(){this._lView[jt]&=-65}reattach(){this._lView[jt]|=64}detectChanges(){Uf(this._lView[ft],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new me(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Ha(a,c){Ac(a,c,c[ai],2,null,null)}(this._lView[ft],this._lView)}attachToAppRef(c){if(this._attachedToViewContainer)throw new me(902,!1);this._appRef=c}}class PM extends um{constructor(c){super(c),this._view=c}detectChanges(){const c=this._view;Uf(c[ft],c,c[nn],!1)}checkNoChanges(){}get context(){return null}}class Xw extends Hc{constructor(c){super(),this.ngModule=c}resolveComponentFactory(c){const l=Ge(c);return new ql(l,this.ngModule)}}function jf(a){const c=[];for(let l in a)a.hasOwnProperty(l)&&c.push({propName:a[l],templateName:l});return c}class Jw{constructor(c,l){this.injector=c,this.parentInjector=l}get(c,l,u){u=Vt(u);const m=this.injector.get(c,Mv,u);return m!==Mv||l===Mv?m:this.parentInjector.get(c,l,u)}}class ql extends vw{get inputs(){return jf(this.componentDef.inputs)}get outputs(){return jf(this.componentDef.outputs)}constructor(c,l){super(),this.componentDef=c,this.ngModule=l,this.componentType=c.type,this.selector=function rM(a){return a.map(nM).join(",")}(c.selectors),this.ngContentSelectors=c.ngContentSelectors?c.ngContentSelectors:[],this.isBoundToModule=!!l}create(c,l,u,m){let _=(m=m||this.ngModule)instanceof Ul?m:m?.injector;_&&null!==this.componentDef.getStandaloneInjector&&(_=this.componentDef.getStandaloneInjector(_)||_);const y=_?new Jw(c,_):c,C=y.get(ww,null);if(null===C)throw new me(407,!1);const D=y.get(qk,null),M=C.createRenderer(null,this.componentDef),S=this.componentDef.selectors[0][0]||"div",O=u?function jw(a,c,l){return a.selectRootElement(c,l===te.ShadowDom)}(M,u,this.componentDef.encapsulation):Zd(M,S,function Uc(a){const c=a.toLowerCase();return"svg"===c?Mn:"math"===c?"math":null}(S)),q=this.componentDef.onPush?288:272,ie=vi(0,null,null,1,0,null,null,null,null,null),Ee=Nv(null,ie,null,q,null,null,C,M,D,y,null);let qe,lt;Up(Ee);try{const Mt=this.componentDef;let Gt,Be=null;Mt.findHostDirectiveDefs?(Gt=[],Be=new Map,Mt.findHostDirectiveDefs(Mt,Gt,Be),Gt.push(Mt)):Gt=[Mt];const ii=function Ho(a,c){const l=a[ft],u=_i;return a[u]=c,Za(l,u,2,"#host",null)}(Ee,O),hn=function tx(a,c,l,u,m,_,y,C){const D=m[ft];!function qv(a,c,l,u){for(const m of a)c.mergedAttrs=Ds(c.mergedAttrs,m.hostAttrs);null!==c.mergedAttrs&&(zf(c,c.mergedAttrs,!0),null!==l&&Bl(u,l,c))}(u,a,c,y);const M=_.createRenderer(c,l),S=Nv(m,un(l),null,l.onPush?32:16,m[a.index],a,_,M,C||null,null,null);return D.firstCreatePass&&Uv(D,a,u.length-1),Vf(m,S),m[a.index]=S}(ii,O,Mt,Gt,Ee,C,M);lt=nh(ie,_i),O&&function nx(a,c,l,u){if(u)bh(a,l,["ng-version",kv.full]);else{const{attrs:m,classes:_}=function Of(a){const c=[],l=[];let u=1,m=2;for(;u<a.length;){let _=a[u];if("string"==typeof _)2===m?""!==_&&c.push(_,a[++u]):8===m&&l.push(_);else{if(!os(m))break;m=_}u++}return{attrs:c,classes:l}}(c.selectors[0]);m&&bh(a,l,m),_&&_.length>0&&Oc(a,l,_.join(" "))}}(M,Mt,O,u),void 0!==l&&function Wv(a,c,l){const u=a.projection=[];for(let m=0;m<c.length;m++){const _=l[m];u.push(null!=_?Array.from(_):null)}}(lt,this.ngContentSelectors,l),qe=function ix(a,c,l,u,m,_){const y=br(),C=m[ft],D=gn(y,m);Vv(C,m,y,l,null,u);for(let S=0;S<l.length;S++)wr(Aa(m,C,y.directiveStart+S,y),m);$w(C,m,y),D&&wr(D,m);const M=Aa(m,C,y.directiveStart+y.componentOffset,y);if(a[nn]=m[nn]=M,null!==_)for(const S of _)S(M,c);return Bf(C,y,a),M}(hn,Mt,Gt,Be,Ee,[UO]),Lv(ie,Ee,null)}finally{ul()}return new Yv(this.componentType,qe,zl(lt,Ee),Ee,lt)}}class Yv extends zk{constructor(c,l,u,m,_){super(),this.location=u,this._rootLView=m,this._tNode=_,this.instance=l,this.hostView=this.changeDetectorRef=new PM(m),this.componentType=c}setInput(c,l){const u=this._tNode.inputs;let m;if(null!==u&&(m=u[c])){const _=this._rootLView;Gv(_[ft],_,m,c,l),Hf(or(this._tNode.index,_))}}get injector(){return new Ks(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(c){this.hostView.onDestroy(c)}}function UO(){const a=br();fh(Ae()[ft],a)}function Qa(a){let c=function rx(a){return Object.getPrototypeOf(a.prototype).constructor}(a.type),l=!0;const u=[a];for(;c;){let m;if(ln(a))m=c.\u0275cmp||c.\u0275dir;else{if(c.\u0275cmp)throw new me(903,!1);m=c.\u0275dir}if(m){if(l){u.push(m);const y=a;y.inputs=Zv(a.inputs),y.declaredInputs=Zv(a.declaredInputs),y.outputs=Zv(a.outputs);const C=m.hostBindings;C&&sx(a,C);const D=m.viewQuery,M=m.contentQueries;if(D&&zO(a,D),M&&FM(a,M),ge(a.inputs,m.inputs),ge(a.declaredInputs,m.declaredInputs),ge(a.outputs,m.outputs),ln(m)&&m.data.animation){const S=a.data;S.animation=(S.animation||[]).concat(m.data.animation)}}const _=m.features;if(_)for(let y=0;y<_.length;y++){const C=_[y];C&&C.ngInherit&&C(a),C===Qa&&(l=!1)}}c=Object.getPrototypeOf(c)}!function ox(a){let c=0,l=null;for(let u=a.length-1;u>=0;u--){const m=a[u];m.hostVars=c+=m.hostVars,m.hostAttrs=Ds(m.hostAttrs,l=Ds(l,m.hostAttrs))}}(u)}function Zv(a){return a===st?{}:a===rt?[]:a}function zO(a,c){const l=a.viewQuery;a.viewQuery=l?(u,m)=>{c(u,m),l(u,m)}:c}function FM(a,c){const l=a.contentQueries;a.contentQueries=l?(u,m,_)=>{c(u,m,_),l(u,m,_)}:c}function sx(a,c){const l=a.hostBindings;a.hostBindings=l?(u,m)=>{c(u,m),l(u,m)}:c}function Wl(a){return!!Ls(a)&&(Array.isArray(a)||!(a instanceof Map)&&Symbol.iterator in a)}function Ls(a){return null!==a&&("function"==typeof a||"object"==typeof a)}function Uo(a,c,l){return a[c]=l}function Wn(a,c,l){return!Object.is(a[c],l)&&(a[c]=l,!0)}function zc(a,c,l,u){const m=Wn(a,c,l);return Wn(a,c+1,u)||m}function ca(a,c,l,u){const m=Ae();return Wn(m,dl(),c)&&(Ei(),aa(_n(),m,a,c,l,u)),ca}function Xr(a,c,l,u,m,_){const C=zc(a,function Zr(){return Kt.lFrame.bindingIndex}(),l,m);return Jo(2),C?c+Te(l)+u+Te(m)+_:ci}function gx(a,c,l,u,m,_,y,C){const D=Ae(),M=Ei(),S=a+_i,O=M.firstCreatePass?function LM(a,c,l,u,m,_,y,C,D){const M=c.consts,S=Za(c,a,4,y||null,Cs(M,C));Yl(c,l,S,Cs(M,D)),fh(c,S);const O=S.tView=vi(2,S,u,m,_,c.directiveRegistry,c.pipeRegistry,null,c.schemas,M);return null!==c.queries&&(c.queries.template(c,S),O.queries=c.queries.embeddedTView(S)),S}(S,M,D,c,l,u,m,_,y):M.data[S];Ao(O,!1);const q=D[ai].createComment("");Xd(M,D,q,O),wr(q,D),Vf(D,D[S]=qw(q,D,q,O)),ao(O)&&Bv(M,D,O),null!=y&&Ns(D,O,C)}function VM(a){return qs(function lh(){return Kt.lFrame.contextLView}(),_i+a)}function _x(a,c,l){const u=Ae();return Wn(u,dl(),c)&&ss(Ei(),_n(),u,a,c,u[ai],l,!1),_x}function fu(a,c,l,u,m){const y=m?"class":"style";Gv(a,l,c.inputs[y],y,u)}function qf(a,c,l,u){const m=Ae(),_=Ei(),y=_i+a,C=m[ai],D=_.firstCreatePass?function HM(a,c,l,u,m,_){const y=c.consts,D=Za(c,a,2,u,Cs(y,m));return Yl(c,l,D,Cs(y,_)),null!==D.attrs&&zf(D,D.attrs,!1),null!==D.mergedAttrs&&zf(D,D.mergedAttrs,!0),null!==c.queries&&c.queries.elementStart(c,D),D}(y,_,m,c,l,u):_.data[y],M=m[y]=Zd(C,c,function ew(){return Kt.lFrame.currentNamespace}()),S=ao(D);return Ao(D,!0),Bl(C,M,D),32!=(32&D.flags)&&Xd(_,m,M,D),0===function Lp(){return Kt.lFrame.elementDepthCount}()&&wr(M,m),function oh(){Kt.lFrame.elementDepthCount++}(),S&&(Bv(_,m,D),Bf(_,D,m)),null!==u&&Ns(m,D),qf}function Wf(){let a=br();Bp()?Cd():(a=a.parent,Ao(a,!1));const c=a;!function L_(){Kt.lFrame.elementDepthCount--}();const l=Ei();return l.firstCreatePass&&(fh(l,a),Ea(a)&&l.queries.elementEnd(a)),null!=c.classesWithoutHost&&function _h(a){return 0!=(8&a.flags)}(c)&&fu(l,c,Ae(),c.classesWithoutHost,!0),null!=c.stylesWithoutHost&&function Sd(a){return 0!=(16&a.flags)}(c)&&fu(l,c,Ae(),c.stylesWithoutHost,!1),Wf}function gu(a,c,l,u){return qf(a,c,l,u),Wf(),gu}function gm(a,c,l){const u=Ae(),m=Ei(),_=a+_i,y=m.firstCreatePass?function Zf(a,c,l,u,m){const _=c.consts,y=Cs(_,u),C=Za(c,a,8,"ng-container",y);return null!==y&&zf(C,y,!0),Yl(c,l,C,Cs(_,m)),null!==c.queries&&c.queries.elementStart(c,C),C}(_,m,u,c,l):m.data[_];Ao(y,!0);const C=u[_]=u[ai].createComment("");return Xd(m,u,C,y),wr(C,u),ao(y)&&(Bv(m,u,y),Bf(m,y,u)),null!=l&&Ns(u,y),gm}function _m(){let a=br();const c=Ei();return Bp()?Cd():(a=a.parent,Ao(a,!1)),c.firstCreatePass&&(fh(c,a),Ea(a)&&c.queries.elementEnd(a)),_m}function ib(a,c,l){return gm(a,c,l),_m(),ib}function Kf(){return Ae()}function Qf(a){return!!a&&"function"==typeof a.then}function vx(a){return!!a&&"function"==typeof a.subscribe}const bx=vx;function nb(a,c,l,u){const m=Ae(),_=Ei(),y=br();return function wx(a,c,l,u,m,_,y){const C=ao(u),M=a.firstCreatePass&&Zw(a),S=c[nn],O=Ww(c);let q=!0;if(3&u.type||y){const qe=gn(u,c),lt=y?y(qe):qe,Mt=O.length,Gt=y?ii=>y(ji(ii[u.index])):u.index;let Be=null;if(!y&&C&&(Be=function UM(a,c,l,u){const m=a.cleanup;if(null!=m)for(let _=0;_<m.length-1;_+=2){const y=m[_];if(y===l&&m[_+1]===u){const C=c[vs],D=m[_+2];return C.length>D?C[D]:null}"string"==typeof y&&(_+=2)}return null}(a,c,m,u.index)),null!==Be)(Be.__ngLastListenerFn__||Be).__ngNextListenerFn__=_,Be.__ngLastListenerFn__=_,q=!1;else{_=Xf(u,c,S,_,!1);const ii=l.listen(lt,m,_);O.push(_,ii),M&&M.push(m,Gt,Mt,Mt+1)}}else _=Xf(u,c,S,_,!1);const ie=u.outputs;let Ee;if(q&&null!==ie&&(Ee=ie[m])){const qe=Ee.length;if(qe)for(let lt=0;lt<qe;lt+=2){const hn=c[Ee[lt]][Ee[lt+1]].subscribe(_),Kn=O.length;O.push(_,hn),M&&M.push(m,u.index,Kn,-(Kn+1))}}}(_,m,m[ai],y,a,c,u),nb}function Gc(a,c,l,u){try{return Zi(6,c,l),!1!==l(u)}catch(m){return Qw(a,m),!1}finally{Zi(7,c,l)}}function Xf(a,c,l,u,m){return function _(y){if(y===Function)return u;Hf(a.componentOffset>-1?or(a.index,c):c);let D=Gc(c,l,u,y),M=_.__ngNextListenerFn__;for(;M;)D=Gc(c,l,M,y)&&D,M=M.__ngNextListenerFn__;return m&&!1===D&&(y.preventDefault(),y.returnValue=!1),D}}function Jf(a=1){return function X0(a){return(Kt.lFrame.contextLView=function j_(a,c){for(;a>0;)c=c[$s],a--;return c}(a,Kt.lFrame.contextLView))[nn]}(a)}function eg(a,c){let l=null;const u=function Iw(a){const c=a.attrs;if(null!=c){const l=c.indexOf(5);if(!(1&l))return c[l+1]}return null}(a);for(let m=0;m<c.length;m++){const _=c[m];if("*"!==_){if(null===u?nm(a,_,!0):iM(u,_))return m}else l=m}return l}function xx(a){const c=Ae()[Bn][Ln];if(!c.projection){const u=c.projection=Ud(a?a.length:1,null),m=u.slice();let _=c.child;for(;null!==_;){const y=a?eg(_,a):0;null!==y&&(m[y]?m[y].projectionNext=_:u[y]=_,m[y]=_),_=_.next}}}function Cx(a,c=0,l){const u=Ae(),m=Ei(),_=Za(m,_i+a,16,null,l||null);null===_.projection&&(_.projection=c),Cd(),32!=(32&_.flags)&&function mf(a,c,l){Rc(c[ai],0,c,l,mv(a,l,c),Vh(l.parent||c[Ln],l,c))}(m,u,_)}function ng(a,c){return a<<17|c<<2}function Xl(a){return a>>17&32767}function ab(a){return 2|a}function Jl(a){return(131068&a)>>2}function rg(a,c){return-131069&a|c<<2}function og(a){return 1|a}function Ix(a,c,l,u,m){const _=a[l+1],y=null===c;let C=u?Xl(_):Jl(_),D=!1;for(;0!==C&&(!1===D||y);){const S=a[C+1];GM(a[C],c)&&(D=!0,a[C+1]=u?og(S):ab(S)),C=u?Xl(S):Jl(S)}D&&(a[l+1]=u?ab(_):og(_))}function GM(a,c){return null===a||null==c||(Array.isArray(a)?a[1]:a)===c||!(!Array.isArray(a)||"string"!=typeof c)&&it(a,c)>=0}function ed(a,c,l){return Bs(a,c,l,!1),ed}function ym(a,c){return Bs(a,c,null,!0),ym}function Bs(a,c,l,u){const m=Ae(),_=Ei(),y=Jo(2);_.firstUpdatePass&&function mb(a,c,l,u){const m=a.data;if(null===m[l+1]){const _=m[yr()],y=function Ax(a,c){return c>=a.expandoStartIndex}(a,l);(function Bx(a,c){return 0!=(a.flags&(c?8:16))})(_,u)&&null===c&&!y&&(c=!1),c=function Rx(a,c,l,u){const m=function kd(a){const c=Kt.lFrame.currentDirectiveIndex;return-1===c?null:a[c]}(a);let _=u?c.residualClasses:c.residualStyles;if(null===m)0===(u?c.classBindings:c.styleBindings)&&(l=wm(l=pb(null,a,c,l,u),c.attrs,u),_=null);else{const y=c.directiveStylingLast;if(-1===y||a[y]!==m)if(l=pb(m,a,c,l,u),null===_){let D=function Ox(a,c,l){const u=l?c.classBindings:c.styleBindings;if(0!==Jl(u))return a[Xl(u)]}(a,c,u);void 0!==D&&Array.isArray(D)&&(D=pb(null,a,c,D[1],u),D=wm(D,c.attrs,u),function cs(a,c,l,u){a[Xl(l?c.classBindings:c.styleBindings)]=u}(a,c,u,D))}else _=function vu(a,c,l){let u;const m=c.directiveEnd;for(let _=1+c.directiveStylingLast;_<m;_++)u=wm(u,a[_].hostAttrs,l);return wm(u,c.attrs,l)}(a,c,u)}return void 0!==_&&(u?c.residualClasses=_:c.residualStyles=_),l}(m,_,c,u),function zM(a,c,l,u,m,_){let y=_?c.classBindings:c.styleBindings,C=Xl(y),D=Jl(y);a[u]=l;let S,M=!1;if(Array.isArray(l)?(S=l[1],(null===S||it(l,S)>0)&&(M=!0)):S=l,m)if(0!==D){const q=Xl(a[C+1]);a[u+1]=ng(q,C),0!==q&&(a[q+1]=rg(a[q+1],u)),a[C+1]=function GO(a,c){return 131071&a|c<<17}(a[C+1],u)}else a[u+1]=ng(C,0),0!==C&&(a[C+1]=rg(a[C+1],u)),C=u;else a[u+1]=ng(D,0),0===C?C=u:a[D+1]=rg(a[D+1],u),D=u;M&&(a[u+1]=ab(a[u+1])),Ix(a,S,u,!0),Ix(a,S,u,!1),function jM(a,c,l,u,m){const _=m?a.residualClasses:a.residualStyles;null!=_&&"string"==typeof c&&it(_,c)>=0&&(l[u+1]=og(l[u+1]))}(c,S,a,u,_),y=ng(C,D),_?c.classBindings=y:c.styleBindings=y}(m,_,c,l,y,u)}}(_,a,y,u),c!==ci&&Wn(m,y,c)&&function xm(a,c,l,u,m,_,y,C){if(!(3&c.type))return;const D=a.data,M=D[C+1],S=function cb(a){return 1==(1&a)}(M)?Lx(D,c,l,m,Jl(M),y):void 0;ag(S)||(ag(_)||function sb(a){return 2==(2&a)}(M)&&(_=Lx(D,null,l,m,C,y)),function Ga(a,c,l,u,m){if(c)m?a.addClass(l,u):a.removeClass(l,u);else{let _=-1===u.indexOf("-")?void 0:ar.DashCase;null==m?a.removeStyle(l,u,_):("string"==typeof m&&m.endsWith("!important")&&(m=m.slice(0,-10),_|=ar.Important),a.setStyle(l,u,m,_))}}(u,y,In(yr(),l),m,_))}(_,_.data[yr()],m,m[ai],a,m[y+1]=function fb(a,c){return null==a||""===a||("string"==typeof c?a+=c:"object"==typeof a&&(a=ve(dr(a)))),a}(c,l),u,y)}function pb(a,c,l,u,m){let _=null;const y=l.directiveEnd;let C=l.directiveStylingLast;for(-1===C?C=l.directiveStart:C++;C<y&&(_=c[C],u=wm(u,_.hostAttrs,m),_!==a);)C++;return null!==a&&(l.directiveStylingLast=C),u}function wm(a,c,l){const u=l?1:2;let m=-1;if(null!==c)for(let _=0;_<c.length;_++){const y=c[_];"number"==typeof y?m=y:m===u&&(Array.isArray(a)||(a=void 0===a?[]:["",a]),mi(a,y,!!l||c[++_]))}return void 0===a?null:a}function Lx(a,c,l,u,m,_){const y=null===c;let C;for(;m>0;){const D=a[m],M=Array.isArray(D),S=M?D[1]:D,O=null===S;let q=l[m+1];q===ci&&(q=O?rt:void 0);let ie=O?lo(q,u):S===u?q:void 0;if(M&&!ag(ie)&&(ie=lo(D,u)),ag(ie)&&(C=ie,y))return C;const Ee=a[m+1];m=y?Xl(Ee):Jl(Ee)}if(null!==c){let D=_?c.residualClasses:c.residualStyles;null!=D&&(C=lo(D,u))}return C}function ag(a){return void 0!==a}function gb(a,c=""){const l=Ae(),u=Ei(),m=a+_i,_=u.firstCreatePass?Za(u,m,1,c,null):u.data[m],y=l[m]=function Wd(a,c){return a.createText(c)}(l[ai],c);Xd(u,l,y,_),Ao(_,!1)}function _b(a){return cg("",a,""),_b}function cg(a,c,l){const u=Ae(),m=function Kl(a,c,l,u){return Wn(a,dl(),l)?c+Te(l)+u:ci}(u,a,c,l);return m!==ci&&Ka(u,yr(),m),cg}function vb(a,c,l,u,m){const _=Ae(),y=Xr(_,a,c,l,u,m);return y!==ci&&Ka(_,yr(),y),vb}function Db(a,c,l){const u=Ae();return Wn(u,dl(),c)&&ss(Ei(),_n(),u,a,c,u[ai],l,!0),Db}const Vs=void 0;var Kx=["en",[["a","p"],["AM","PM"],Vs],[["AM","PM"],Vs,Vs],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Vs,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Vs,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Vs,"{1} 'at' {0}",Vs],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function sI(a){const l=Math.floor(Math.abs(a)),u=a.toString().replace(/^[^.]*\.?/,"").length;return 1===l&&0===u?1:5}];let bu={};function Qx(a){const c=function KO(a){return a.toLowerCase().replace(/_/g,"-")}(a);let l=Em(c);if(l)return l;const u=c.split("-")[0];if(l=Em(u),l)return l;if("en"===u)return Kx;throw new me(701,!1)}function lg(a){return Qx(a)[$t.PluralCase]}function Em(a){return a in bu||(bu[a]=xt.ng&&xt.ng.common&&xt.ng.common.locales&&xt.ng.common.locales[a]),bu[a]}var $t=(()=>(($t=$t||{})[$t.LocaleId=0]="LocaleId",$t[$t.DayPeriodsFormat=1]="DayPeriodsFormat",$t[$t.DayPeriodsStandalone=2]="DayPeriodsStandalone",$t[$t.DaysFormat=3]="DaysFormat",$t[$t.DaysStandalone=4]="DaysStandalone",$t[$t.MonthsFormat=5]="MonthsFormat",$t[$t.MonthsStandalone=6]="MonthsStandalone",$t[$t.Eras=7]="Eras",$t[$t.FirstDayOfWeek=8]="FirstDayOfWeek",$t[$t.WeekendRange=9]="WeekendRange",$t[$t.DateFormat=10]="DateFormat",$t[$t.TimeFormat=11]="TimeFormat",$t[$t.DateTimeFormat=12]="DateTimeFormat",$t[$t.NumberSymbols=13]="NumberSymbols",$t[$t.NumberFormats=14]="NumberFormats",$t[$t.CurrencyCode=15]="CurrencyCode",$t[$t.CurrencySymbol=16]="CurrencySymbol",$t[$t.CurrencyName=17]="CurrencyName",$t[$t.Currencies=18]="Currencies",$t[$t.Directionality=19]="Directionality",$t[$t.PluralCase=20]="PluralCase",$t[$t.ExtraData=21]="ExtraData",$t))();const Xa="en-US";let Xx=Xa;function pC(a,c,l,u,m){if(a=Z(a),Array.isArray(a))for(let _=0;_<a.length;_++)pC(a[_],c,l,u,m);else{const _=Ei(),y=Ae();let C=oa(a)?a:Z(a.provide),D=gw(a);const M=br(),S=1048575&M.providerIndexes,O=M.directiveStart,q=M.providerIndexes>>20;if(oa(a)||!a.multi){const ie=new Id(D,m,uu),Ee=gC(C,c,m?S:S+q,O);-1===Ee?(vc(Es(M,y),_,C),fC(_,a,c.length),c.push(C),M.directiveStart++,M.directiveEnd++,m&&(M.providerIndexes+=1048576),l.push(ie),y.push(ie)):(l[Ee]=ie,y[Ee]=ie)}else{const ie=gC(C,c,S+q,O),Ee=gC(C,c,S,S+q),lt=Ee>=0&&l[Ee];if(m&&!lt||!m&&!(ie>=0&&l[ie])){vc(Es(M,y),_,C);const Mt=function mP(a,c,l,u,m){const _=new Id(a,l,uu);return _.multi=[],_.index=c,_.componentProviders=0,AI(_,m,u&&!l),_}(m?hP:RI,l.length,m,u,D);!m&&lt&&(l[Ee].providerFactory=Mt),fC(_,a,c.length,0),c.push(C),M.directiveStart++,M.directiveEnd++,m&&(M.providerIndexes+=1048576),l.push(Mt),y.push(Mt)}else fC(_,a,ie>-1?ie:Ee,AI(l[m?Ee:ie],D,!m&&u));!m&&u&&lt&&l[Ee].componentProviders++}}}function fC(a,c,l,u){const m=oa(c),_=function cu(a){return!!a.useClass}(c);if(m||_){const D=(_?Z(c.useClass):c).prototype.ngOnDestroy;if(D){const M=a.destroyHooks||(a.destroyHooks=[]);if(!m&&c.multi){const S=M.indexOf(l);-1===S?M.push(l,[u,D]):M[S+1].push(u,D)}else M.push(l,D)}}}function AI(a,c,l){return l&&a.componentProviders++,a.multi.push(c)-1}function gC(a,c,l,u){for(let m=l;m<u;m++)if(c[m]===a)return m;return-1}function RI(a,c,l,u){return _C(this.multi,[])}function hP(a,c,l,u){const m=this.multi;let _;if(this.providerFactory){const y=this.providerFactory.componentProviders,C=Aa(l,l[ft],this.providerFactory.index,u);_=C.slice(0,y),_C(m,_);for(let D=y;D<C.length;D++)_.push(C[D])}else _=[],_C(m,_);return _}function _C(a,c){for(let l=0;l<a.length;l++)c.push((0,a[l])());return c}function OI(a,c=[]){return l=>{l.providersResolver=(u,m)=>function uP(a,c,l){const u=Ei();if(u.firstCreatePass){const m=ln(a);pC(l,u.data,u.blueprint,m,!0),pC(c,u.data,u.blueprint,m,!1)}}(u,m?m(a):a,c)}}class id{}class PI{}function pP(a,c){return new FI(a,c??null)}class FI extends id{constructor(c,l){super(),this._parent=l,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Xw(this);const u=Ci(c);this._bootstrapComponents=sa(u.bootstrap),this._r3Injector=cM(c,l,[{provide:id,useValue:this},{provide:Hc,useValue:this.componentFactoryResolver}],ve(c),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(c)}get injector(){return this._r3Injector}destroy(){const c=this._r3Injector;!c.destroyed&&c.destroy(),this.destroyCbs.forEach(l=>l()),this.destroyCbs=null}onDestroy(c){this.destroyCbs.push(c)}}class vC extends PI{constructor(c){super(),this.moduleType=c}create(c){return new FI(this.moduleType,c)}}class fP extends id{constructor(c,l,u){super(),this.componentFactoryResolver=new Xw(this),this.instance=null;const m=new pw([...c,{provide:id,useValue:this},{provide:Hc,useValue:this.componentFactoryResolver}],l||If(),u,new Set(["environment"]));this.injector=m,m.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(c){this.injector.onDestroy(c)}}function bC(a,c,l=null){return new fP(a,c,l).injector}let gP=(()=>{class a{constructor(l){this._injector=l,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(l){if(!l.standalone)return null;if(!this.cachedInjectors.has(l.id)){const u=dw(0,l.type),m=u.length>0?bC([u],this._injector,`Standalone[${l.type.name}]`):null;this.cachedInjectors.set(l.id,m)}return this.cachedInjectors.get(l.id)}ngOnDestroy(){try{for(const l of this.cachedInjectors.values())null!==l&&l.destroy()}finally{this.cachedInjectors.clear()}}}return a.\u0275prov=Dt({token:a,providedIn:"environment",factory:()=>new a($e(Ul))}),a})();function NI(a){a.getStandaloneInjector=c=>c.get(gP).getOrCreateStandaloneInjector(a)}function $I(a,c,l){const u=Vn()+a,m=Ae();return m[u]===ci?Uo(m,u,l?c.call(l):c()):function mm(a,c){return a[c]}(m,u)}function YI(a,c,l,u){return WI(Ae(),Vn(),a,c,l,u)}function qI(a,c,l,u,m){return function ZI(a,c,l,u,m,_,y){const C=c+l;return zc(a,C,m,_)?Uo(a,C+2,y?u.call(y,m,_):u(m,_)):yg(a,C+2)}(Ae(),Vn(),a,c,l,u,m)}function yg(a,c){const l=a[c];return l===ci?void 0:l}function WI(a,c,l,u,m,_){const y=c+l;return Wn(a,y,m)?Uo(a,y+1,_?u.call(_,m):u(m)):yg(a,y+1)}function JI(a,c){const l=Ei();let u;const m=a+_i;l.firstCreatePass?(u=function TP(a,c){if(c)for(let l=c.length-1;l>=0;l--){const u=c[l];if(a===u.name)return u}}(c,l.pipeRegistry),l.data[m]=u,u.onDestroy&&(l.destroyHooks??(l.destroyHooks=[])).push(m,u.onDestroy)):u=l.data[m];const _=u.factory||(u.factory=P(u.type)),y=qi(uu);try{const C=Od(!1),D=_();return Od(C),function BM(a,c,l,u){l>=a.data.length&&(a.data[l]=null,a.blueprint[l]=null),c[l]=u}(l,Ae(),m,D),D}finally{qi(y)}}function eS(a,c,l){const u=a+_i,m=Ae(),_=qs(m,u);return function wg(a,c){return a[ft].data[c].pure}(m,u)?WI(m,Vn(),c,_.transform,l,_):_.transform(l)}function wC(a){return c=>{setTimeout(a,void 0,c)}}const tc=class FP extends s.x{constructor(c=!1){super(),this.__isAsync=c}emit(c){super.next(c)}subscribe(c,l,u){let m=c,_=l||(()=>null),y=u;if(c&&"object"==typeof c){const D=c;m=D.next?.bind(D),_=D.error?.bind(D),y=D.complete?.bind(D)}this.__isAsync&&(_=wC(_),m&&(m=wC(m)),y&&(y=wC(y)));const C=super.subscribe({next:m,error:_,complete:y});return c instanceof J.w0&&c.add(C),C}};function NP(){return this._results[Symbol.iterator]()}class Ob{get changes(){return this._changes||(this._changes=new tc)}constructor(c=!1){this._emitDistinctChangesOnly=c,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const l=Ob.prototype;l[Symbol.iterator]||(l[Symbol.iterator]=NP)}get(c){return this._results[c]}map(c){return this._results.map(c)}filter(c){return this._results.filter(c)}find(c){return this._results.find(c)}reduce(c,l){return this._results.reduce(c,l)}forEach(c){this._results.forEach(c)}some(c){return this._results.some(c)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(c,l){const u=this;u.dirty=!1;const m=function Po(a){return a.flat(Number.POSITIVE_INFINITY)}(c);(this._changesDetected=!function Qp(a,c,l){if(a.length!==c.length)return!1;for(let u=0;u<a.length;u++){let m=a[u],_=c[u];if(l&&(m=l(m),_=l(_)),_!==m)return!1}return!0}(u._results,m,l))&&(u._results=m,u.length=m.length,u.last=m[this.length-1],u.first=m[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let xg=(()=>{class a{}return a.__NG_ELEMENT_ID__=VP,a})();const LP=xg,BP=class extends LP{constructor(c,l,u){super(),this._declarationLView=c,this._declarationTContainer=l,this.elementRef=u}createEmbeddedView(c,l){const u=this._declarationTContainer.tView,m=Nv(this._declarationLView,u,c,16,null,u.declTNode,null,null,null,null,l||null);m[xa]=this._declarationLView[this._declarationTContainer.index];const y=this._declarationLView[Ir];return null!==y&&(m[Ir]=y.createEmbeddedView(u)),Lv(u,m,c),new um(m)}};function VP(){return Pb(br(),Ae())}function Pb(a,c){return 4&a.type?new BP(c,a,zl(a,c)):null}let Fb=(()=>{class a{}return a.__NG_ELEMENT_ID__=HP,a})();function HP(){return nS(br(),Ae())}const UP=Fb,tS=class extends UP{constructor(c,l,u){super(),this._lContainer=c,this._hostTNode=l,this._hostLView=u}get element(){return zl(this._hostTNode,this._hostLView)}get injector(){return new Ks(this._hostTNode,this._hostLView)}get parentInjector(){const c=fl(this._hostTNode,this._hostLView);if(yh(c)){const l=Ad(c,this._hostLView),u=Ta(c);return new Ks(l[ft].data[u+8],l)}return new Ks(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(c){const l=iS(this._lContainer);return null!==l&&l[c]||null}get length(){return this._lContainer.length-nr}createEmbeddedView(c,l,u){let m,_;"number"==typeof u?m=u:null!=u&&(m=u.index,_=u.injector);const y=c.createEmbeddedView(l||{},_);return this.insert(y,m),y}createComponent(c,l,u,m,_){const y=c&&!function vl(a){return"function"==typeof a}(c);let C;if(y)C=l;else{const O=l||{};C=O.index,u=O.injector,m=O.projectableNodes,_=O.environmentInjector||O.ngModuleRef}const D=y?c:new ql(Ge(c)),M=u||this.parentInjector;if(!_&&null==D.ngModule){const q=(y?M:this.parentInjector).get(Ul,null);q&&(_=q)}const S=D.create(M,m,void 0,_);return this.insert(S.hostView,C),S}insert(c,l){const u=c._lView,m=u[ft];if(function Pp(a){return rr(a[Zt])}(u)){const S=this.indexOf(c);if(-1!==S)this.detach(S);else{const O=u[Zt],q=new tS(O,O[Ln],O[Zt]);q.detach(q.indexOf(c))}}const _=this._adjustIndex(l),y=this._lContainer;!function hv(a,c,l,u){const m=nr+u,_=l.length;u>0&&(l[m-1][Nr]=c),u<_-nr?(c[Nr]=l[m],ev(l,nr+u,c)):(l.push(c),c[Nr]=null),c[Zt]=l;const y=c[xa];null!==y&&l!==y&&function Nh(a,c){const l=a[Qo];c[Bn]!==c[Zt][Zt][Bn]&&(a[cc]=!0),null===l?a[Qo]=[c]:l.push(c)}(y,c);const C=c[Ir];null!==C&&C.insertView(a),c[jt]|=64}(m,u,y,_);const C=Uh(_,y),D=u[ai],M=Tc(D,y[Da]);return null!==M&&function Fh(a,c,l,u,m,_){u[Mr]=m,u[Ln]=c,Ac(a,u,l,1,m,_)}(m,y[Ln],D,u,M,C),c.attachToViewContainerRef(),ev(xC(y),_,c),c}move(c,l){return this.insert(c,l)}indexOf(c){const l=iS(this._lContainer);return null!==l?l.indexOf(c):-1}remove(c){const l=this._adjustIndex(c,-1),u=Ua(this._lContainer,l);u&&(bl(xC(this._lContainer),l),Rl(u[ft],u))}detach(c){const l=this._adjustIndex(c,-1),u=Ua(this._lContainer,l);return u&&null!=bl(xC(this._lContainer),l)?new um(u):null}_adjustIndex(c,l=0){return c??this.length+l}};function iS(a){return a[ys]}function xC(a){return a[ys]||(a[ys]=[])}function nS(a,c){let l;const u=c[a.index];if(rr(u))l=u;else{let m;if(8&a.type)m=ji(u);else{const _=c[ai];m=_.createComment("");const y=gn(a,c);ia(_,Tc(_,y),m,function Kd(a,c){return a.nextSibling(c)}(_,y),!1)}c[a.index]=l=qw(u,c,m,a),Vf(c,l)}return new tS(l,a,c)}class CC{constructor(c){this.queryList=c,this.matches=null}clone(){return new CC(this.queryList)}setDirty(){this.queryList.setDirty()}}class DC{constructor(c=[]){this.queries=c}createEmbeddedView(c){const l=c.queries;if(null!==l){const u=null!==c.contentQueries?c.contentQueries[0]:l.length,m=[];for(let _=0;_<u;_++){const y=l.getByIndex(_);m.push(this.queries[y.indexInDeclarationView].clone())}return new DC(m)}return null}insertView(c){this.dirtyQueriesWithMatches(c)}detachView(c){this.dirtyQueriesWithMatches(c)}dirtyQueriesWithMatches(c){for(let l=0;l<this.queries.length;l++)null!==Bb(c,l).matches&&this.queries[l].setDirty()}}class rS{constructor(c,l,u=null){this.predicate=c,this.flags=l,this.read=u}}class EC{constructor(c=[]){this.queries=c}elementStart(c,l){for(let u=0;u<this.queries.length;u++)this.queries[u].elementStart(c,l)}elementEnd(c){for(let l=0;l<this.queries.length;l++)this.queries[l].elementEnd(c)}embeddedTView(c){let l=null;for(let u=0;u<this.length;u++){const m=null!==l?l.length:0,_=this.getByIndex(u).embeddedTView(c,m);_&&(_.indexInDeclarationView=u,null!==l?l.push(_):l=[_])}return null!==l?new EC(l):null}template(c,l){for(let u=0;u<this.queries.length;u++)this.queries[u].template(c,l)}getByIndex(c){return this.queries[c]}get length(){return this.queries.length}track(c){this.queries.push(c)}}class kC{constructor(c,l=-1){this.metadata=c,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=l}elementStart(c,l){this.isApplyingToNode(l)&&this.matchTNode(c,l)}elementEnd(c){this._declarationNodeIndex===c.index&&(this._appliesToNextNode=!1)}template(c,l){this.elementStart(c,l)}embeddedTView(c,l){return this.isApplyingToNode(c)?(this.crossesNgTemplate=!0,this.addMatch(-c.index,l),new kC(this.metadata)):null}isApplyingToNode(c){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const l=this._declarationNodeIndex;let u=c.parent;for(;null!==u&&8&u.type&&u.index!==l;)u=u.parent;return l===(null!==u?u.index:-1)}return this._appliesToNextNode}matchTNode(c,l){const u=this.metadata.predicate;if(Array.isArray(u))for(let m=0;m<u.length;m++){const _=u[m];this.matchTNodeWithReadOption(c,l,zP(l,_)),this.matchTNodeWithReadOption(c,l,bc(l,c,_,!1,!1))}else u===xg?4&l.type&&this.matchTNodeWithReadOption(c,l,-1):this.matchTNodeWithReadOption(c,l,bc(l,c,u,!1,!1))}matchTNodeWithReadOption(c,l,u){if(null!==u){const m=this.metadata.read;if(null!==m)if(m===qa||m===Fb||m===xg&&4&l.type)this.addMatch(l.index,-2);else{const _=bc(l,c,m,!1,!1);null!==_&&this.addMatch(l.index,_)}else this.addMatch(l.index,u)}}addMatch(c,l){null===this.matches?this.matches=[c,l]:this.matches.push(c,l)}}function zP(a,c){const l=a.localNames;if(null!==l)for(let u=0;u<l.length;u+=2)if(l[u]===c)return l[u+1];return null}function GP(a,c,l,u){return-1===l?function jP(a,c){return 11&a.type?zl(a,c):4&a.type?Pb(a,c):null}(c,a):-2===l?function $P(a,c,l){return l===qa?zl(c,a):l===xg?Pb(c,a):l===Fb?nS(c,a):void 0}(a,c,u):Aa(a,a[ft],l,c)}function oS(a,c,l,u){const m=c[Ir].queries[u];if(null===m.matches){const _=a.data,y=l.matches,C=[];for(let D=0;D<y.length;D+=2){const M=y[D];C.push(M<0?null:GP(c,_[M],y[D+1],l.metadata.read))}m.matches=C}return m.matches}function MC(a,c,l,u){const m=a.queries.getByIndex(l),_=m.matches;if(null!==_){const y=oS(a,c,m,l);for(let C=0;C<_.length;C+=2){const D=_[C];if(D>0)u.push(y[C/2]);else{const M=_[C+1],S=c[-D];for(let O=nr;O<S.length;O++){const q=S[O];q[xa]===q[Zt]&&MC(q[ft],q,M,u)}if(null!==S[Qo]){const O=S[Qo];for(let q=0;q<O.length;q++){const ie=O[q];MC(ie[ft],ie,M,u)}}}}}return u}function IC(a){const c=Ae(),l=Ei(),u=H_();Md(u+1);const m=Bb(l,u);if(a.dirty&&function rh(a){return 4==(4&a[jt])}(c)===(2==(2&m.metadata.flags))){if(null===m.matches)a.reset([]);else{const _=m.crossesNgTemplate?MC(l,c,u,[]):oS(l,c,m,u);a.reset(_,yw),a.notifyOnChanges()}return!0}return!1}function ds(a,c,l){const u=Ei();u.firstCreatePass&&(Lb(u,new rS(a,c,l),-1),2==(2&c)&&(u.staticViewQueries=!0)),TC(u,Ae(),c)}function Cg(a,c,l,u){const m=Ei();if(m.firstCreatePass){const _=br();Lb(m,new rS(c,l,u),_.index),function sS(a,c){const l=a.contentQueries||(a.contentQueries=[]);c!==(l.length?l[l.length-1]:-1)&&l.push(a.queries.length-1,c)}(m,a),2==(2&l)&&(m.staticContentQueries=!0)}TC(m,Ae(),l)}function Nb(){return function SC(a,c){return a[Ir].queries[c].queryList}(Ae(),H_())}function TC(a,c,l){const u=new Ob(4==(4&l));_t(a,c,u,u.destroy),null===c[Ir]&&(c[Ir]=new DC),c[Ir].queries.push(new CC(u))}function Lb(a,c,l){null===a.queries&&(a.queries=new EC),a.queries.track(new kC(c,l))}function Bb(a,c){return a.queries.getByIndex(c)}function Am(a,c){return Pb(a,c)}function Dg(a){return!!Ci(a)}function us(...a){}const Yb=new Li("Application Initializer");let Pm=(()=>{class a{constructor(l){this.appInits=l,this.resolve=us,this.reject=us,this.initialized=!1,this.done=!1,this.donePromise=new Promise((u,m)=>{this.resolve=u,this.reject=m})}runInitializers(){if(this.initialized)return;const l=[],u=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let m=0;m<this.appInits.length;m++){const _=this.appInits[m]();if(Qf(_))l.push(_);else if(bx(_)){const y=new Promise((C,D)=>{_.subscribe({complete:C,error:D})});l.push(y)}}Promise.all(l).then(()=>{u()}).catch(m=>{this.reject(m)}),0===l.length&&u(),this.initialized=!0}}return a.\u0275fac=function(l){return new(l||a)($e(Yb,8))},a.\u0275prov=Dt({token:a,factory:a.\u0275fac,providedIn:"root"}),a})();const Sg=new Li("AppId",{providedIn:"root",factory:function qb(){return`${Wb()}${Wb()}${Wb()}`}});function Wb(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const Br=new Li("Platform Initializer"),Zb=new Li("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),zC=new Li("AnimationModuleType");let Ag=(()=>{class a{log(l){console.log(l)}warn(l){console.warn(l)}}return a.\u0275fac=function(l){return new(l||a)},a.\u0275prov=Dt({token:a,factory:a.\u0275fac,providedIn:"platform"}),a})();const Rg=new Li("LocaleId",{providedIn:"root",factory:()=>at(Rg,vt.Optional|vt.SkipSelf)||function jC(){return typeof $localize<"u"&&$localize.locale||Xa}()}),Kb=new Li("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class YC{constructor(c,l){this.ngModuleFactory=c,this.componentFactories=l}}let qC=(()=>{class a{compileModuleSync(l){return new vC(l)}compileModuleAsync(l){return Promise.resolve(this.compileModuleSync(l))}compileModuleAndAllComponentsSync(l){const u=this.compileModuleSync(l),_=sa(Ci(l).declarations).reduce((y,C)=>{const D=Ge(C);return D&&y.push(new ql(D)),y},[]);return new YC(u,_)}compileModuleAndAllComponentsAsync(l){return Promise.resolve(this.compileModuleAndAllComponentsSync(l))}clearCache(){}clearCacheFor(l){}getModuleId(l){}}return a.\u0275fac=function(l){return new(l||a)},a.\u0275prov=Dt({token:a,factory:a.\u0275fac,providedIn:"root"}),a})();const xS=(()=>Promise.resolve(0))();function Nm(a){typeof Zone>"u"?xS.then(()=>{a&&a.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",a)}class Go{constructor({enableLongStackTrace:c=!1,shouldCoalesceEventChangeDetection:l=!1,shouldCoalesceRunChangeDetection:u=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new tc(!1),this.onMicrotaskEmpty=new tc(!1),this.onStable=new tc(!1),this.onError=new tc(!1),typeof Zone>"u")throw new me(908,!1);Zone.assertZonePatched();const m=this;m._nesting=0,m._outer=m._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(m._inner=m._inner.fork(new Zone.TaskTrackingZoneSpec)),c&&Zone.longStackTraceZoneSpec&&(m._inner=m._inner.fork(Zone.longStackTraceZoneSpec)),m.shouldCoalesceEventChangeDetection=!u&&l,m.shouldCoalesceRunChangeDetection=u,m.lastRequestAnimationFrameId=-1,m.nativeRequestAnimationFrame=function CS(){let a=xt.requestAnimationFrame,c=xt.cancelAnimationFrame;if(typeof Zone<"u"&&a&&c){const l=a[Zone.__symbol__("OriginalDelegate")];l&&(a=l);const u=c[Zone.__symbol__("OriginalDelegate")];u&&(c=u)}return{nativeRequestAnimationFrame:a,nativeCancelAnimationFrame:c}}().nativeRequestAnimationFrame,function DS(a){const c=()=>{!function ZC(a){a.isCheckStableRunning||-1!==a.lastRequestAnimationFrameId||(a.lastRequestAnimationFrameId=a.nativeRequestAnimationFrame.call(xt,()=>{a.fakeTopEventTask||(a.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{a.lastRequestAnimationFrameId=-1,ey(a),a.isCheckStableRunning=!0,Pg(a),a.isCheckStableRunning=!1},void 0,()=>{},()=>{})),a.fakeTopEventTask.invoke()}),ey(a))}(a)};a._inner=a._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(l,u,m,_,y,C)=>{try{return ES(a),l.invokeTask(m,_,y,C)}finally{(a.shouldCoalesceEventChangeDetection&&"eventTask"===_.type||a.shouldCoalesceRunChangeDetection)&&c(),Eu(a)}},onInvoke:(l,u,m,_,y,C,D)=>{try{return ES(a),l.invoke(m,_,y,C,D)}finally{a.shouldCoalesceRunChangeDetection&&c(),Eu(a)}},onHasTask:(l,u,m,_)=>{l.hasTask(m,_),u===m&&("microTask"==_.change?(a._hasPendingMicrotasks=_.microTask,ey(a),Pg(a)):"macroTask"==_.change&&(a.hasPendingMacrotasks=_.macroTask))},onHandleError:(l,u,m,_)=>(l.handleError(m,_),a.runOutsideAngular(()=>a.onError.emit(_)),!1)})}(m)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Go.isInAngularZone())throw new me(909,!1)}static assertNotInAngularZone(){if(Go.isInAngularZone())throw new me(909,!1)}run(c,l,u){return this._inner.run(c,l,u)}runTask(c,l,u,m){const _=this._inner,y=_.scheduleEventTask("NgZoneEvent: "+m,c,Lm,us,us);try{return _.runTask(y,l,u)}finally{_.cancelTask(y)}}runGuarded(c,l,u){return this._inner.runGuarded(c,l,u)}runOutsideAngular(c){return this._outer.run(c)}}const Lm={};function Pg(a){if(0==a._nesting&&!a.hasPendingMicrotasks&&!a.isStable)try{a._nesting++,a.onMicrotaskEmpty.emit(null)}finally{if(a._nesting--,!a.hasPendingMicrotasks)try{a.runOutsideAngular(()=>a.onStable.emit(null))}finally{a.isStable=!0}}}function ey(a){a.hasPendingMicrotasks=!!(a._hasPendingMicrotasks||(a.shouldCoalesceEventChangeDetection||a.shouldCoalesceRunChangeDetection)&&-1!==a.lastRequestAnimationFrameId)}function ES(a){a._nesting++,a.isStable&&(a.isStable=!1,a.onUnstable.emit(null))}function Eu(a){a._nesting--,Pg(a)}class kS{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new tc,this.onMicrotaskEmpty=new tc,this.onStable=new tc,this.onError=new tc}run(c,l,u){return c.apply(l,u)}runGuarded(c,l,u){return c.apply(l,u)}runOutsideAngular(c){return c()}runTask(c,l,u,m){return c.apply(l,u)}}const ty=new Li(""),iy=new Li("");let ry,MS=(()=>{class a{constructor(l,u,m){this._ngZone=l,this.registry=u,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,ry||(function KC(a){ry=a}(m),m.addToWindow(u)),this._watchAngularEvents(),l.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Go.assertNotInAngularZone(),Nm(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Nm(()=>{for(;0!==this._callbacks.length;){let l=this._callbacks.pop();clearTimeout(l.timeoutId),l.doneCb(this._didWork)}this._didWork=!1});else{let l=this.getPendingTasks();this._callbacks=this._callbacks.filter(u=>!u.updateCb||!u.updateCb(l)||(clearTimeout(u.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(l=>({source:l.source,creationLocation:l.creationLocation,data:l.data})):[]}addCallback(l,u,m){let _=-1;u&&u>0&&(_=setTimeout(()=>{this._callbacks=this._callbacks.filter(y=>y.timeoutId!==_),l(this._didWork,this.getPendingTasks())},u)),this._callbacks.push({doneCb:l,timeoutId:_,updateCb:m})}whenStable(l,u,m){if(m&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(l,u,m),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(l){this.registry.registerApplication(l,this)}unregisterApplication(l){this.registry.unregisterApplication(l)}findProviders(l,u,m){return[]}}return a.\u0275fac=function(l){return new(l||a)($e(Go),$e(ny),$e(iy))},a.\u0275prov=Dt({token:a,factory:a.\u0275fac}),a})(),ny=(()=>{class a{constructor(){this._applications=new Map}registerApplication(l,u){this._applications.set(l,u)}unregisterApplication(l){this._applications.delete(l)}unregisterAllApplications(){this._applications.clear()}getTestability(l){return this._applications.get(l)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(l,u=!0){return ry?.findTestabilityInTree(this,l,u)??null}}return a.\u0275fac=function(l){return new(l||a)},a.\u0275prov=Dt({token:a,factory:a.\u0275fac,providedIn:"platform"}),a})();const hs=!1;let qc=null;const QC=new Li("AllowMultipleToken"),Bm=new Li("PlatformDestroyListeners"),Fg=new Li("appBootstrapListener");class sF{constructor(c,l){this.name=c,this.token=l}}function tD(a,c,l=[]){const u=`Platform: ${c}`,m=new Li(u);return(_=[])=>{let y=ay();if(!y||y.injector.get(QC,!1)){const C=[...l,..._,{provide:m,useValue:!0}];a?a(C):function IS(a){if(qc&&!qc.get(QC,!1))throw new me(400,!1);qc=a;const c=a.get(rD);(function sy(a){const c=a.get(Br,null);c&&c.forEach(l=>l())})(a)}(function nD(a=[],c){return lu.create({name:c,providers:[{provide:wv,useValue:"platform"},{provide:Bm,useValue:new Set([()=>qc=null])},...a]})}(C,u))}return function iD(a){const c=ay();if(!c)throw new me(401,!1);return c}()}}function ay(){return qc?.get(rD)??null}let rD=(()=>{class a{constructor(l){this._injector=l,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(l,u){const m=function TS(a,c){let l;return l="noop"===a?new kS:("zone.js"===a?void 0:a)||new Go(c),l}(u?.ngZone,function cy(a){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!a||!a.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!a||!a.ngZoneRunCoalescing)||!1}}(u)),_=[{provide:Go,useValue:m}];return m.run(()=>{const y=lu.create({providers:_,parent:this.injector,name:l.moduleType.name}),C=l.create(y),D=C.injector.get(im,null);if(!D)throw new me(402,!1);return m.runOutsideAngular(()=>{const M=m.onError.subscribe({next:S=>{D.handleError(S)}});C.onDestroy(()=>{dy(this._modules,C),M.unsubscribe()})}),function ly(a,c,l){try{const u=l();return Qf(u)?u.catch(m=>{throw c.runOutsideAngular(()=>a.handleError(m)),m}):u}catch(u){throw c.runOutsideAngular(()=>a.handleError(u)),u}}(D,m,()=>{const M=C.injector.get(Pm);return M.runInitializers(),M.donePromise.then(()=>(function Jx(a){Ze(a,"Expected localeId to be defined"),"string"==typeof a&&(Xx=a.toLowerCase().replace(/_/g,"-"))}(C.injector.get(Rg,Xa)||Xa),this._moduleDoBootstrap(C),C))})})}bootstrapModule(l,u=[]){const m=AS({},u);return function oy(a,c,l){const u=new vC(l);return Promise.resolve(u)}(0,0,l).then(_=>this.bootstrapModuleFactory(_,m))}_moduleDoBootstrap(l){const u=l.injector.get(rd);if(l._bootstrapComponents.length>0)l._bootstrapComponents.forEach(m=>u.bootstrap(m));else{if(!l.instance.ngDoBootstrap)throw new me(-403,!1);l.instance.ngDoBootstrap(u)}this._modules.push(l)}onDestroy(l){this._destroyListeners.push(l)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new me(404,!1);this._modules.slice().forEach(u=>u.destroy()),this._destroyListeners.forEach(u=>u());const l=this._injector.get(Bm,null);l&&(l.forEach(u=>u()),l.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return a.\u0275fac=function(l){return new(l||a)($e(lu))},a.\u0275prov=Dt({token:a,factory:a.\u0275fac,providedIn:"platform"}),a})();function AS(a,c){return Array.isArray(c)?c.reduce(AS,a):{...a,...c}}let rd=(()=>{class a{get destroyed(){return this._destroyed}get injector(){return this._injector}constructor(l,u,m){this._zone=l,this._injector=u,this._exceptionHandler=m,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const _=new N.y(C=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{C.next(this._stable),C.complete()})}),y=new N.y(C=>{let D;this._zone.runOutsideAngular(()=>{D=this._zone.onStable.subscribe(()=>{Go.assertNotInAngularZone(),Nm(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,C.next(!0))})})});const M=this._zone.onUnstable.subscribe(()=>{Go.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{C.next(!1)}))});return()=>{D.unsubscribe(),M.unsubscribe()}});this.isStable=(0,oe.T)(_,y.pipe((0,re.B)()))}bootstrap(l,u){const m=l instanceof vw;if(!this._injector.get(Pm).done){!m&&Ht(l);throw new me(405,hs)}let y;y=m?l:this._injector.get(Hc).resolveComponentFactory(l),this.componentTypes.push(y.componentType);const C=function XC(a){return a.isBoundToModule}(y)?void 0:this._injector.get(id),M=y.create(lu.NULL,[],u||y.selector,C),S=M.location.nativeElement,O=M.injector.get(ty,null);return O?.registerApplication(S),M.onDestroy(()=>{this.detachView(M.hostView),dy(this.components,M),O?.unregisterApplication(S)}),this._loadComponent(M),M}tick(){if(this._runningTick)throw new me(101,!1);try{this._runningTick=!0;for(let l of this._views)l.detectChanges()}catch(l){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(l))}finally{this._runningTick=!1}}attachView(l){const u=l;this._views.push(u),u.attachToAppRef(this)}detachView(l){const u=l;dy(this._views,u),u.detachFromAppRef()}_loadComponent(l){this.attachView(l.hostView),this.tick(),this.components.push(l);const u=this._injector.get(Fg,[]);u.push(...this._bootstrapListeners),u.forEach(m=>m(l))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(l=>l()),this._views.slice().forEach(l=>l.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(l){return this._destroyListeners.push(l),()=>dy(this._destroyListeners,l)}destroy(){if(this._destroyed)throw new me(406,!1);const l=this._injector;l.destroy&&!l.destroyed&&l.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return a.\u0275fac=function(l){return new(l||a)($e(Go),$e(Ul),$e(im))},a.\u0275prov=Dt({token:a,factory:a.\u0275fac,providedIn:"root"}),a})();function dy(a,c){const l=a.indexOf(c);l>-1&&a.splice(l,1)}function hy(){return!1}let RS=(()=>{class a{}return a.__NG_ELEMENT_ID__=OS,a})();function OS(a){return function PS(a,c,l){if(So(a)&&!l){const u=or(a.index,c);return new um(u,u)}return 47&a.type?new um(c[Bn],c):null}(br(),Ae(),16==(16&a))}class lD{constructor(){}supports(c){return Wl(c)}create(c){return new jm(c)}}const LS=(a,c)=>c;class jm{constructor(c){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=c||LS}forEachItem(c){let l;for(l=this._itHead;null!==l;l=l._next)c(l)}forEachOperation(c){let l=this._itHead,u=this._removalsHead,m=0,_=null;for(;l||u;){const y=!u||l&&l.currentIndex<Gg(u,m,_)?l:u,C=Gg(y,m,_),D=y.currentIndex;if(y===u)m--,u=u._nextRemoved;else if(l=l._next,null==y.previousIndex)m++;else{_||(_=[]);const M=C-m,S=D-m;if(M!=S){for(let q=0;q<M;q++){const ie=q<_.length?_[q]:_[q]=0,Ee=ie+q;S<=Ee&&Ee<M&&(_[q]=ie+1)}_[y.previousIndex]=S-M}}C!==D&&c(y,C,D)}}forEachPreviousItem(c){let l;for(l=this._previousItHead;null!==l;l=l._nextPrevious)c(l)}forEachAddedItem(c){let l;for(l=this._additionsHead;null!==l;l=l._nextAdded)c(l)}forEachMovedItem(c){let l;for(l=this._movesHead;null!==l;l=l._nextMoved)c(l)}forEachRemovedItem(c){let l;for(l=this._removalsHead;null!==l;l=l._nextRemoved)c(l)}forEachIdentityChange(c){let l;for(l=this._identityChangesHead;null!==l;l=l._nextIdentityChange)c(l)}diff(c){if(null==c&&(c=[]),!Wl(c))throw new me(900,!1);return this.check(c)?this:null}onDestroy(){}check(c){this._reset();let m,_,y,l=this._itHead,u=!1;if(Array.isArray(c)){this.length=c.length;for(let C=0;C<this.length;C++)_=c[C],y=this._trackByFn(C,_),null!==l&&Object.is(l.trackById,y)?(u&&(l=this._verifyReinsertion(l,_,y,C)),Object.is(l.item,_)||this._addIdentityChange(l,_)):(l=this._mismatch(l,_,y,C),u=!0),l=l._next}else m=0,function Jv(a,c){if(Array.isArray(a))for(let l=0;l<a.length;l++)c(a[l]);else{const l=a[Symbol.iterator]();let u;for(;!(u=l.next()).done;)c(u.value)}}(c,C=>{y=this._trackByFn(m,C),null!==l&&Object.is(l.trackById,y)?(u&&(l=this._verifyReinsertion(l,C,y,m)),Object.is(l.item,C)||this._addIdentityChange(l,C)):(l=this._mismatch(l,C,y,m),u=!0),l=l._next,m++}),this.length=m;return this._truncate(l),this.collection=c,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let c;for(c=this._previousItHead=this._itHead;null!==c;c=c._next)c._nextPrevious=c._next;for(c=this._additionsHead;null!==c;c=c._nextAdded)c.previousIndex=c.currentIndex;for(this._additionsHead=this._additionsTail=null,c=this._movesHead;null!==c;c=c._nextMoved)c.previousIndex=c.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(c,l,u,m){let _;return null===c?_=this._itTail:(_=c._prev,this._remove(c)),null!==(c=null===this._unlinkedRecords?null:this._unlinkedRecords.get(u,null))?(Object.is(c.item,l)||this._addIdentityChange(c,l),this._reinsertAfter(c,_,m)):null!==(c=null===this._linkedRecords?null:this._linkedRecords.get(u,m))?(Object.is(c.item,l)||this._addIdentityChange(c,l),this._moveAfter(c,_,m)):c=this._addAfter(new zg(l,u),_,m),c}_verifyReinsertion(c,l,u,m){let _=null===this._unlinkedRecords?null:this._unlinkedRecords.get(u,null);return null!==_?c=this._reinsertAfter(_,c._prev,m):c.currentIndex!=m&&(c.currentIndex=m,this._addToMoves(c,m)),c}_truncate(c){for(;null!==c;){const l=c._next;this._addToRemovals(this._unlink(c)),c=l}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(c,l,u){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(c);const m=c._prevRemoved,_=c._nextRemoved;return null===m?this._removalsHead=_:m._nextRemoved=_,null===_?this._removalsTail=m:_._prevRemoved=m,this._insertAfter(c,l,u),this._addToMoves(c,u),c}_moveAfter(c,l,u){return this._unlink(c),this._insertAfter(c,l,u),this._addToMoves(c,u),c}_addAfter(c,l,u){return this._insertAfter(c,l,u),this._additionsTail=null===this._additionsTail?this._additionsHead=c:this._additionsTail._nextAdded=c,c}_insertAfter(c,l,u){const m=null===l?this._itHead:l._next;return c._next=m,c._prev=l,null===m?this._itTail=c:m._prev=c,null===l?this._itHead=c:l._next=c,null===this._linkedRecords&&(this._linkedRecords=new jg),this._linkedRecords.put(c),c.currentIndex=u,c}_remove(c){return this._addToRemovals(this._unlink(c))}_unlink(c){null!==this._linkedRecords&&this._linkedRecords.remove(c);const l=c._prev,u=c._next;return null===l?this._itHead=u:l._next=u,null===u?this._itTail=l:u._prev=l,c}_addToMoves(c,l){return c.previousIndex===l||(this._movesTail=null===this._movesTail?this._movesHead=c:this._movesTail._nextMoved=c),c}_addToRemovals(c){return null===this._unlinkedRecords&&(this._unlinkedRecords=new jg),this._unlinkedRecords.put(c),c.currentIndex=null,c._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=c,c._prevRemoved=null):(c._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=c),c}_addIdentityChange(c,l){return c.item=l,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=c:this._identityChangesTail._nextIdentityChange=c,c}}class zg{constructor(c,l){this.item=c,this.trackById=l,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class nc{constructor(){this._head=null,this._tail=null}add(c){null===this._head?(this._head=this._tail=c,c._nextDup=null,c._prevDup=null):(this._tail._nextDup=c,c._prevDup=this._tail,c._nextDup=null,this._tail=c)}get(c,l){let u;for(u=this._head;null!==u;u=u._nextDup)if((null===l||l<=u.currentIndex)&&Object.is(u.trackById,c))return u;return null}remove(c){const l=c._prevDup,u=c._nextDup;return null===l?this._head=u:l._nextDup=u,null===u?this._tail=l:u._prevDup=l,null===this._head}}class jg{constructor(){this.map=new Map}put(c){const l=c.trackById;let u=this.map.get(l);u||(u=new nc,this.map.set(l,u)),u.add(c)}get(c,l){const m=this.map.get(c);return m?m.get(c,l):null}remove(c){const l=c.trackById;return this.map.get(l).remove(c)&&this.map.delete(l),c}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Gg(a,c,l){const u=a.previousIndex;if(null===u)return u;let m=0;return l&&u<l.length&&(m=l[u]),u+c+m}class $g{constructor(){}supports(c){return c instanceof Map||Ls(c)}create(){return new Yg}}class Yg{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(c){let l;for(l=this._mapHead;null!==l;l=l._next)c(l)}forEachPreviousItem(c){let l;for(l=this._previousMapHead;null!==l;l=l._nextPrevious)c(l)}forEachChangedItem(c){let l;for(l=this._changesHead;null!==l;l=l._nextChanged)c(l)}forEachAddedItem(c){let l;for(l=this._additionsHead;null!==l;l=l._nextAdded)c(l)}forEachRemovedItem(c){let l;for(l=this._removalsHead;null!==l;l=l._nextRemoved)c(l)}diff(c){if(c){if(!(c instanceof Map||Ls(c)))throw new me(900,!1)}else c=new Map;return this.check(c)?this:null}onDestroy(){}check(c){this._reset();let l=this._mapHead;if(this._appendAfter=null,this._forEach(c,(u,m)=>{if(l&&l.key===m)this._maybeAddToChanges(l,u),this._appendAfter=l,l=l._next;else{const _=this._getOrCreateRecordForKey(m,u);l=this._insertBeforeOrAppend(l,_)}}),l){l._prev&&(l._prev._next=null),this._removalsHead=l;for(let u=l;null!==u;u=u._nextRemoved)u===this._mapHead&&(this._mapHead=null),this._records.delete(u.key),u._nextRemoved=u._next,u.previousValue=u.currentValue,u.currentValue=null,u._prev=null,u._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(c,l){if(c){const u=c._prev;return l._next=c,l._prev=u,c._prev=l,u&&(u._next=l),c===this._mapHead&&(this._mapHead=l),this._appendAfter=c,c}return this._appendAfter?(this._appendAfter._next=l,l._prev=this._appendAfter):this._mapHead=l,this._appendAfter=l,null}_getOrCreateRecordForKey(c,l){if(this._records.has(c)){const m=this._records.get(c);this._maybeAddToChanges(m,l);const _=m._prev,y=m._next;return _&&(_._next=y),y&&(y._prev=_),m._next=null,m._prev=null,m}const u=new dD(c);return this._records.set(c,u),u.currentValue=l,this._addToAdditions(u),u}_reset(){if(this.isDirty){let c;for(this._previousMapHead=this._mapHead,c=this._previousMapHead;null!==c;c=c._next)c._nextPrevious=c._next;for(c=this._changesHead;null!==c;c=c._nextChanged)c.previousValue=c.currentValue;for(c=this._additionsHead;null!=c;c=c._nextAdded)c.previousValue=c.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(c,l){Object.is(l,c.currentValue)||(c.previousValue=c.currentValue,c.currentValue=l,this._addToChanges(c))}_addToAdditions(c){null===this._additionsHead?this._additionsHead=this._additionsTail=c:(this._additionsTail._nextAdded=c,this._additionsTail=c)}_addToChanges(c){null===this._changesHead?this._changesHead=this._changesTail=c:(this._changesTail._nextChanged=c,this._changesTail=c)}_forEach(c,l){c instanceof Map?c.forEach(l):Object.keys(c).forEach(u=>l(c[u],u))}}class dD{constructor(c){this.key=c,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function uD(){return new hD([new lD])}let hD=(()=>{class a{constructor(l){this.factories=l}static create(l,u){if(null!=u){const m=u.factories.slice();l=l.concat(m)}return new a(l)}static extend(l){return{provide:a,useFactory:u=>a.create(l,u||uD()),deps:[[a,new Pa,new ks]]}}find(l){const u=this.factories.find(m=>m.supports(l));if(null!=u)return u;throw new me(901,!1)}}return a.\u0275prov=Dt({token:a,providedIn:"root",factory:uD}),a})();function BS(){return new mD([new $g])}let mD=(()=>{class a{constructor(l){this.factories=l}static create(l,u){if(u){const m=u.factories.slice();l=l.concat(m)}return new a(l)}static extend(l){return{provide:a,useFactory:u=>a.create(l,u||BS()),deps:[[a,new Pa,new ks]]}}find(l){const u=this.factories.find(m=>m.supports(l));if(u)return u;throw new me(901,!1)}}return a.\u0275prov=Dt({token:a,providedIn:"root",factory:BS}),a})();const py=tD(null,"core",[]);let VS=(()=>{class a{constructor(l){}}return a.\u0275fac=function(l){return new(l||a)($e(rd))},a.\u0275mod=ut({type:a}),a.\u0275inj=ki({}),a})();function qg(a){return"boolean"==typeof a?a:null!=a&&"false"!==a}},3942:(Tt,Ie,R)=>{R.d(Ie,{Z:()=>Je});var s=R(2090),J=R(4859),N=R(9681),oe=R(1877);class re{constructor(me,Me){this._delegate=me,this.firebase=Me,(0,N._addComponent)(me,new J.wA("app-compat",()=>this,"PUBLIC")),this.container=me.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(me){this._delegate.automaticDataCollectionEnabled=me}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(me=>{this._delegate.checkDestroyed(),me()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,N.deleteApp)(this._delegate)))}_getService(me,Me=N._DEFAULT_ENTRY_NAME){var Te;this._delegate.checkDestroyed();const He=this._delegate.container.getProvider(me);return!He.isInitialized()&&"EXPLICIT"===(null===(Te=He.getComponent())||void 0===Te?void 0:Te.instantiationMode)&&He.initialize(),He.getImmediate({identifier:Me})}_removeServiceInstance(me,Me=N._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(me).clearInstance(Me)}_addComponent(me){(0,N._addComponent)(this._delegate,me)}_addOrOverwriteComponent(me){(0,N._addOrOverwriteComponent)(this._delegate,me)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const ge=new s.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),U=function he(){const tt=function ve(tt){const me={},Me={__esModule:!0,initializeApp:function Le(Oe,ue={}){const Y=N.initializeApp(Oe,ue);if((0,s.r3)(me,Y.name))return me[Y.name];const We=new tt(Y,Me);return me[Y.name]=We,We},app:He,registerVersion:N.registerVersion,setLogLevel:N.setLogLevel,onLog:N.onLog,apps:null,SDK_VERSION:N.SDK_VERSION,INTERNAL:{registerComponent:function be(Oe){const ue=Oe.name,Y=ue.replace("-compat","");if(N._registerComponent(Oe)&&"PUBLIC"===Oe.type){const We=(Ye=He())=>{if("function"!=typeof Ye[Y])throw ge.create("invalid-app-argument",{appName:ue});return Ye[Y]()};void 0!==Oe.serviceProps&&(0,s.ZB)(We,Oe.serviceProps),Me[Y]=We,tt.prototype[Y]=function(...Ye){return this._getService.bind(this,ue).apply(this,Oe.multipleInstances?Ye:[])}}return"PUBLIC"===Oe.type?Me[Y]:null},removeApp:function Te(Oe){delete me[Oe]},useAsService:function Qe(Oe,ue){return"serverAuth"===ue?null:ue},modularAPIs:N}};function He(Oe){if(!(0,s.r3)(me,Oe=Oe||N._DEFAULT_ENTRY_NAME))throw ge.create("no-app",{appName:Oe});return me[Oe]}return Me.default=Me,Object.defineProperty(Me,"apps",{get:function xe(){return Object.keys(me).map(Oe=>me[Oe])}}),He.App=tt,Me}(re);return tt.INTERNAL=Object.assign(Object.assign({},tt.INTERNAL),{createFirebaseNamespace:he,extendNamespace:function me(Me){(0,s.ZB)(tt,Me)},createSubscribe:s.ne,ErrorFactory:s.LL,deepExtend:s.ZB}),tt}(),G=new oe.Yd("@firebase/app-compat");if((0,s.jU)()&&void 0!==self.firebase){G.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const tt=self.firebase.SDK_VERSION;tt&&tt.indexOf("LITE")>=0&&G.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Je=U;!function ye(tt){(0,N.registerVersion)("@firebase/app-compat","0.2.8",tt)}()},9681:(Tt,Ie,R)=>{R.r(Ie),R.d(Ie,{FirebaseError:()=>oe.ZR,SDK_VERSION:()=>mn,_DEFAULT_ENTRY_NAME:()=>Fe,_addComponent:()=>Bt,_addOrOverwriteComponent:()=>ot,_apps:()=>Ze,_clearComponents:()=>ki,_components:()=>pt,_getProvider:()=>Dt,_registerComponent:()=>si,_removeServiceInstance:()=>ei,deleteApp:()=>$n,getApp:()=>jn,getApps:()=>Gn,initializeApp:()=>Fr,onLog:()=>vt,registerVersion:()=>Ki,setLogLevel:()=>kr});var s=R(5861),J=R(4859),N=R(1877),oe=R(2090),re=R(8766);class K{constructor(we){this.container=we}getPlatformInfoString(){return this.container.getProviders().map(at=>{if(function ge($e){return"VERSION"===$e.getComponent()?.type}(at)){const Vt=at.getImmediate();return`${Vt.library}/${Vt.version}`}return null}).filter(at=>at).join(" ")}}const ve="@firebase/app",U=new N.Yd("@firebase/app"),Fe="[DEFAULT]",Ue={[ve]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Ze=new Map,pt=new Map;function Bt($e,we){try{$e.container.addComponent(we)}catch(at){U.debug(`Component ${we.name} failed to register with FirebaseApp ${$e.name}`,at)}}function ot($e,we){$e.container.addOrOverwriteComponent(we)}function si($e){const we=$e.name;if(pt.has(we))return U.debug(`There were multiple attempts to register component ${we}.`),!1;pt.set(we,$e);for(const at of Ze.values())Bt(at,$e);return!0}function Dt($e,we){const at=$e.container.getProvider("heartbeat").getImmediate({optional:!0});return at&&at.triggerHeartbeat(),$e.container.getProvider(we)}function ei($e,we,at=Fe){Dt($e,we).clearInstance(at)}function ki(){pt.clear()}const Pi=new oe.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class Yi{constructor(we,at,Vt){this._isDeleted=!1,this._options=Object.assign({},we),this._config=Object.assign({},at),this._name=at.name,this._automaticDataCollectionEnabled=at.automaticDataCollectionEnabled,this._container=Vt,this.container.addComponent(new J.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(we){this.checkDestroyed(),this._automaticDataCollectionEnabled=we}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(we){this._isDeleted=we}checkDestroyed(){if(this.isDeleted)throw Pi.create("app-deleted",{appName:this._name})}}const mn="9.20.0";function Fr($e,we={}){let at=$e;"object"!=typeof we&&(we={name:we});const Vt=Object.assign({name:Fe,automaticDataCollectionEnabled:!1},we),Nt=Vt.name;if("string"!=typeof Nt||!Nt)throw Pi.create("bad-app-name",{appName:String(Nt)});if(at||(at=(0,oe.aH)()),!at)throw Pi.create("no-options");const gi=Ze.get(Nt);if(gi){if((0,oe.vZ)(at,gi.options)&&(0,oe.vZ)(Vt,gi.config))return gi;throw Pi.create("duplicate-app",{appName:Nt})}const Fi=new J.H0(Nt);for(const B of pt.values())Fi.addComponent(B);const V=new Yi(at,Vt,Fi);return Ze.set(Nt,V),V}function jn($e=Fe){const we=Ze.get($e);if(!we&&$e===Fe)return Fr();if(!we)throw Pi.create("no-app",{appName:$e});return we}function Gn(){return Array.from(Ze.values())}function $n($e){return Vi.apply(this,arguments)}function Vi(){return(Vi=(0,s.Z)(function*($e){const we=$e.name;Ze.has(we)&&(Ze.delete(we),yield Promise.all($e.container.getProviders().map(at=>at.delete())),$e.isDeleted=!0)})).apply(this,arguments)}function Ki($e,we,at){var Vt;let Nt=null!==(Vt=Ue[$e])&&void 0!==Vt?Vt:$e;at&&(Nt+=`-${at}`);const gi=Nt.match(/\s|\//),Fi=we.match(/\s|\//);if(gi||Fi){const V=[`Unable to register library "${Nt}" with version "${we}":`];return gi&&V.push(`library name "${Nt}" contains illegal characters (whitespace or "/")`),gi&&Fi&&V.push("and"),Fi&&V.push(`version name "${we}" contains illegal characters (whitespace or "/")`),void U.warn(V.join(" "))}si(new J.wA(`${Nt}-version`,()=>({library:Nt,version:we}),"VERSION"))}function vt($e,we){if(null!==$e&&"function"!=typeof $e)throw Pi.create("invalid-log-argument");(0,N.Am)($e,we)}function kr($e){(0,N.Ub)($e)}const Yr="firebase-heartbeat-database",qi=1,pn="firebase-heartbeat-store";let tr=null;function xt(){return tr||(tr=(0,re.X3)(Yr,qi,{upgrade:($e,we)=>{0===we&&$e.createObjectStore(pn)}}).catch($e=>{throw Pi.create("idb-open",{originalErrorMessage:$e.message})})),tr}function bt(){return(bt=(0,s.Z)(function*($e){try{return(yield xt()).transaction(pn).objectStore(pn).get(fn($e))}catch(we){if(we instanceof oe.ZR)U.warn(we.message);else{const at=Pi.create("idb-get",{originalErrorMessage:we?.message});U.warn(at.message)}}})).apply(this,arguments)}function oo($e,we){return Qi.apply(this,arguments)}function Qi(){return(Qi=(0,s.Z)(function*($e,we){try{const Vt=(yield xt()).transaction(pn,"readwrite");return yield Vt.objectStore(pn).put(we,fn($e)),Vt.done}catch(at){if(at instanceof oe.ZR)U.warn(at.message);else{const Vt=Pi.create("idb-set",{originalErrorMessage:at?.message});U.warn(Vt.message)}}})).apply(this,arguments)}function fn($e){return`${$e.name}!${$e.options.appId}`}class Do{constructor(we){this.container=we,this._heartbeatsCache=null;const at=this.container.getProvider("app").getImmediate();this._storage=new ni(at),this._heartbeatsCachePromise=this._storage.read().then(Vt=>(this._heartbeatsCache=Vt,Vt))}triggerHeartbeat(){var we=this;return(0,s.Z)(function*(){const Vt=we.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),Nt=yi();if(null===we._heartbeatsCache&&(we._heartbeatsCache=yield we._heartbeatsCachePromise),we._heartbeatsCache.lastSentHeartbeatDate!==Nt&&!we._heartbeatsCache.heartbeats.some(gi=>gi.date===Nt))return we._heartbeatsCache.heartbeats.push({date:Nt,agent:Vt}),we._heartbeatsCache.heartbeats=we._heartbeatsCache.heartbeats.filter(gi=>{const Fi=new Date(gi.date).valueOf();return Date.now()-Fi<=2592e6}),we._storage.overwrite(we._heartbeatsCache)})()}getHeartbeatsHeader(){var we=this;return(0,s.Z)(function*(){if(null===we._heartbeatsCache&&(yield we._heartbeatsCachePromise),null===we._heartbeatsCache||0===we._heartbeatsCache.heartbeats.length)return"";const at=yi(),{heartbeatsToSend:Vt,unsentEntries:Nt}=function qr($e,we=1024){const at=[];let Vt=$e.slice();for(const Nt of $e){const gi=at.find(Fi=>Fi.agent===Nt.agent);if(gi){if(gi.dates.push(Nt.date),Yn(at)>we){gi.dates.pop();break}}else if(at.push({agent:Nt.agent,dates:[Nt.date]}),Yn(at)>we){at.pop();break}Vt=Vt.slice(1)}return{heartbeatsToSend:at,unsentEntries:Vt}}(we._heartbeatsCache.heartbeats),gi=(0,oe.L)(JSON.stringify({version:2,heartbeats:Vt}));return we._heartbeatsCache.lastSentHeartbeatDate=at,Nt.length>0?(we._heartbeatsCache.heartbeats=Nt,yield we._storage.overwrite(we._heartbeatsCache)):(we._heartbeatsCache.heartbeats=[],we._storage.overwrite(we._heartbeatsCache)),gi})()}}function yi(){return(new Date).toISOString().substring(0,10)}class ni{constructor(we){this.app=we,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,s.Z)(function*(){return!!(0,oe.hl)()&&(0,oe.eu)().then(()=>!0).catch(()=>!1)})()}read(){var we=this;return(0,s.Z)(function*(){return(yield we._canUseIndexedDBPromise)&&(yield function Et($e){return bt.apply(this,arguments)}(we.app))||{heartbeats:[]}})()}overwrite(we){var at=this;return(0,s.Z)(function*(){var Vt;if(yield at._canUseIndexedDBPromise){const gi=yield at.read();return oo(at.app,{lastSentHeartbeatDate:null!==(Vt=we.lastSentHeartbeatDate)&&void 0!==Vt?Vt:gi.lastSentHeartbeatDate,heartbeats:we.heartbeats})}})()}add(we){var at=this;return(0,s.Z)(function*(){var Vt;if(yield at._canUseIndexedDBPromise){const gi=yield at.read();return oo(at.app,{lastSentHeartbeatDate:null!==(Vt=we.lastSentHeartbeatDate)&&void 0!==Vt?Vt:gi.lastSentHeartbeatDate,heartbeats:[...gi.heartbeats,...we.heartbeats]})}})()}}function Yn($e){return(0,oe.L)(JSON.stringify({version:2,heartbeats:$e})).length}!function Fn($e){si(new J.wA("platform-logger",we=>new K(we),"PRIVATE")),si(new J.wA("heartbeat",we=>new Do(we),"PRIVATE")),Ki(ve,"0.9.8",$e),Ki(ve,"0.9.8","esm2017"),Ki("fire-js","")}("")},4859:(Tt,Ie,R)=>{R.d(Ie,{H0:()=>ve,wA:()=>N});var s=R(5861),J=R(2090);class N{constructor(U,G,Z){this.name=U,this.instanceFactory=G,this.type=Z,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(U){return this.instantiationMode=U,this}setMultipleInstances(U){return this.multipleInstances=U,this}setServiceProps(U){return this.serviceProps=U,this}setInstanceCreatedCallback(U){return this.onInstanceCreated=U,this}}const oe="[DEFAULT]";class re{constructor(U,G){this.name=U,this.container=G,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(U){const G=this.normalizeInstanceIdentifier(U);if(!this.instancesDeferred.has(G)){const Z=new J.BH;if(this.instancesDeferred.set(G,Z),this.isInitialized(G)||this.shouldAutoInitialize())try{const Ke=this.getOrInitializeService({instanceIdentifier:G});Ke&&Z.resolve(Ke)}catch{}}return this.instancesDeferred.get(G).promise}getImmediate(U){var G;const Z=this.normalizeInstanceIdentifier(U?.identifier),Ke=null!==(G=U?.optional)&&void 0!==G&&G;if(!this.isInitialized(Z)&&!this.shouldAutoInitialize()){if(Ke)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:Z})}catch(ye){if(Ke)return null;throw ye}}getComponent(){return this.component}setComponent(U){if(U.name!==this.name)throw Error(`Mismatching Component ${U.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=U,this.shouldAutoInitialize()){if(function ge(he){return"EAGER"===he.instantiationMode}(U))try{this.getOrInitializeService({instanceIdentifier:oe})}catch{}for(const[G,Z]of this.instancesDeferred.entries()){const Ke=this.normalizeInstanceIdentifier(G);try{const ye=this.getOrInitializeService({instanceIdentifier:Ke});Z.resolve(ye)}catch{}}}}clearInstance(U=oe){this.instancesDeferred.delete(U),this.instancesOptions.delete(U),this.instances.delete(U)}delete(){var U=this;return(0,s.Z)(function*(){const G=Array.from(U.instances.values());yield Promise.all([...G.filter(Z=>"INTERNAL"in Z).map(Z=>Z.INTERNAL.delete()),...G.filter(Z=>"_delete"in Z).map(Z=>Z._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(U=oe){return this.instances.has(U)}getOptions(U=oe){return this.instancesOptions.get(U)||{}}initialize(U={}){const{options:G={}}=U,Z=this.normalizeInstanceIdentifier(U.instanceIdentifier);if(this.isInitialized(Z))throw Error(`${this.name}(${Z}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Ke=this.getOrInitializeService({instanceIdentifier:Z,options:G});for(const[ye,Je]of this.instancesDeferred.entries())Z===this.normalizeInstanceIdentifier(ye)&&Je.resolve(Ke);return Ke}onInit(U,G){var Z;const Ke=this.normalizeInstanceIdentifier(G),ye=null!==(Z=this.onInitCallbacks.get(Ke))&&void 0!==Z?Z:new Set;ye.add(U),this.onInitCallbacks.set(Ke,ye);const Je=this.instances.get(Ke);return Je&&U(Je,Ke),()=>{ye.delete(U)}}invokeOnInitCallbacks(U,G){const Z=this.onInitCallbacks.get(G);if(Z)for(const Ke of Z)try{Ke(U,G)}catch{}}getOrInitializeService({instanceIdentifier:U,options:G={}}){let Z=this.instances.get(U);if(!Z&&this.component&&(Z=this.component.instanceFactory(this.container,{instanceIdentifier:(he=U,he===oe?void 0:he),options:G}),this.instances.set(U,Z),this.instancesOptions.set(U,G),this.invokeOnInitCallbacks(Z,U),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,U,Z)}catch{}var he;return Z||null}normalizeInstanceIdentifier(U=oe){return this.component?this.component.multipleInstances?U:oe:U}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class ve{constructor(U){this.name=U,this.providers=new Map}addComponent(U){const G=this.getProvider(U.name);if(G.isComponentSet())throw new Error(`Component ${U.name} has already been registered with ${this.name}`);G.setComponent(U)}addOrOverwriteComponent(U){this.getProvider(U.name).isComponentSet()&&this.providers.delete(U.name),this.addComponent(U)}getProvider(U){if(this.providers.has(U))return this.providers.get(U);const G=new re(U,this);return this.providers.set(U,G),G}getProviders(){return Array.from(this.providers.values())}}},2833:(Tt,Ie,R)=>{var s=R(5861),J=R(9681),N=R(4859),oe=R(2090),re=R(8766);const K="@firebase/installations",ge="0.6.4",ve=1e4,he=`w:${ge}`,U="FIS_v2",G="https://firebaseinstallations.googleapis.com/v1",Z=36e5,tt=new oe.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function me($){return $ instanceof oe.ZR&&$.code.includes("request-failed")}function Me({projectId:$}){return`${G}/projects/${$}/installations`}function Te($){return{token:$.token,requestStatus:2,expiresIn:ue($.expiresIn),creationTime:Date.now()}}function He($,ae){return Le.apply(this,arguments)}function Le(){return(Le=(0,s.Z)(function*($,ae){const Ge=(yield ae.json()).error;return tt.create("request-failed",{requestName:$,serverCode:Ge.code,serverMessage:Ge.message,serverStatus:Ge.status})})).apply(this,arguments)}function xe({apiKey:$}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":$})}function Qe($){return Oe.apply(this,arguments)}function Oe(){return(Oe=(0,s.Z)(function*($){const ae=yield $();return ae.status>=500&&ae.status<600?$():ae})).apply(this,arguments)}function ue($){return Number($.replace("s","000"))}function Ye(){return(Ye=(0,s.Z)(function*({appConfig:$,heartbeatServiceProvider:ae},{fid:Ne}){const Ge=Me($),Qt=xe($),zt=ae.getImmediate({optional:!0});if(zt){const Nn=yield zt.getHeartbeatsHeader();Nn&&Qt.append("x-firebase-client",Nn)}const Ci={method:"POST",headers:Qt,body:JSON.stringify({fid:Ne,authVersion:U,appId:$.appId,sdkVersion:he})},so=yield Qe(()=>fetch(Ge,Ci));if(so.ok){const Nn=yield so.json();return{fid:Nn.fid||Ne,registrationStatus:2,refreshToken:Nn.refreshToken,authToken:Te(Nn.authToken)}}throw yield He("Create Installation",so)})).apply(this,arguments)}function Pt($){return new Promise(ae=>{setTimeout(ae,$)})}const se=/^[cdef][\w-]{21}$/,fe="";function Ce(){try{const $=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues($),$[0]=112+$[0]%16;const Ne=function Se($){return function et($){return btoa(String.fromCharCode(...$)).replace(/\+/g,"-").replace(/\//g,"_")}($).substr(0,22)}($);return se.test(Ne)?Ne:fe}catch{return fe}}function Fe($){return`${$.appName}!${$.appId}`}const Ue=new Map;function Ze($,ae){const Ne=Fe($);ot(Ne,ae),function si($,ae){const Ne=function ei(){return!Dt&&"BroadcastChannel"in self&&(Dt=new BroadcastChannel("[Firebase] FID Change"),Dt.onmessage=$=>{ot($.data.key,$.data.fid)}),Dt}();Ne&&Ne.postMessage({key:$,fid:ae}),function ki(){0===Ue.size&&Dt&&(Dt.close(),Dt=null)}()}(Ne,ae)}function ot($,ae){const Ne=Ue.get($);if(Ne)for(const Ge of Ne)Ge(ae)}let Dt=null;const Oi="firebase-installations-database",Pi=1,Yi="firebase-installations-store";let mn=null;function Fr(){return mn||(mn=(0,re.X3)(Oi,Pi,{upgrade:($,ae)=>{0===ae&&$.createObjectStore(Yi)}})),mn}function jn($,ae){return Gn.apply(this,arguments)}function Gn(){return(Gn=(0,s.Z)(function*($,ae){const Ne=Fe($),Qt=(yield Fr()).transaction(Yi,"readwrite"),zt=Qt.objectStore(Yi),Ht=yield zt.get(Ne);return yield zt.put(ae,Ne),yield Qt.done,(!Ht||Ht.fid!==ae.fid)&&Ze($,ae.fid),ae})).apply(this,arguments)}function $n($){return Vi.apply(this,arguments)}function Vi(){return(Vi=(0,s.Z)(function*($){const ae=Fe($),Ge=(yield Fr()).transaction(Yi,"readwrite");yield Ge.objectStore(Yi).delete(ae),yield Ge.done})).apply(this,arguments)}function Ki($,ae){return vt.apply(this,arguments)}function vt(){return(vt=(0,s.Z)(function*($,ae){const Ne=Fe($),Qt=(yield Fr()).transaction(Yi,"readwrite"),zt=Qt.objectStore(Yi),Ht=yield zt.get(Ne),Ci=ae(Ht);return void 0===Ci?yield zt.delete(Ne):yield zt.put(Ci,Ne),yield Qt.done,Ci&&(!Ht||Ht.fid!==Ci.fid)&&Ze($,Ci.fid),Ci})).apply(this,arguments)}function kr($){return Yr.apply(this,arguments)}function Yr(){return Yr=(0,s.Z)(function*($){let ae;const Ne=yield Ki($.appConfig,Ge=>{const Qt=function qi($){return Qi($||{fid:Ce(),registrationStatus:0})}(Ge),zt=function pn($,ae){if(0===ae.registrationStatus){if(!navigator.onLine)return{installationEntry:ae,registrationPromise:Promise.reject(tt.create("app-offline"))};const Ne={fid:ae.fid,registrationStatus:1,registrationTime:Date.now()},Ge=function tr($,ae){return xt.apply(this,arguments)}($,Ne);return{installationEntry:Ne,registrationPromise:Ge}}return 1===ae.registrationStatus?{installationEntry:ae,registrationPromise:Et($)}:{installationEntry:ae}}($,Qt);return ae=zt.registrationPromise,zt.installationEntry});return Ne.fid===fe?{installationEntry:yield ae}:{installationEntry:Ne,registrationPromise:ae}}),Yr.apply(this,arguments)}function xt(){return xt=(0,s.Z)(function*($,ae){try{const Ne=yield function We($,ae){return Ye.apply(this,arguments)}($,ae);return jn($.appConfig,Ne)}catch(Ne){throw me(Ne)&&409===Ne.customData.serverCode?yield $n($.appConfig):yield jn($.appConfig,{fid:ae.fid,registrationStatus:0}),Ne}}),xt.apply(this,arguments)}function Et($){return bt.apply(this,arguments)}function bt(){return(bt=(0,s.Z)(function*($){let ae=yield oo($.appConfig);for(;1===ae.registrationStatus;)yield Pt(100),ae=yield oo($.appConfig);if(0===ae.registrationStatus){const{installationEntry:Ne,registrationPromise:Ge}=yield kr($);return Ge||Ne}return ae})).apply(this,arguments)}function oo($){return Ki($,ae=>{if(!ae)throw tt.create("installation-not-found");return Qi(ae)})}function Qi($){return function fn($){return 1===$.registrationStatus&&$.registrationTime+ve<Date.now()}($)?{fid:$.fid,registrationStatus:0}:$}function en(){return(en=(0,s.Z)(function*({appConfig:$,heartbeatServiceProvider:ae},Ne){const Ge=function Do($,{fid:ae}){return`${Me($)}/${ae}/authTokens:generate`}($,Ne),Qt=function be($,{refreshToken:ae}){const Ne=xe($);return Ne.append("Authorization",function Y($){return`${U} ${$}`}(ae)),Ne}($,Ne),zt=ae.getImmediate({optional:!0});if(zt){const Nn=yield zt.getHeartbeatsHeader();Nn&&Qt.append("x-firebase-client",Nn)}const Ci={method:"POST",headers:Qt,body:JSON.stringify({installation:{sdkVersion:he,appId:$.appId}})},so=yield Qe(()=>fetch(Ge,Ci));if(so.ok)return Te(yield so.json());throw yield He("Generate Auth Token",so)})).apply(this,arguments)}function yi($){return qr.apply(this,arguments)}function qr(){return qr=(0,s.Z)(function*($,ae=!1){let Ne;const Ge=yield Ki($.appConfig,zt=>{if(!at(zt))throw tt.create("not-registered");const Ht=zt.authToken;if(!ae&&function Vt($){return 2===$.requestStatus&&!function Nt($){const ae=Date.now();return ae<$.creationTime||$.creationTime+$.expiresIn<ae+Z}($)}(Ht))return zt;if(1===Ht.requestStatus)return Ne=function ni($,ae){return Yn.apply(this,arguments)}($,ae),zt;{if(!navigator.onLine)throw tt.create("app-offline");const Ci=function gi($){const ae={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},$),{authToken:ae})}(zt);return Ne=function $e($,ae){return we.apply(this,arguments)}($,Ci),Ci}});return Ne?yield Ne:Ge.authToken}),qr.apply(this,arguments)}function Yn(){return(Yn=(0,s.Z)(function*($,ae){let Ne=yield Fn($.appConfig);for(;1===Ne.authToken.requestStatus;)yield Pt(100),Ne=yield Fn($.appConfig);const Ge=Ne.authToken;return 0===Ge.requestStatus?yi($,ae):Ge})).apply(this,arguments)}function Fn($){return Ki($,ae=>{if(!at(ae))throw tt.create("not-registered");return function Fi($){return 1===$.requestStatus&&$.requestTime+ve<Date.now()}(ae.authToken)?Object.assign(Object.assign({},ae),{authToken:{requestStatus:0}}):ae})}function we(){return we=(0,s.Z)(function*($,ae){try{const Ne=yield function Xi($,ae){return en.apply(this,arguments)}($,ae),Ge=Object.assign(Object.assign({},ae),{authToken:Ne});return yield jn($.appConfig,Ge),Ne}catch(Ne){if(!me(Ne)||401!==Ne.customData.serverCode&&404!==Ne.customData.serverCode){const Ge=Object.assign(Object.assign({},ae),{authToken:{requestStatus:0}});yield jn($.appConfig,Ge)}else yield $n($.appConfig);throw Ne}}),we.apply(this,arguments)}function at($){return void 0!==$&&2===$.registrationStatus}function B(){return(B=(0,s.Z)(function*($){const ae=$,{installationEntry:Ne,registrationPromise:Ge}=yield kr(ae);return Ge?Ge.catch(console.error):yi(ae).catch(console.error),Ne.fid})).apply(this,arguments)}function _e(){return _e=(0,s.Z)(function*($,ae=!1){const Ne=$;return yield function te($){return st.apply(this,arguments)}(Ne),(yield yi(Ne,ae)).token}),_e.apply(this,arguments)}function st(){return(st=(0,s.Z)(function*($){const{registrationPromise:ae}=yield kr($);ae&&(yield ae)})).apply(this,arguments)}function vr($){return tt.create("missing-app-config-values",{valueName:$})}const Q="installations",ct=$=>{const ae=$.getProvider("app").getImmediate(),Ne=function Wr($){if(!$||!$.options)throw vr("App Configuration");if(!$.name)throw vr("App Name");const ae=["projectId","apiKey","appId"];for(const Ne of ae)if(!$.options[Ne])throw vr(Ne);return{appName:$.name,projectId:$.options.projectId,apiKey:$.options.apiKey,appId:$.options.appId}}(ae);return{app:ae,appConfig:Ne,heartbeatServiceProvider:(0,J._getProvider)(ae,"heartbeat"),_delete:()=>Promise.resolve()}},ut=$=>{const ae=$.getProvider("app").getImmediate(),Ne=(0,J._getProvider)(ae,Q).getImmediate();return{getId:()=>function V($){return B.apply(this,arguments)}(Ne),getToken:Qt=>function W($){return _e.apply(this,arguments)}(Ne,Qt)}};(function Wt(){(0,J._registerComponent)(new N.wA(Q,ct,"PUBLIC")),(0,J._registerComponent)(new N.wA("installations-internal",ut,"PRIVATE"))})(),(0,J.registerVersion)(K,ge),(0,J.registerVersion)(K,ge,"esm2017")},1877:(Tt,Ie,R)=>{R.d(Ie,{Am:()=>he,Ub:()=>ve,Yd:()=>ge,in:()=>J});const s=[];var J=(()=>{return(U=J||(J={}))[U.DEBUG=0]="DEBUG",U[U.VERBOSE=1]="VERBOSE",U[U.INFO=2]="INFO",U[U.WARN=3]="WARN",U[U.ERROR=4]="ERROR",U[U.SILENT=5]="SILENT",J;var U})();const N={debug:J.DEBUG,verbose:J.VERBOSE,info:J.INFO,warn:J.WARN,error:J.ERROR,silent:J.SILENT},oe=J.INFO,re={[J.DEBUG]:"log",[J.VERBOSE]:"log",[J.INFO]:"info",[J.WARN]:"warn",[J.ERROR]:"error"},K=(U,G,...Z)=>{if(G<U.logLevel)return;const Ke=(new Date).toISOString(),ye=re[G];if(!ye)throw new Error(`Attempted to log a message with an invalid logType (value: ${G})`);console[ye](`[${Ke}]  ${U.name}:`,...Z)};class ge{constructor(G){this.name=G,this._logLevel=oe,this._logHandler=K,this._userLogHandler=null,s.push(this)}get logLevel(){return this._logLevel}set logLevel(G){if(!(G in J))throw new TypeError(`Invalid value "${G}" assigned to \`logLevel\``);this._logLevel=G}setLogLevel(G){this._logLevel="string"==typeof G?N[G]:G}get logHandler(){return this._logHandler}set logHandler(G){if("function"!=typeof G)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=G}get userLogHandler(){return this._userLogHandler}set userLogHandler(G){this._userLogHandler=G}debug(...G){this._userLogHandler&&this._userLogHandler(this,J.DEBUG,...G),this._logHandler(this,J.DEBUG,...G)}log(...G){this._userLogHandler&&this._userLogHandler(this,J.VERBOSE,...G),this._logHandler(this,J.VERBOSE,...G)}info(...G){this._userLogHandler&&this._userLogHandler(this,J.INFO,...G),this._logHandler(this,J.INFO,...G)}warn(...G){this._userLogHandler&&this._userLogHandler(this,J.WARN,...G),this._logHandler(this,J.WARN,...G)}error(...G){this._userLogHandler&&this._userLogHandler(this,J.ERROR,...G),this._logHandler(this,J.ERROR,...G)}}function ve(U){s.forEach(G=>{G.setLogLevel(U)})}function he(U,G){for(const Z of s){let Ke=null;G&&G.level&&(Ke=N[G.level]),Z.userLogHandler=null===U?null:(ye,Je,...tt)=>{const me=tt.map(Me=>{if(null==Me)return null;if("string"==typeof Me)return Me;if("number"==typeof Me||"boolean"==typeof Me)return Me.toString();if(Me instanceof Error)return Me.message;try{return JSON.stringify(Me)}catch{return null}}).filter(Me=>Me).join(" ");Je>=(Ke??ye.logLevel)&&U({level:J[Je].toLowerCase(),message:me,args:tt,type:ye.name})}}}},259:(Tt,Ie,R)=>{R.d(Ie,{C6:()=>s.getApps,Mq:()=>s.getApp,ZF:()=>s.initializeApp});var s=R(9681);(0,s.registerVersion)("firebase","9.20.0","app")},9260:(Tt,Ie,R)=>{R.d(Ie,{Z:()=>s.Z});var s=R(3942);s.Z.registerVersion("firebase","9.20.0","app-compat")},6689:(Tt,Ie,R)=>{R.r(Ie);var s=R(5861),J=R(3942),N=R(2090),oe=R(9681),re=R(655),K=R(1877),ge=R(4859);const he={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},Z_EMAIL_SIGNIN="EMAIL_SIGNIN",Z_PASSWORD_RESET="PASSWORD_RESET",Z_RECOVER_EMAIL="RECOVER_EMAIL",Z_REVERT_SECOND_FACTOR_ADDITION="REVERT_SECOND_FACTOR_ADDITION",Z_VERIFY_AND_CHANGE_EMAIL="VERIFY_AND_CHANGE_EMAIL",Z_VERIFY_EMAIL="VERIFY_EMAIL";const Je=function Ke(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend."}},tt=function ye(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},me=new N.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Te=new K.Yd("@firebase/auth");function Le(v,...p){Te.logLevel<=K.in.ERROR&&Te.error(`Auth (${oe.SDK_VERSION}): ${v}`,...p)}function xe(v,...p){throw ue(v,...p)}function be(v,...p){return ue(v,...p)}function Qe(v,p,f){const w=Object.assign(Object.assign({},tt()),{[p]:f});return new N.LL("auth","Firebase",w).create(p,{appName:v.name})}function Oe(v,p,f){if(!(p instanceof f))throw f.name!==p.constructor.name&&xe(v,"argument-error"),Qe(v,"argument-error",`Type of ${p.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function ue(v,...p){if("string"!=typeof v){const f=p[0],w=[...p.slice(1)];return w[0]&&(w[0].appName=v.name),v._errorFactory.create(f,...w)}return me.create(v,...p)}function Y(v,p,...f){if(!v)throw ue(p,...f)}function We(v){const p="INTERNAL ASSERTION FAILED: "+v;throw Le(p),new Error(p)}function Ye(v,p){v||We(p)}function Pt(){var v;return typeof self<"u"&&(null===(v=self.location)||void 0===v?void 0:v.href)||""}function et(){return"http:"===se()||"https:"===se()}function se(){var v;return typeof self<"u"&&(null===(v=self.location)||void 0===v?void 0:v.protocol)||null}class Se{constructor(p,f){this.shortDelay=p,this.longDelay=f,Ye(f>p,"Short delay should be less than long delay!"),this.isMobile=(0,N.uI)()||(0,N.b$)()}get(){return function fe(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(et()||(0,N.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Fe(v,p){Ye(v.emulator,"Emulator should always be set here");const{url:f}=v.emulator;return p?`${f}${p.startsWith("/")?p.slice(1):p}`:f}class Ue{static initialize(p,f,w){this.fetchImpl=p,f&&(this.headersImpl=f),w&&(this.responseImpl=w)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void We("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void We("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void We("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Ze={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},pt=new Se(3e4,6e4);function Bt(v,p){return v.tenantId&&!p.tenantId?Object.assign(Object.assign({},p),{tenantId:v.tenantId}):p}function ot(v,p,f,w){return si.apply(this,arguments)}function si(){return(si=(0,s.Z)(function*(v,p,f,w,E={}){return Dt(v,E,(0,s.Z)(function*(){let I={},z={};w&&("GET"===p?z=w:I={body:JSON.stringify(w)});const ee=(0,N.xO)(Object.assign({key:v.config.apiKey},z)).slice(1),Re=yield v._getAdditionalHeaders();return Re["Content-Type"]="application/json",v.languageCode&&(Re["X-Firebase-Locale"]=v.languageCode),Ue.fetch()(Pi(v,v.config.apiHost,f,ee),Object.assign({method:p,headers:Re,referrerPolicy:"no-referrer"},I))}))})).apply(this,arguments)}function Dt(v,p,f){return ei.apply(this,arguments)}function ei(){return(ei=(0,s.Z)(function*(v,p,f){v._canInitEmulator=!1;const w=Object.assign(Object.assign({},Ze),p);try{const E=new Yi(v),I=yield Promise.race([f(),E.promise]);E.clearNetworkTimeout();const z=yield I.json();if("needConfirmation"in z)throw mn(v,"account-exists-with-different-credential",z);if(I.ok&&!("errorMessage"in z))return z;{const ee=I.ok?z.errorMessage:z.error.message,[Re,Xe]=ee.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Re)throw mn(v,"credential-already-in-use",z);if("EMAIL_EXISTS"===Re)throw mn(v,"email-already-in-use",z);if("USER_DISABLED"===Re)throw mn(v,"user-disabled",z);const gt=w[Re]||Re.toLowerCase().replace(/[_\s]+/g,"-");if(Xe)throw Qe(v,gt,Xe);xe(v,gt)}}catch(E){if(E instanceof N.ZR)throw E;xe(v,"network-request-failed",{message:String(E)})}})).apply(this,arguments)}function ki(v,p,f,w){return Oi.apply(this,arguments)}function Oi(){return(Oi=(0,s.Z)(function*(v,p,f,w,E={}){const I=yield ot(v,p,f,w,E);return"mfaPendingCredential"in I&&xe(v,"multi-factor-auth-required",{_serverResponse:I}),I})).apply(this,arguments)}function Pi(v,p,f,w){const E=`${p}${f}?${w}`;return v.config.emulator?Fe(v.config,E):`${v.config.apiScheme}://${E}`}class Yi{constructor(p){this.auth=p,this.timer=null,this.promise=new Promise((f,w)=>{this.timer=setTimeout(()=>w(be(this.auth,"network-request-failed")),pt.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function mn(v,p,f){const w={appName:v.name};f.email&&(w.email=f.email),f.phoneNumber&&(w.phoneNumber=f.phoneNumber);const E=be(v,p,w);return E.customData._tokenResponse=f,E}function jn(){return(jn=(0,s.Z)(function*(v,p){return ot(v,"POST","/v1/accounts:delete",p)})).apply(this,arguments)}function $n(){return($n=(0,s.Z)(function*(v,p){return ot(v,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function Ki(){return(Ki=(0,s.Z)(function*(v,p){return ot(v,"POST","/v1/accounts:lookup",p)})).apply(this,arguments)}function vt(v){if(v)try{const p=new Date(Number(v));if(!isNaN(p.getTime()))return p.toUTCString()}catch{}}function qi(){return(qi=(0,s.Z)(function*(v,p=!1){const f=(0,N.m9)(v),w=yield f.getIdToken(p),E=tr(w);Y(E&&E.exp&&E.auth_time&&E.iat,f.auth,"internal-error");const I="object"==typeof E.firebase?E.firebase:void 0,z=I?.sign_in_provider;return{claims:E,token:w,authTime:vt(pn(E.auth_time)),issuedAtTime:vt(pn(E.iat)),expirationTime:vt(pn(E.exp)),signInProvider:z||null,signInSecondFactor:I?.sign_in_second_factor||null}})).apply(this,arguments)}function pn(v){return 1e3*Number(v)}function tr(v){const[p,f,w]=v.split(".");if(void 0===p||void 0===f||void 0===w)return Le("JWT malformed, contained fewer than 3 sections"),null;try{const E=(0,N.tV)(f);return E?JSON.parse(E):(Le("Failed to decode base64 JWT payload"),null)}catch(E){return Le("Caught error parsing JWT payload as JSON",E?.toString()),null}}function Et(v,p){return bt.apply(this,arguments)}function bt(){return(bt=(0,s.Z)(function*(v,p,f=!1){if(f)return p;try{return yield p}catch(w){throw w instanceof N.ZR&&function oo({code:v}){return"auth/user-disabled"===v||"auth/user-token-expired"===v}(w)&&v.auth.currentUser===v&&(yield v.auth.signOut()),w}})).apply(this,arguments)}class Qi{constructor(p){this.user=p,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(p){var f;if(p){const w=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),w}{this.errorBackoff=3e4;const E=(null!==(f=this.user.stsTokenManager.expirationTime)&&void 0!==f?f:0)-Date.now()-3e5;return Math.max(0,E)}}schedule(p=!1){var f=this;if(!this.isRunning)return;const w=this.getInterval(p);this.timerId=setTimeout((0,s.Z)(function*(){yield f.iteration()}),w)}iteration(){var p=this;return(0,s.Z)(function*(){try{yield p.user.getIdToken(!0)}catch(f){return void("auth/network-request-failed"===f?.code&&p.schedule(!0))}p.schedule()})()}}class fn{constructor(p,f){this.createdAt=p,this.lastLoginAt=f,this._initializeTime()}_initializeTime(){this.lastSignInTime=vt(this.lastLoginAt),this.creationTime=vt(this.createdAt)}_copy(p){this.createdAt=p.createdAt,this.lastLoginAt=p.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Xi(v){return en.apply(this,arguments)}function en(){return en=(0,s.Z)(function*(v){var p;const f=v.auth,w=yield v.getIdToken(),E=yield Et(v,function Vi(v,p){return Ki.apply(this,arguments)}(f,{idToken:w}));Y(E?.users.length,f,"internal-error");const I=E.users[0];v._notifyReloadListener(I);const z=null!==(p=I.providerUserInfo)&&void 0!==p&&p.length?function ni(v){return v.map(p=>{var{providerId:f}=p,w=(0,re._T)(p,["providerId"]);return{providerId:f,uid:w.rawId||"",displayName:w.displayName||null,email:w.email||null,phoneNumber:w.phoneNumber||null,photoURL:w.photoUrl||null}})}(I.providerUserInfo):[],ee=function qr(v,p){return[...v.filter(w=>!p.some(E=>E.providerId===w.providerId)),...p]}(v.providerData,z),gt=!!v.isAnonymous&&!(v.email&&I.passwordHash||ee?.length),ht={uid:I.localId,displayName:I.displayName||null,photoURL:I.photoUrl||null,email:I.email||null,emailVerified:I.emailVerified||!1,phoneNumber:I.phoneNumber||null,tenantId:I.tenantId||null,providerData:ee,metadata:new fn(I.createdAt,I.lastLoginAt),isAnonymous:gt};Object.assign(v,ht)}),en.apply(this,arguments)}function yi(){return(yi=(0,s.Z)(function*(v){const p=(0,N.m9)(v);yield Xi(p),yield p.auth._persistUserIfCurrent(p),p.auth._notifyListenersIfCurrent(p)})).apply(this,arguments)}function Fn(){return(Fn=(0,s.Z)(function*(v,p){const f=yield Dt(v,{},(0,s.Z)(function*(){const w=(0,N.xO)({grant_type:"refresh_token",refresh_token:p}).slice(1),{tokenApiHost:E,apiKey:I}=v.config,z=Pi(v,E,"/v1/token",`key=${I}`),ee=yield v._getAdditionalHeaders();return ee["Content-Type"]="application/x-www-form-urlencoded",Ue.fetch()(z,{method:"POST",headers:ee,body:w})}));return{accessToken:f.access_token,expiresIn:f.expires_in,refreshToken:f.refresh_token}})).apply(this,arguments)}class $e{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(p){Y(p.idToken,"internal-error"),Y(typeof p.idToken<"u","internal-error"),Y(typeof p.refreshToken<"u","internal-error");const f="expiresIn"in p&&typeof p.expiresIn<"u"?Number(p.expiresIn):function xt(v){const p=tr(v);return Y(p,"internal-error"),Y(typeof p.exp<"u","internal-error"),Y(typeof p.iat<"u","internal-error"),Number(p.exp)-Number(p.iat)}(p.idToken);this.updateTokensAndExpiration(p.idToken,p.refreshToken,f)}getToken(p,f=!1){var w=this;return(0,s.Z)(function*(){return Y(!w.accessToken||w.refreshToken,p,"user-token-expired"),f||!w.accessToken||w.isExpired?w.refreshToken?(yield w.refresh(p,w.refreshToken),w.accessToken):null:w.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(p,f){var w=this;return(0,s.Z)(function*(){const{accessToken:E,refreshToken:I,expiresIn:z}=yield function Yn(v,p){return Fn.apply(this,arguments)}(p,f);w.updateTokensAndExpiration(E,I,Number(z))})()}updateTokensAndExpiration(p,f,w){this.refreshToken=f||null,this.accessToken=p||null,this.expirationTime=Date.now()+1e3*w}static fromJSON(p,f){const{refreshToken:w,accessToken:E,expirationTime:I}=f,z=new $e;return w&&(Y("string"==typeof w,"internal-error",{appName:p}),z.refreshToken=w),E&&(Y("string"==typeof E,"internal-error",{appName:p}),z.accessToken=E),I&&(Y("number"==typeof I,"internal-error",{appName:p}),z.expirationTime=I),z}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(p){this.accessToken=p.accessToken,this.refreshToken=p.refreshToken,this.expirationTime=p.expirationTime}_clone(){return Object.assign(new $e,this.toJSON())}_performRefresh(){return We("not implemented")}}function we(v,p){Y("string"==typeof v||typeof v>"u","internal-error",{appName:p})}class at{constructor(p){var{uid:f,auth:w,stsTokenManager:E}=p,I=(0,re._T)(p,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Qi(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=f,this.auth=w,this.stsTokenManager=E,this.accessToken=E.accessToken,this.displayName=I.displayName||null,this.email=I.email||null,this.emailVerified=I.emailVerified||!1,this.phoneNumber=I.phoneNumber||null,this.photoURL=I.photoURL||null,this.isAnonymous=I.isAnonymous||!1,this.tenantId=I.tenantId||null,this.providerData=I.providerData?[...I.providerData]:[],this.metadata=new fn(I.createdAt||void 0,I.lastLoginAt||void 0)}getIdToken(p){var f=this;return(0,s.Z)(function*(){const w=yield Et(f,f.stsTokenManager.getToken(f.auth,p));return Y(w,f.auth,"internal-error"),f.accessToken!==w&&(f.accessToken=w,yield f.auth._persistUserIfCurrent(f),f.auth._notifyListenersIfCurrent(f)),w})()}getIdTokenResult(p){return function Yr(v){return qi.apply(this,arguments)}(this,p)}reload(){return function Do(v){return yi.apply(this,arguments)}(this)}_assign(p){this!==p&&(Y(this.uid===p.uid,this.auth,"internal-error"),this.displayName=p.displayName,this.photoURL=p.photoURL,this.email=p.email,this.emailVerified=p.emailVerified,this.phoneNumber=p.phoneNumber,this.isAnonymous=p.isAnonymous,this.tenantId=p.tenantId,this.providerData=p.providerData.map(f=>Object.assign({},f)),this.metadata._copy(p.metadata),this.stsTokenManager._assign(p.stsTokenManager))}_clone(p){const f=new at(Object.assign(Object.assign({},this),{auth:p,stsTokenManager:this.stsTokenManager._clone()}));return f.metadata._copy(this.metadata),f}_onReload(p){Y(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=p,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(p){this.reloadListener?this.reloadListener(p):this.reloadUserInfo=p}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(p,f=!1){var w=this;return(0,s.Z)(function*(){let E=!1;p.idToken&&p.idToken!==w.stsTokenManager.accessToken&&(w.stsTokenManager.updateFromServerResponse(p),E=!0),f&&(yield Xi(w)),yield w.auth._persistUserIfCurrent(w),E&&w.auth._notifyListenersIfCurrent(w)})()}delete(){var p=this;return(0,s.Z)(function*(){const f=yield p.getIdToken();return yield Et(p,function Fr(v,p){return jn.apply(this,arguments)}(p.auth,{idToken:f})),p.stsTokenManager.clearRefreshToken(),p.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(p=>Object.assign({},p)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(p,f){var w,E,I,z,ee,Re,Xe,gt;const ht=null!==(w=f.displayName)&&void 0!==w?w:void 0,an=null!==(E=f.email)&&void 0!==E?E:void 0,Bo=null!==(I=f.phoneNumber)&&void 0!==I?I:void 0,Lc=null!==(z=f.photoURL)&&void 0!==z?z:void 0,Df=null!==(ee=f.tenantId)&&void 0!==ee?ee:void 0,ou=null!==(Re=f._redirectEventId)&&void 0!==Re?Re:void 0,su=null!==(Xe=f.createdAt)&&void 0!==Xe?Xe:void 0,yn=null!==(gt=f.lastLoginAt)&&void 0!==gt?gt:void 0,{uid:Zh,emailVerified:Ef,isAnonymous:Vl,providerData:Ar,stsTokenManager:Kh}=f;Y(Zh&&Kh,p,"internal-error");const Hl=$e.fromJSON(this.name,Kh);Y("string"==typeof Zh,p,"internal-error"),we(ht,p.name),we(an,p.name),Y("boolean"==typeof Ef,p,"internal-error"),Y("boolean"==typeof Vl,p,"internal-error"),we(Bo,p.name),we(Lc,p.name),we(Df,p.name),we(ou,p.name),we(su,p.name),we(yn,p.name);const Qh=new at({uid:Zh,auth:p,email:an,emailVerified:Ef,displayName:ht,isAnonymous:Vl,photoURL:Lc,phoneNumber:Bo,tenantId:Df,stsTokenManager:Hl,createdAt:su,lastLoginAt:yn});return Ar&&Array.isArray(Ar)&&(Qh.providerData=Ar.map(gv=>Object.assign({},gv))),ou&&(Qh._redirectEventId=ou),Qh}static _fromIdTokenResponse(p,f,w=!1){return(0,s.Z)(function*(){const E=new $e;E.updateFromServerResponse(f);const I=new at({uid:f.localId,auth:p,stsTokenManager:E,isAnonymous:w});return yield Xi(I),I})()}}const Vt=new Map;function Nt(v){Ye(v instanceof Function,"Expected a class definition");let p=Vt.get(v);return p?(Ye(p instanceof v,"Instance stored in cache mismatched with class"),p):(p=new v,Vt.set(v,p),p)}const Fi=(()=>{class v{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,s.Z)(function*(){return!0})()}_set(f,w){var E=this;return(0,s.Z)(function*(){E.storage[f]=w})()}_get(f){var w=this;return(0,s.Z)(function*(){const E=w.storage[f];return void 0===E?null:E})()}_remove(f){var w=this;return(0,s.Z)(function*(){delete w.storage[f]})()}_addListener(f,w){}_removeListener(f,w){}}return v.type="NONE",v})();function V(v,p,f){return`firebase:${v}:${p}:${f}`}class B{constructor(p,f,w){this.persistence=p,this.auth=f,this.userKey=w;const{config:E,name:I}=this.auth;this.fullUserKey=V(this.userKey,E.apiKey,I),this.fullPersistenceKey=V("persistence",E.apiKey,I),this.boundEventHandler=f._onStorageEvent.bind(f),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(p){return this.persistence._set(this.fullUserKey,p.toJSON())}getCurrentUser(){var p=this;return(0,s.Z)(function*(){const f=yield p.persistence._get(p.fullUserKey);return f?at._fromJSON(p.auth,f):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(p){var f=this;return(0,s.Z)(function*(){if(f.persistence===p)return;const w=yield f.getCurrentUser();return yield f.removeCurrentUser(),f.persistence=p,w?f.setCurrentUser(w):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(p,f,w="authUser"){return(0,s.Z)(function*(){if(!f.length)return new B(Nt(Fi),p,w);const E=(yield Promise.all(f.map(function(){var Xe=(0,s.Z)(function*(gt){if(yield gt._isAvailable())return gt});return function(gt){return Xe.apply(this,arguments)}}()))).filter(Xe=>Xe);let I=E[0]||Nt(Fi);const z=V(w,p.config.apiKey,p.name);let ee=null;for(const Xe of f)try{const gt=yield Xe._get(z);if(gt){const ht=at._fromJSON(p,gt);Xe!==I&&(ee=ht),I=Xe;break}}catch{}const Re=E.filter(Xe=>Xe._shouldAllowMigration);return I._shouldAllowMigration&&Re.length?(I=Re[0],ee&&(yield I._set(z,ee.toJSON())),yield Promise.all(f.map(function(){var Xe=(0,s.Z)(function*(gt){if(gt!==I)try{yield gt._remove(z)}catch{}});return function(gt){return Xe.apply(this,arguments)}}())),new B(I,p,w)):new B(I,p,w)})()}}function W(v){const p=v.toLowerCase();if(p.includes("opera/")||p.includes("opr/")||p.includes("opios/"))return"Opera";if(rt(p))return"IEMobile";if(p.includes("msie")||p.includes("trident/"))return"IE";if(p.includes("edge/"))return"Edge";if(_e(p))return"Firefox";if(p.includes("silk/"))return"Silk";if(zi(p))return"Blackberry";if(Wi(p))return"Webos";if(te(p))return"Safari";if((p.includes("chrome/")||st(p))&&!p.includes("edge/"))return"Chrome";if(wi(p))return"Android";{const w=v.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===w?.length)return w[1]}return"Other"}function _e(v=(0,N.z$)()){return/firefox\//i.test(v)}function te(v=(0,N.z$)()){const p=v.toLowerCase();return p.includes("safari/")&&!p.includes("chrome/")&&!p.includes("crios/")&&!p.includes("android")}function st(v=(0,N.z$)()){return/crios\//i.test(v)}function rt(v=(0,N.z$)()){return/iemobile/i.test(v)}function wi(v=(0,N.z$)()){return/android/i.test(v)}function zi(v=(0,N.z$)()){return/blackberry/i.test(v)}function Wi(v=(0,N.z$)()){return/webos/i.test(v)}function Ti(v=(0,N.z$)()){return/iphone|ipad|ipod/i.test(v)||/macintosh/i.test(v)&&/mobile/i.test(v)}function vr(v=(0,N.z$)()){return Ti(v)||wi(v)||Wi(v)||zi(v)||/windows phone/i.test(v)||rt(v)}function ce(v,p=[]){let f;switch(v){case"Browser":f=W((0,N.z$)());break;case"Worker":f=`${W((0,N.z$)())}-${v}`;break;default:f=v}const w=p.length?p.join(","):"FirebaseCore-web";return`${f}/JsCore/${oe.SDK_VERSION}/${w}`}function ut(){return(ut=(0,s.Z)(function*(v){return(yield ot(v,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Wt(v,p){return $.apply(this,arguments)}function $(){return($=(0,s.Z)(function*(v,p){return ot(v,"GET","/v2/recaptchaConfig",Bt(v,p))})).apply(this,arguments)}function ae(v){return void 0!==v&&void 0!==v.getResponse}function Ne(v){return void 0!==v&&void 0!==v.enterprise}class Ge{constructor(p){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===p.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=p.recaptchaKey.split("/")[3],this.emailPasswordEnabled=p.recaptchaEnforcementState.some(f=>"EMAIL_PASSWORD_PROVIDER"===f.provider&&"OFF"!==f.enforcementState)}}function zt(v){return new Promise((p,f)=>{const w=document.createElement("script");w.setAttribute("src",v),w.onload=p,w.onerror=E=>{const I=be("internal-error");I.customData=E,f(I)},w.type="text/javascript",w.charset="UTF-8",function Qt(){var v,p;return null!==(p=null===(v=document.getElementsByTagName("head"))||void 0===v?void 0:v[0])&&void 0!==p?p:document}().appendChild(w)})}function Ht(v){return`__${v}${Math.floor(1e6*Math.random())}`}class Nn{constructor(p){this.type="recaptcha-enterprise",this.auth=Zt(p)}verify(p="verify",f=!1){var w=this;return(0,s.Z)(function*(){function I(){return I=(0,s.Z)(function*(ee){if(!f){if(null==ee.tenantId&&null!=ee._agentRecaptchaConfig)return ee._agentRecaptchaConfig.siteKey;if(null!=ee.tenantId&&void 0!==ee._tenantRecaptchaConfigs[ee.tenantId])return ee._tenantRecaptchaConfigs[ee.tenantId].siteKey}return new Promise(function(){var Re=(0,s.Z)(function*(Xe,gt){Wt(ee,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(ht=>{if(void 0!==ht.recaptchaKey){const an=new Ge(ht);return null==ee.tenantId?ee._agentRecaptchaConfig=an:ee._tenantRecaptchaConfigs[ee.tenantId]=an,Xe(an.siteKey)}gt(new Error("recaptcha Enterprise site key undefined"))}).catch(ht=>{gt(ht)})});return function(Xe,gt){return Re.apply(this,arguments)}}())}),I.apply(this,arguments)}function z(ee,Re,Xe){const gt=window.grecaptcha;Ne(gt)?gt.enterprise.ready(()=>{try{gt.enterprise.execute(ee,{action:p}).then(ht=>{Re(ht)}).catch(ht=>{Xe(ht)})}catch(ht){Xe(ht)}}):Xe(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((ee,Re)=>{(function E(ee){return I.apply(this,arguments)})(w.auth).then(Xe=>{if(!f&&Ne(window.grecaptcha))z(Xe,ee,Re);else{if(typeof window>"u")return void Re(new Error("RecaptchaVerifier is only supported in browser"));zt("https://www.google.com/recaptcha/enterprise.js?render="+Xe).then(()=>{z(Xe,ee,Re)}).catch(gt=>{Re(gt)})}}).catch(Xe=>{Re(Xe)})})})()}}function kn(v,p,f){return Mr.apply(this,arguments)}function Mr(){return(Mr=(0,s.Z)(function*(v,p,f,w=!1){const E=new Nn(v);let I;try{I=yield E.verify(f)}catch{I=yield E.verify(f,!0)}const z=Object.assign({},p);return Object.assign(z,w?{captchaResp:I}:{captchaResponse:I}),Object.assign(z,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(z,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),z})).apply(this,arguments)}class ft{constructor(p){this.auth=p,this.queue=[]}pushCallback(p,f){const w=I=>new Promise((z,ee)=>{try{z(p(I))}catch(Re){ee(Re)}});w.onAbort=f,this.queue.push(w);const E=this.queue.length-1;return()=>{this.queue[E]=()=>Promise.resolve()}}runMiddleware(p){var f=this;return(0,s.Z)(function*(){if(f.auth.currentUser===p)return;const w=[];try{for(const E of f.queue)yield E(p),E.onAbort&&w.push(E.onAbort)}catch(E){w.reverse();for(const I of w)try{I()}catch{}throw f.auth._errorFactory.create("login-blocked",{originalMessage:E?.message})}})()}}class jt{constructor(p,f,w,E){this.app=p,this.heartbeatServiceProvider=f,this.appCheckServiceProvider=w,this.config=E,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Nr(this),this.idTokenSubscription=new Nr(this),this.beforeStateQueue=new ft(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=me,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=p.name,this.clientVersion=E.sdkClientVersion}_initializeWithPersistence(p,f){var w=this;return f&&(this._popupRedirectResolver=Nt(f)),this._initializationPromise=this.queue((0,s.Z)(function*(){var E,I;if(!w._deleted&&(w.persistenceManager=yield B.create(w,p),!w._deleted)){if(null!==(E=w._popupRedirectResolver)&&void 0!==E&&E._shouldInitProactively)try{yield w._popupRedirectResolver._initialize(w)}catch{}yield w.initializeCurrentUser(f),w.lastNotifiedUid=(null===(I=w.currentUser)||void 0===I?void 0:I.uid)||null,!w._deleted&&(w._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var p=this;return(0,s.Z)(function*(){if(p._deleted)return;const f=yield p.assertedPersistence.getCurrentUser();if(p.currentUser||f){if(p.currentUser&&f&&p.currentUser.uid===f.uid)return p._currentUser._assign(f),void(yield p.currentUser.getIdToken());yield p._updateCurrentUser(f,!0)}})()}initializeCurrentUser(p){var f=this;return(0,s.Z)(function*(){var w;const E=yield f.assertedPersistence.getCurrentUser();let I=E,z=!1;if(p&&f.config.authDomain){yield f.getOrInitRedirectPersistenceManager();const ee=null===(w=f.redirectUser)||void 0===w?void 0:w._redirectEventId,Re=I?._redirectEventId,Xe=yield f.tryRedirectSignIn(p);(!ee||ee===Re)&&Xe?.user&&(I=Xe.user,z=!0)}if(!I)return f.directlySetCurrentUser(null);if(!I._redirectEventId){if(z)try{yield f.beforeStateQueue.runMiddleware(I)}catch(ee){I=E,f._popupRedirectResolver._overrideRedirectResult(f,()=>Promise.reject(ee))}return I?f.reloadAndSetCurrentUserOrClear(I):f.directlySetCurrentUser(null)}return Y(f._popupRedirectResolver,f,"argument-error"),yield f.getOrInitRedirectPersistenceManager(),f.redirectUser&&f.redirectUser._redirectEventId===I._redirectEventId?f.directlySetCurrentUser(I):f.reloadAndSetCurrentUserOrClear(I)})()}tryRedirectSignIn(p){var f=this;return(0,s.Z)(function*(){let w=null;try{w=yield f._popupRedirectResolver._completeRedirectFn(f,p,!0)}catch{yield f._setRedirectUser(null)}return w})()}reloadAndSetCurrentUserOrClear(p){var f=this;return(0,s.Z)(function*(){try{yield Xi(p)}catch(w){if("auth/network-request-failed"!==w?.code)return f.directlySetCurrentUser(null)}return f.directlySetCurrentUser(p)})()}useDeviceLanguage(){this.languageCode=function Ce(){if(typeof navigator>"u")return null;const v=navigator;return v.languages&&v.languages[0]||v.language||null}()}_delete(){var p=this;return(0,s.Z)(function*(){p._deleted=!0})()}updateCurrentUser(p){var f=this;return(0,s.Z)(function*(){const w=p?(0,N.m9)(p):null;return w&&Y(w.auth.config.apiKey===f.config.apiKey,f,"invalid-user-token"),f._updateCurrentUser(w&&w._clone(f))})()}_updateCurrentUser(p,f=!1){var w=this;return(0,s.Z)(function*(){if(!w._deleted)return p&&Y(w.tenantId===p.tenantId,w,"tenant-id-mismatch"),f||(yield w.beforeStateQueue.runMiddleware(p)),w.queue((0,s.Z)(function*(){yield w.directlySetCurrentUser(p),w.notifyAuthListeners()}))})()}signOut(){var p=this;return(0,s.Z)(function*(){return yield p.beforeStateQueue.runMiddleware(null),(p.redirectPersistenceManager||p._popupRedirectResolver)&&(yield p._setRedirectUser(null)),p._updateCurrentUser(null,!0)})()}setPersistence(p){var f=this;return this.queue((0,s.Z)(function*(){yield f.assertedPersistence.setPersistence(Nt(p))}))}initializeRecaptchaConfig(){var p=this;return(0,s.Z)(function*(){const f=yield Wt(p,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),w=new Ge(f);null==p.tenantId?p._agentRecaptchaConfig=w:p._tenantRecaptchaConfigs[p.tenantId]=w,w.emailPasswordEnabled&&new Nn(p).verify()})()}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(p){this._errorFactory=new N.LL("auth","Firebase",p())}onAuthStateChanged(p,f,w){return this.registerStateListener(this.authStateSubscription,p,f,w)}beforeAuthStateChanged(p,f){return this.beforeStateQueue.pushCallback(p,f)}onIdTokenChanged(p,f,w){return this.registerStateListener(this.idTokenSubscription,p,f,w)}toJSON(){var p;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(p=this._currentUser)||void 0===p?void 0:p.toJSON()}}_setRedirectUser(p,f){var w=this;return(0,s.Z)(function*(){const E=yield w.getOrInitRedirectPersistenceManager(f);return null===p?E.removeCurrentUser():E.setCurrentUser(p)})()}getOrInitRedirectPersistenceManager(p){var f=this;return(0,s.Z)(function*(){if(!f.redirectPersistenceManager){const w=p&&Nt(p)||f._popupRedirectResolver;Y(w,f,"argument-error"),f.redirectPersistenceManager=yield B.create(f,[Nt(w._redirectPersistence)],"redirectUser"),f.redirectUser=yield f.redirectPersistenceManager.getCurrentUser()}return f.redirectPersistenceManager})()}_redirectUserForId(p){var f=this;return(0,s.Z)(function*(){var w,E;return f._isInitialized&&(yield f.queue((0,s.Z)(function*(){}))),(null===(w=f._currentUser)||void 0===w?void 0:w._redirectEventId)===p?f._currentUser:(null===(E=f.redirectUser)||void 0===E?void 0:E._redirectEventId)===p?f.redirectUser:null})()}_persistUserIfCurrent(p){var f=this;return(0,s.Z)(function*(){if(p===f.currentUser)return f.queue((0,s.Z)(function*(){return f.directlySetCurrentUser(p)}))})()}_notifyListenersIfCurrent(p){p===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var p,f;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const w=null!==(f=null===(p=this.currentUser)||void 0===p?void 0:p.uid)&&void 0!==f?f:null;this.lastNotifiedUid!==w&&(this.lastNotifiedUid=w,this.authStateSubscription.next(this.currentUser))}registerStateListener(p,f,w,E){if(this._deleted)return()=>{};const I="function"==typeof f?f:f.next.bind(f),z=this._isInitialized?Promise.resolve():this._initializationPromise;return Y(z,this,"internal-error"),z.then(()=>I(this.currentUser)),"function"==typeof f?p.addObserver(f,w,E):p.addObserver(f)}directlySetCurrentUser(p){var f=this;return(0,s.Z)(function*(){f.currentUser&&f.currentUser!==p&&f._currentUser._stopProactiveRefresh(),p&&f.isProactiveRefreshEnabled&&p._startProactiveRefresh(),f.currentUser=p,p?yield f.assertedPersistence.setCurrentUser(p):yield f.assertedPersistence.removeCurrentUser()})()}queue(p){return this.operations=this.operations.then(p,p),this.operations}get assertedPersistence(){return Y(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(p){!p||this.frameworks.includes(p)||(this.frameworks.push(p),this.frameworks.sort(),this.clientVersion=ce(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var p=this;return(0,s.Z)(function*(){var f;const w={"X-Client-Version":p.clientVersion};p.app.options.appId&&(w["X-Firebase-gmpid"]=p.app.options.appId);const E=yield null===(f=p.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===f?void 0:f.getHeartbeatsHeader();E&&(w["X-Firebase-Client"]=E);const I=yield p._getAppCheckToken();return I&&(w["X-Firebase-AppCheck"]=I),w})()}_getAppCheckToken(){var p=this;return(0,s.Z)(function*(){var f;const w=yield null===(f=p.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===f?void 0:f.getToken();return w?.error&&function He(v,...p){Te.logLevel<=K.in.WARN&&Te.warn(`Auth (${oe.SDK_VERSION}): ${v}`,...p)}(`Error while retrieving App Check token: ${w.error}`),w?.token})()}}function Zt(v){return(0,N.m9)(v)}class Nr{constructor(p){this.auth=p,this.observer=null,this.addObserver=(0,N.ne)(f=>this.observer=f)}get next(){return Y(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function nn(v){const p=v.indexOf(":");return p<0?"":v.substr(0,p+1)}function bs(v){if(!v)return null;const p=Number(v);return isNaN(p)?null:p}class Eo{constructor(p,f){this.providerId=p,this.signInMethod=f}toJSON(){return We("not implemented")}_getIdTokenResponse(p){return We("not implemented")}_linkToIdToken(p,f){return We("not implemented")}_getReauthenticationResolver(p){return We("not implemented")}}function ko(v,p){return wa.apply(this,arguments)}function wa(){return(wa=(0,s.Z)(function*(v,p){return ot(v,"POST","/v1/accounts:resetPassword",Bt(v,p))})).apply(this,arguments)}function $s(v,p){return Bn.apply(this,arguments)}function Bn(){return(Bn=(0,s.Z)(function*(v,p){return ot(v,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function Mo(){return(Mo=(0,s.Z)(function*(v,p){return ot(v,"POST","/v1/accounts:update",Bt(v,p))})).apply(this,arguments)}function Ir(v,p){return Io.apply(this,arguments)}function Io(){return(Io=(0,s.Z)(function*(v,p){return ki(v,"POST","/v1/accounts:signInWithPassword",Bt(v,p))})).apply(this,arguments)}function ac(v,p){return _i.apply(this,arguments)}function _i(){return(_i=(0,s.Z)(function*(v,p){return ot(v,"POST","/v1/accounts:sendOobCode",Bt(v,p))})).apply(this,arguments)}function Ca(){return(Ca=(0,s.Z)(function*(v,p){return ac(v,p)})).apply(this,arguments)}function cc(v,p){return Da.apply(this,arguments)}function Da(){return(Da=(0,s.Z)(function*(v,p){return ac(v,p)})).apply(this,arguments)}function ys(v,p){return Qo.apply(this,arguments)}function Qo(){return(Qo=(0,s.Z)(function*(v,p){return ac(v,p)})).apply(this,arguments)}function gd(){return(gd=(0,s.Z)(function*(v,p){return ac(v,p)})).apply(this,arguments)}function rr(){return(rr=(0,s.Z)(function*(v,p){return ki(v,"POST","/v1/accounts:signInWithEmailLink",Bt(v,p))})).apply(this,arguments)}function So(){return(So=(0,s.Z)(function*(v,p){return ki(v,"POST","/v1/accounts:signInWithEmailLink",Bt(v,p))})).apply(this,arguments)}class ao extends Eo{constructor(p,f,w,E=null){super("password",w),this._email=p,this._password=f,this._tenantId=E}static _fromEmailAndPassword(p,f){return new ao(p,f,"password")}static _fromEmailAndCode(p,f,w=null){return new ao(p,f,"emailLink",w)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(p){const f="string"==typeof p?JSON.parse(p):p;if(f?.email&&f?.password){if("password"===f.signInMethod)return this._fromEmailAndPassword(f.email,f.password);if("emailLink"===f.signInMethod)return this._fromEmailAndCode(f.email,f.password,f.tenantId)}return null}_getIdTokenResponse(p){var f=this;return(0,s.Z)(function*(){var w;switch(f.signInMethod){case"password":const E={returnSecureToken:!0,email:f._email,password:f._password,clientType:"CLIENT_TYPE_WEB"};if(null!==(w=p._getRecaptchaConfig())&&void 0!==w&&w.emailPasswordEnabled){const I=yield kn(p,E,"signInWithPassword");return Ir(p,I)}return Ir(p,E).catch(function(){var I=(0,s.Z)(function*(z){if("auth/missing-recaptcha-token"===z.code){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const ee=yield kn(p,E,"signInWithPassword");return Ir(p,ee)}return Promise.reject(z)});return function(z){return I.apply(this,arguments)}}());case"emailLink":return function Sr(v,p){return rr.apply(this,arguments)}(p,{email:f._email,oobCode:f._password});default:xe(p,"internal-error")}})()}_linkToIdToken(p,f){var w=this;return(0,s.Z)(function*(){switch(w.signInMethod){case"password":return $s(p,{idToken:f,returnSecureToken:!0,email:w._email,password:w._password});case"emailLink":return function Ea(v,p){return So.apply(this,arguments)}(p,{idToken:f,email:w._email,oobCode:w._password});default:xe(p,"internal-error")}})()}_getReauthenticationResolver(p){return this._getIdTokenResponse(p)}}function ln(v,p){return ka.apply(this,arguments)}function ka(){return(ka=(0,s.Z)(function*(v,p){return ki(v,"POST","/v1/accounts:signInWithIdp",Bt(v,p))})).apply(this,arguments)}class To extends Eo{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(p){const f=new To(p.providerId,p.signInMethod);return p.idToken||p.accessToken?(p.idToken&&(f.idToken=p.idToken),p.accessToken&&(f.accessToken=p.accessToken),p.nonce&&!p.pendingToken&&(f.nonce=p.nonce),p.pendingToken&&(f.pendingToken=p.pendingToken)):p.oauthToken&&p.oauthTokenSecret?(f.accessToken=p.oauthToken,f.secret=p.oauthTokenSecret):xe("argument-error"),f}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(p){const f="string"==typeof p?JSON.parse(p):p,{providerId:w,signInMethod:E}=f,I=(0,re._T)(f,["providerId","signInMethod"]);if(!w||!E)return null;const z=new To(w,E);return z.idToken=I.idToken||void 0,z.accessToken=I.accessToken||void 0,z.secret=I.secret,z.nonce=I.nonce,z.pendingToken=I.pendingToken||null,z}_getIdTokenResponse(p){return ln(p,this.buildRequest())}_linkToIdToken(p,f){const w=this.buildRequest();return w.idToken=f,ln(p,w)}_getReauthenticationResolver(p){const f=this.buildRequest();return f.autoCreate=!1,ln(p,f)}buildRequest(){const p={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)p.pendingToken=this.pendingToken;else{const f={};this.idToken&&(f.id_token=this.idToken),this.accessToken&&(f.access_token=this.accessToken),this.secret&&(f.oauth_token_secret=this.secret),f.providerId=this.providerId,this.nonce&&!this.pendingToken&&(f.nonce=this.nonce),p.postBody=(0,N.xO)(f)}return p}}function th(){return(th=(0,s.Z)(function*(v,p){return ot(v,"POST","/v1/accounts:sendVerificationCode",Bt(v,p))})).apply(this,arguments)}function vd(){return(vd=(0,s.Z)(function*(v,p){return ki(v,"POST","/v1/accounts:signInWithPhoneNumber",Bt(v,p))})).apply(this,arguments)}function sl(){return(sl=(0,s.Z)(function*(v,p){const f=yield ki(v,"POST","/v1/accounts:signInWithPhoneNumber",Bt(v,p));if(f.temporaryProof)throw mn(v,"account-exists-with-different-credential",f);return f})).apply(this,arguments)}const bd={USER_NOT_FOUND:"user-not-found"};function ws(){return(ws=(0,s.Z)(function*(v,p){return ki(v,"POST","/v1/accounts:signInWithPhoneNumber",Bt(v,Object.assign(Object.assign({},p),{operation:"REAUTH"})),bd)})).apply(this,arguments)}class Ia extends Eo{constructor(p){super("phone","phone"),this.params=p}static _fromVerification(p,f){return new Ia({verificationId:p,verificationCode:f})}static _fromTokenResponse(p,f){return new Ia({phoneNumber:p,temporaryProof:f})}_getIdTokenResponse(p){return function ih(v,p){return vd.apply(this,arguments)}(p,this._makeVerificationRequest())}_linkToIdToken(p,f){return function Ma(v,p){return sl.apply(this,arguments)}(p,Object.assign({idToken:f},this._makeVerificationRequest()))}_getReauthenticationResolver(p){return function yd(v,p){return ws.apply(this,arguments)}(p,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:p,phoneNumber:f,verificationId:w,verificationCode:E}=this.params;return p&&f?{temporaryProof:p,phoneNumber:f}:{sessionInfo:w,code:E}}toJSON(){const p={providerId:this.providerId};return this.params.phoneNumber&&(p.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(p.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(p.verificationCode=this.params.verificationCode),this.params.verificationId&&(p.verificationId=this.params.verificationId),p}static fromJSON(p){"string"==typeof p&&(p=JSON.parse(p));const{verificationId:f,verificationCode:w,phoneNumber:E,temporaryProof:I}=p;return w||f||E||I?new Ia({verificationId:f,verificationCode:w,phoneNumber:E,temporaryProof:I}):null}}class al{constructor(p){var f,w,E,I,z,ee;const Re=(0,N.zd)((0,N.pd)(p)),Xe=null!==(f=Re.apiKey)&&void 0!==f?f:null,gt=null!==(w=Re.oobCode)&&void 0!==w?w:null,ht=function Ni(v){switch(v){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(E=Re.mode)&&void 0!==E?E:null);Y(Xe&&gt&&ht,"argument-error"),this.apiKey=Xe,this.operation=ht,this.code=gt,this.continueUrl=null!==(I=Re.continueUrl)&&void 0!==I?I:null,this.languageCode=null!==(z=Re.languageCode)&&void 0!==z?z:null,this.tenantId=null!==(ee=Re.tenantId)&&void 0!==ee?ee:null}static parseLink(p){const f=function Op(v){const p=(0,N.zd)((0,N.pd)(v)).link,f=p?(0,N.zd)((0,N.pd)(p)).deep_link_id:null,w=(0,N.zd)((0,N.pd)(v)).deep_link_id;return(w?(0,N.zd)((0,N.pd)(w)).link:null)||w||f||p||v}(p);try{return new al(f)}catch{return null}}}let lc=(()=>{class v{constructor(){this.providerId=v.PROVIDER_ID}static credential(f,w){return ao._fromEmailAndPassword(f,w)}static credentialWithLink(f,w){const E=al.parseLink(w);return Y(E,"argument-error"),ao._fromEmailAndCode(f,E.code,E.tenantId)}}return v.PROVIDER_ID="password",v.EMAIL_PASSWORD_SIGN_IN_METHOD="password",v.EMAIL_LINK_SIGN_IN_METHOD="emailLink",v})();class Xo{constructor(p){this.providerId=p,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(p){this.defaultLanguageCode=p}setCustomParameters(p){return this.customParameters=p,this}getCustomParameters(){return this.customParameters}}class Sa extends Xo{constructor(){super(...arguments),this.scopes=[]}addScope(p){return this.scopes.includes(p)||this.scopes.push(p),this}getScopes(){return[...this.scopes]}}class L extends Sa{static credentialFromJSON(p){const f="string"==typeof p?JSON.parse(p):p;return Y("providerId"in f&&"signInMethod"in f,"argument-error"),To._fromParams(f)}credential(p){return this._credential(Object.assign(Object.assign({},p),{nonce:p.rawNonce}))}_credential(p){return Y(p.idToken||p.accessToken,"argument-error"),To._fromParams(Object.assign(Object.assign({},p),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(p){return L.oauthCredentialFromTaggedObject(p)}static credentialFromError(p){return L.oauthCredentialFromTaggedObject(p.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{oauthIdToken:f,oauthAccessToken:w,oauthTokenSecret:E,pendingToken:I,nonce:z,providerId:ee}=p;if(!w&&!E&&!f&&!I||!ee)return null;try{return new L(ee)._credential({idToken:f,accessToken:w,nonce:z,pendingToken:I})}catch{return null}}}let P=(()=>{class v extends Sa{constructor(){super("facebook.com")}static credential(f){return To._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.FACEBOOK_SIGN_IN_METHOD,accessToken:f})}static credentialFromResult(f){return v.credentialFromTaggedObject(f)}static credentialFromError(f){return v.credentialFromTaggedObject(f.customData||{})}static credentialFromTaggedObject({_tokenResponse:f}){if(!f||!("oauthAccessToken"in f)||!f.oauthAccessToken)return null;try{return v.credential(f.oauthAccessToken)}catch{return null}}}return v.FACEBOOK_SIGN_IN_METHOD="facebook.com",v.PROVIDER_ID="facebook.com",v})(),j=(()=>{class v extends Sa{constructor(){super("google.com"),this.addScope("profile")}static credential(f,w){return To._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.GOOGLE_SIGN_IN_METHOD,idToken:f,accessToken:w})}static credentialFromResult(f){return v.credentialFromTaggedObject(f)}static credentialFromError(f){return v.credentialFromTaggedObject(f.customData||{})}static credentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{oauthIdToken:w,oauthAccessToken:E}=f;if(!w&&!E)return null;try{return v.credential(w,E)}catch{return null}}}return v.GOOGLE_SIGN_IN_METHOD="google.com",v.PROVIDER_ID="google.com",v})(),le=(()=>{class v extends Sa{constructor(){super("github.com")}static credential(f){return To._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.GITHUB_SIGN_IN_METHOD,accessToken:f})}static credentialFromResult(f){return v.credentialFromTaggedObject(f)}static credentialFromError(f){return v.credentialFromTaggedObject(f.customData||{})}static credentialFromTaggedObject({_tokenResponse:f}){if(!f||!("oauthAccessToken"in f)||!f.oauthAccessToken)return null;try{return v.credential(f.oauthAccessToken)}catch{return null}}}return v.GITHUB_SIGN_IN_METHOD="github.com",v.PROVIDER_ID="github.com",v})();class Ve extends Eo{constructor(p,f){super(p,p),this.pendingToken=f}_getIdTokenResponse(p){return ln(p,this.buildRequest())}_linkToIdToken(p,f){const w=this.buildRequest();return w.idToken=f,ln(p,w)}_getReauthenticationResolver(p){const f=this.buildRequest();return f.autoCreate=!1,ln(p,f)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(p){const f="string"==typeof p?JSON.parse(p):p,{providerId:w,signInMethod:E,pendingToken:I}=f;return w&&E&&I&&w===E?new Ve(w,I):null}static _create(p,f){return new Ve(p,f)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class Yt extends Xo{constructor(p){Y(p.startsWith("saml."),"argument-error"),super(p)}static credentialFromResult(p){return Yt.samlCredentialFromTaggedObject(p)}static credentialFromError(p){return Yt.samlCredentialFromTaggedObject(p.customData||{})}static credentialFromJSON(p){const f=Ve.fromJSON(p);return Y(f,"argument-error"),f}static samlCredentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{pendingToken:f,providerId:w}=p;if(!f||!w)return null;try{return Ve._create(w,f)}catch{return null}}}let Xt=(()=>{class v extends Sa{constructor(){super("twitter.com")}static credential(f,w){return To._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.TWITTER_SIGN_IN_METHOD,oauthToken:f,oauthTokenSecret:w})}static credentialFromResult(f){return v.credentialFromTaggedObject(f)}static credentialFromError(f){return v.credentialFromTaggedObject(f.customData||{})}static credentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{oauthAccessToken:w,oauthTokenSecret:E}=f;if(!w||!E)return null;try{return v.credential(w,E)}catch{return null}}}return v.TWITTER_SIGN_IN_METHOD="twitter.com",v.PROVIDER_ID="twitter.com",v})();function li(v,p){return Di.apply(this,arguments)}function Di(){return(Di=(0,s.Z)(function*(v,p){return ki(v,"POST","/v1/accounts:signUp",Bt(v,p))})).apply(this,arguments)}class Hi{constructor(p){this.user=p.user,this.providerId=p.providerId,this._tokenResponse=p._tokenResponse,this.operationType=p.operationType}static _fromIdTokenResponse(p,f,w,E=!1){return(0,s.Z)(function*(){const I=yield at._fromIdTokenResponse(p,w,E),z=Zi(w);return new Hi({user:I,providerId:z,_tokenResponse:w,operationType:f})})()}static _forOperation(p,f,w){return(0,s.Z)(function*(){yield p._updateTokensIfNecessary(w,!0);const E=Zi(w);return new Hi({user:p,providerId:E,_tokenResponse:w,operationType:f})})()}}function Zi(v){return v.providerId?v.providerId:"phoneNumber"in v?"phone":null}function xs(){return(xs=(0,s.Z)(function*(v){var p;const f=Zt(v);if(yield f._initializationPromise,null!==(p=f.currentUser)&&void 0!==p&&p.isAnonymous)return new Hi({user:f.currentUser,providerId:null,operationType:"signIn"});const w=yield li(f,{returnSecureToken:!0}),E=yield Hi._fromIdTokenResponse(f,"signIn",w,!0);return yield f._updateCurrentUser(E.user),E})).apply(this,arguments)}class ji extends N.ZR{constructor(p,f,w,E){var I;super(f.code,f.message),this.operationType=w,this.user=E,Object.setPrototypeOf(this,ji.prototype),this.customData={appName:p.name,tenantId:null!==(I=p.tenantId)&&void 0!==I?I:void 0,_serverResponse:f.customData._serverResponse,operationType:w}}static _fromErrorAndOperation(p,f,w,E){return new ji(p,f,w,E)}}function Ys(v,p,f,w){return("reauthenticate"===p?f._getReauthenticationResolver(v):f._getIdTokenResponse(v)).catch(I=>{throw"auth/multi-factor-auth-required"===I.code?ji._fromErrorAndOperation(v,I,p,w):I})}function In(v){return new Set(v.map(({providerId:p})=>p).filter(p=>!!p))}function dc(){return dc=(0,s.Z)(function*(v,p){const f=(0,N.m9)(v);yield or(!0,f,p);const{providerUserInfo:w}=yield function Gn(v,p){return $n.apply(this,arguments)}(f.auth,{idToken:yield f.getIdToken(),deleteProvider:[p]}),E=In(w||[]);return f.providerData=f.providerData.filter(I=>E.has(I.providerId)),E.has("phone")||(f.phoneNumber=null),yield f.auth._persistUserIfCurrent(f),f}),dc.apply(this,arguments)}function nh(v,p){return qs.apply(this,arguments)}function qs(){return(qs=(0,s.Z)(function*(v,p,f=!1){const w=yield Et(v,p._linkToIdToken(v.auth,yield v.getIdToken()),f);return Hi._forOperation(v,"link",w)})).apply(this,arguments)}function or(v,p,f){return rh.apply(this,arguments)}function rh(){return(rh=(0,s.Z)(function*(v,p,f){yield Xi(p);const E=!1===v?"provider-already-linked":"no-such-provider";Y(In(p.providerData).has(f)===v,p.auth,E)})).apply(this,arguments)}function cl(v,p){return Pp.apply(this,arguments)}function Pp(){return(Pp=(0,s.Z)(function*(v,p,f=!1){const{auth:w}=v,E="reauthenticate";try{const I=yield Et(v,Ys(w,E,p,v),f);Y(I.idToken,w,"internal-error");const z=tr(I.idToken);Y(z,w,"internal-error");const{sub:ee}=z;return Y(v.uid===ee,w,"user-mismatch"),Hi._forOperation(v,E,I)}catch(I){throw"auth/user-not-found"===I?.code&&xe(w,"user-mismatch"),I}})).apply(this,arguments)}function Cs(v,p){return xd.apply(this,arguments)}function xd(){return(xd=(0,s.Z)(function*(v,p,f=!1){const w="signIn",E=yield Ys(v,w,p),I=yield Hi._fromIdTokenResponse(v,w,E);return f||(yield v._updateCurrentUser(I.user)),I})).apply(this,arguments)}function uc(v,p){return Kt.apply(this,arguments)}function Kt(){return(Kt=(0,s.Z)(function*(v,p){return Cs(Zt(v),p)})).apply(this,arguments)}function Fp(v,p){return Np.apply(this,arguments)}function Np(){return(Np=(0,s.Z)(function*(v,p){const f=(0,N.m9)(v);return yield or(!1,f,p.providerId),nh(f,p)})).apply(this,arguments)}function Lp(v,p){return oh.apply(this,arguments)}function oh(){return(oh=(0,s.Z)(function*(v,p){return cl((0,N.m9)(v),p)})).apply(this,arguments)}function sh(){return(sh=(0,s.Z)(function*(v,p){return ki(v,"POST","/v1/accounts:signInWithCustomToken",Bt(v,p))})).apply(this,arguments)}function dn(){return dn=(0,s.Z)(function*(v,p){const f=Zt(v),w=yield function L_(v,p){return sh.apply(this,arguments)}(f,{token:p,returnSecureToken:!0}),E=yield Hi._fromIdTokenResponse(f,"signIn",w);return yield f._updateCurrentUser(E.user),E}),dn.apply(this,arguments)}class Ae{constructor(p,f){this.factorId=p,this.uid=f.mfaEnrollmentId,this.enrollmentTime=new Date(f.enrolledAt).toUTCString(),this.displayName=f.displayName}static _fromServerResponse(p,f){return"phoneInfo"in f?Ei._fromServerResponse(p,f):"totpInfo"in f?ah._fromServerResponse(p,f):xe(p,"internal-error")}}class Ei extends Ae{constructor(p){super("phone",p),this.phoneNumber=p.phoneInfo}static _fromServerResponse(p,f){return new Ei(f)}}class ah extends Ae{constructor(p){super("totp",p)}static _fromServerResponse(p,f){return new ah(f)}}function hc(v,p,f){var w;Y((null===(w=f.url)||void 0===w?void 0:w.length)>0,v,"invalid-continue-uri"),Y(typeof f.dynamicLinkDomain>"u"||f.dynamicLinkDomain.length>0,v,"invalid-dynamic-link-domain"),p.continueUrl=f.url,p.dynamicLinkDomain=f.dynamicLinkDomain,p.canHandleCodeInApp=f.handleCodeInApp,f.iOS&&(Y(f.iOS.bundleId.length>0,v,"missing-ios-bundle-id"),p.iOSBundleId=f.iOS.bundleId),f.android&&(Y(f.android.packageName.length>0,v,"missing-android-pkg-name"),p.androidInstallApp=f.android.installApp,p.androidMinimumVersionCode=f.android.minimumVersion,p.androidPackageName=f.android.packageName)}function ch(){return ch=(0,s.Z)(function*(v,p,f){var w;const E=Zt(v),I={requestType:"PASSWORD_RESET",email:p,clientType:"CLIENT_TYPE_WEB"};if(null!==(w=E._getRecaptchaConfig())&&void 0!==w&&w.emailPasswordEnabled){const z=yield kn(E,I,"getOobCode",!0);f&&hc(E,z,f),yield cc(E,z)}else f&&hc(E,I,f),yield cc(E,I).catch(function(){var z=(0,s.Z)(function*(ee){if("auth/missing-recaptcha-token"!==ee.code)return Promise.reject(ee);{console.log("Password resets are protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the password reset flow.");const Re=yield kn(E,I,"getOobCode",!0);f&&hc(E,Re,f),yield cc(E,Re)}});return function(ee){return z.apply(this,arguments)}}())}),ch.apply(this,arguments)}function Ao(){return(Ao=(0,s.Z)(function*(v,p,f){yield ko((0,N.m9)(v),{oobCode:p,newPassword:f})})).apply(this,arguments)}function Cd(){return Cd=(0,s.Z)(function*(v,p){yield function xa(v,p){return Mo.apply(this,arguments)}((0,N.m9)(v),{oobCode:p})}),Cd.apply(this,arguments)}function lh(v,p){return Vp.apply(this,arguments)}function Vp(){return(Vp=(0,s.Z)(function*(v,p){const f=(0,N.m9)(v),w=yield ko(f,{oobCode:p}),E=w.requestType;switch(Y(E,f,"internal-error"),E){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":Y(w.newEmail,f,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":Y(w.mfaInfo,f,"internal-error");default:Y(w.email,f,"internal-error")}let I=null;return w.mfaInfo&&(I=Ae._fromServerResponse(Zt(f),w.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===w.requestType?w.newEmail:w.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===w.requestType?w.email:w.newEmail)||null,multiFactorInfo:I},operation:E}})).apply(this,arguments)}function Vn(){return(Vn=(0,s.Z)(function*(v,p){const{data:f}=yield lh((0,N.m9)(v),p);return f.email})).apply(this,arguments)}function dh(){return dh=(0,s.Z)(function*(v,p,f){var w;const E=Zt(v),I={returnSecureToken:!0,email:p,password:f,clientType:"CLIENT_TYPE_WEB"};let z;if(null!==(w=E._getRecaptchaConfig())&&void 0!==w&&w.emailPasswordEnabled){const Xe=yield kn(E,I,"signUpPassword");z=li(E,Xe)}else z=li(E,I).catch(function(){var Xe=(0,s.Z)(function*(gt){if("auth/missing-recaptcha-token"===gt.code){console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow.");const ht=yield kn(E,I,"signUpPassword");return li(E,ht)}return Promise.reject(gt)});return function(gt){return Xe.apply(this,arguments)}}());const ee=yield z.catch(Xe=>Promise.reject(Xe)),Re=yield Hi._fromIdTokenResponse(E,"signIn",ee);return yield E._updateCurrentUser(Re.user),Re}),dh.apply(this,arguments)}function Dd(){return Dd=(0,s.Z)(function*(v,p,f){var w;const E=Zt(v),I={requestType:"EMAIL_SIGNIN",email:p,clientType:"CLIENT_TYPE_WEB"};function z(ee,Re){Y(Re.handleCodeInApp,E,"argument-error"),Re&&hc(E,ee,Re)}if(null!==(w=E._getRecaptchaConfig())&&void 0!==w&&w.emailPasswordEnabled){const ee=yield kn(E,I,"getOobCode",!0);z(ee,f),yield ys(E,ee)}else z(I,f),yield ys(E,I).catch(function(){var ee=(0,s.Z)(function*(Re){if("auth/missing-recaptcha-token"!==Re.code)return Promise.reject(Re);{console.log("Email link sign-in is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const Xe=yield kn(E,I,"getOobCode",!0);z(Xe,f),yield ys(E,Xe)}});return function(Re){return ee.apply(this,arguments)}}())}),Dd.apply(this,arguments)}function uh(){return(uh=(0,s.Z)(function*(v,p,f){const w=(0,N.m9)(v),E=lc.credentialWithLink(p,f||Pt());return Y(E._tenantId===(w.tenantId||null),w,"tenant-id-mismatch"),uc(w,E)})).apply(this,arguments)}function kd(){return(kd=(0,s.Z)(function*(v,p){return ot(v,"POST","/v1/accounts:createAuthUri",Bt(v,p))})).apply(this,arguments)}function Md(){return Md=(0,s.Z)(function*(v,p){const w={identifier:p,continueUri:et()?Pt():"http://localhost"},{signinMethods:E}=yield function Ed(v,p){return kd.apply(this,arguments)}((0,N.m9)(v),w);return E||[]}),Md.apply(this,arguments)}function hh(){return hh=(0,s.Z)(function*(v,p){const f=(0,N.m9)(v),E={requestType:"VERIFY_EMAIL",idToken:yield v.getIdToken()};p&&hc(f.auth,E,p);const{email:I}=yield function Ap(v,p){return Ca.apply(this,arguments)}(f.auth,E);I!==v.email&&(yield v.reload())}),hh.apply(this,arguments)}function mh(){return mh=(0,s.Z)(function*(v,p,f){const w=(0,N.m9)(v),I={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield v.getIdToken(),newEmail:p};f&&hc(w.auth,I,f);const{email:z}=yield function nr(v,p){return gd.apply(this,arguments)}(w.auth,I);z!==v.email&&(yield v.reload())}),mh.apply(this,arguments)}function ph(){return(ph=(0,s.Z)(function*(v,p){return ot(v,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function ul(){return ul=(0,s.Z)(function*(v,{displayName:p,photoURL:f}){if(void 0===p&&void 0===f)return;const w=(0,N.m9)(v),I={idToken:yield w.getIdToken(),displayName:p,photoUrl:f,returnSecureToken:!0},z=yield Et(w,function U_(v,p){return ph.apply(this,arguments)}(w.auth,I));w.displayName=z.displayName||null,w.photoURL=z.photoUrl||null;const ee=w.providerData.find(({providerId:Re})=>"password"===Re);ee&&(ee.displayName=w.displayName,ee.photoURL=w.photoURL),yield w._updateTokensIfNecessary(z)}),ul.apply(this,arguments)}function yr(v,p,f){return Ws.apply(this,arguments)}function Ws(){return(Ws=(0,s.Z)(function*(v,p,f){const{auth:w}=v,I={idToken:yield v.getIdToken(),returnSecureToken:!0};p&&(I.email=p),f&&(I.password=f);const z=yield Et(v,$s(w,I));yield v._updateTokensIfNecessary(z,!0)})).apply(this,arguments)}class mc{constructor(p,f,w={}){this.isNewUser=p,this.providerId=f,this.profile=w}}class G_ extends mc{constructor(p,f,w,E){super(p,f,w),this.username=E}}class $_ extends mc{constructor(p,f){super(p,"facebook.com",f)}}class J0 extends G_{constructor(p,f){super(p,"github.com",f,"string"==typeof f?.login?f?.login:null)}}class ew extends mc{constructor(p,f){super(p,"google.com",f)}}class tw extends G_{constructor(p,f,w){super(p,"twitter.com",f,w)}}function fh(v){const{user:p,_tokenResponse:f}=v;return p.isAnonymous&&!f?{providerId:null,isNewUser:!1,profile:null}:function _n(v){var p,f;if(!v)return null;const{providerId:w}=v,E=v.rawUserInfo?JSON.parse(v.rawUserInfo):{},I=v.isNewUser||"identitytoolkit#SignupNewUserResponse"===v.kind;if(!w&&v?.idToken){const z=null===(f=null===(p=tr(v.idToken))||void 0===p?void 0:p.firebase)||void 0===f?void 0:f.sign_in_provider;if(z)return new mc(I,"anonymous"!==z&&"custom"!==z?z:null)}if(!w)return null;switch(w){case"facebook.com":return new $_(I,E);case"github.com":return new J0(I,E);case"google.com":return new ew(I,E);case"twitter.com":return new tw(I,E,v.screenName||null);case"custom":case"anonymous":return new mc(I,null);default:return new mc(I,w,E)}}(f)}class fc{constructor(p,f,w){this.type=p,this.credential=f,this.auth=w}static _fromIdtoken(p,f){return new fc("enroll",p,f)}static _fromMfaPendingCredential(p){return new fc("signin",p)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(p){var f,w;if(p?.multiFactorSession){if(null!==(f=p.multiFactorSession)&&void 0!==f&&f.pendingCredential)return fc._fromMfaPendingCredential(p.multiFactorSession.pendingCredential);if(null!==(w=p.multiFactorSession)&&void 0!==w&&w.idToken)return fc._fromIdtoken(p.multiFactorSession.idToken)}return null}}class _h{constructor(p,f,w){this.session=p,this.hints=f,this.signInResolver=w}static _fromError(p,f){const w=Zt(p),E=f.customData._serverResponse,I=(E.mfaInfo||[]).map(ee=>Ae._fromServerResponse(w,ee));Y(E.mfaPendingCredential,w,"internal-error");const z=fc._fromMfaPendingCredential(E.mfaPendingCredential);return new _h(z,I,function(){var ee=(0,s.Z)(function*(Re){const Xe=yield Re._process(w,z);delete E.mfaInfo,delete E.mfaPendingCredential;const gt=Object.assign(Object.assign({},E),{idToken:Xe.idToken,refreshToken:Xe.refreshToken});switch(f.operationType){case"signIn":const ht=yield Hi._fromIdTokenResponse(w,f.operationType,gt);return yield w._updateCurrentUser(ht.user),ht;case"reauthenticate":return Y(f.user,w,"internal-error"),Hi._forOperation(f.user,f.operationType,gt);default:xe(w,"internal-error")}});return function(Re){return ee.apply(this,arguments)}}())}resolveSignIn(p){var f=this;return(0,s.Z)(function*(){return f.signInResolver(p)})()}}class Ds{constructor(p){this.user=p,this.enrolledFactors=[],p._onReload(f=>{f.mfaInfo&&(this.enrolledFactors=f.mfaInfo.map(w=>Ae._fromServerResponse(p.auth,w)))})}static _fromUser(p){return new Ds(p)}getSession(){var p=this;return(0,s.Z)(function*(){return fc._fromIdtoken(yield p.user.getIdToken(),p.user.auth)})()}enroll(p,f){var w=this;return(0,s.Z)(function*(){const E=p,I=yield w.getSession(),z=yield Et(w.user,E._process(w.user.auth,I,f));return yield w.user._updateTokensIfNecessary(z),w.user.reload()})()}unenroll(p){var f=this;return(0,s.Z)(function*(){const w="string"==typeof p?p:p.uid,E=yield f.user.getIdToken();try{const I=yield Et(f.user,function Td(v,p){return ot(v,"POST","/v2/accounts/mfaEnrollment:withdraw",Bt(v,p))}(f.user.auth,{idToken:E,mfaEnrollmentId:w}));f.enrolledFactors=f.enrolledFactors.filter(({uid:z})=>z!==w),yield f.user._updateTokensIfNecessary(I),yield f.user.reload()}catch(I){throw I}})()}}const pl=new WeakMap,Ta="__sak";class jp{constructor(p,f){this.storageRetriever=p,this.type=f}_isAvailable(){try{return this.storage?(this.storage.setItem(Ta,"1"),this.storage.removeItem(Ta),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(p,f){return this.storage.setItem(p,JSON.stringify(f)),Promise.resolve()}_get(p){const f=this.storage.getItem(p);return Promise.resolve(f?JSON.parse(f):null)}_remove(p){return this.storage.removeItem(p),Promise.resolve()}get storage(){return this.storageRetriever()}}const _c=(()=>{class v extends jp{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(f,w)=>this.onStorageEvent(f,w),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function Ad(){const v=(0,N.z$)();return te(v)||Ti(v)}()&&function Q(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=vr(),this._shouldAllowMigration=!0}forAllChangedKeys(f){for(const w of Object.keys(this.listeners)){const E=this.storage.getItem(w),I=this.localCache[w];E!==I&&f(w,I,E)}}onStorageEvent(f,w=!1){if(!f.key)return void this.forAllChangedKeys((ee,Re,Xe)=>{this.notifyListeners(ee,Xe)});const E=f.key;if(w?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const ee=this.storage.getItem(E);if(f.newValue!==ee)null!==f.newValue?this.storage.setItem(E,f.newValue):this.storage.removeItem(E);else if(this.localCache[E]===f.newValue&&!w)return}const I=()=>{const ee=this.storage.getItem(E);!w&&this.localCache[E]===ee||this.notifyListeners(E,ee)},z=this.storage.getItem(E);!function Wr(){return(0,N.w1)()&&10===document.documentMode}()||z===f.newValue||f.newValue===f.oldValue?I():setTimeout(I,10)}notifyListeners(f,w){this.localCache[f]=w;const E=this.listeners[f];if(E)for(const I of Array.from(E))I(w&&JSON.parse(w))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((f,w,E)=>{this.onStorageEvent(new StorageEvent("storage",{key:f,oldValue:w,newValue:E}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(f,w){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[f]||(this.listeners[f]=new Set,this.localCache[f]=this.storage.getItem(f)),this.listeners[f].add(w)}_removeListener(f,w){this.listeners[f]&&(this.listeners[f].delete(w),0===this.listeners[f].size&&delete this.listeners[f]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(f,w){var E=()=>super._set,I=this;return(0,s.Z)(function*(){yield E().call(I,f,w),I.localCache[f]=JSON.stringify(w)})()}_get(f){var w=()=>super._get,E=this;return(0,s.Z)(function*(){const I=yield w().call(E,f);return E.localCache[f]=JSON.stringify(I),I})()}_remove(f){var w=()=>super._remove,E=this;return(0,s.Z)(function*(){yield w().call(E,f),delete E.localCache[f]})()}}return v.type="LOCAL",v})(),Ro=(()=>{class v extends jp{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(f,w){}_removeListener(f,w){}}return v.type="SESSION",v})();let W_=(()=>{class v{constructor(f){this.eventTarget=f,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(f){const w=this.receivers.find(I=>I.isListeningto(f));if(w)return w;const E=new v(f);return this.receivers.push(E),E}isListeningto(f){return this.eventTarget===f}handleEvent(f){var w=this;return(0,s.Z)(function*(){const E=f,{eventId:I,eventType:z,data:ee}=E.data,Re=w.handlersMap[z];if(!Re?.size)return;E.ports[0].postMessage({status:"ack",eventId:I,eventType:z});const Xe=Array.from(Re).map(function(){var ht=(0,s.Z)(function*(an){return an(E.origin,ee)});return function(an){return ht.apply(this,arguments)}}()),gt=yield function co(v){return Promise.all(v.map(function(){var p=(0,s.Z)(function*(f){try{return{fulfilled:!0,value:yield f}}catch(w){return{fulfilled:!1,reason:w}}});return function(f){return p.apply(this,arguments)}}()))}(Xe);E.ports[0].postMessage({status:"done",eventId:I,eventType:z,response:gt})})()}_subscribe(f,w){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[f]||(this.handlersMap[f]=new Set),this.handlersMap[f].add(w)}_unsubscribe(f,w){this.handlersMap[f]&&w&&this.handlersMap[f].delete(w),(!w||0===this.handlersMap[f].size)&&delete this.handlersMap[f],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return v.receivers=[],v})();function Es(v="",p=10){let f="";for(let w=0;w<p;w++)f+=Math.floor(10*Math.random());return v+f}class Pd{constructor(p){this.target=p,this.handlers=new Set}removeMessageHandler(p){p.messageChannel&&(p.messageChannel.port1.removeEventListener("message",p.onMessage),p.messageChannel.port1.close()),this.handlers.delete(p)}_send(p,f,w=50){var E=this;return(0,s.Z)(function*(){const I=typeof MessageChannel<"u"?new MessageChannel:null;if(!I)throw new Error("connection_unavailable");let z,ee;return new Promise((Re,Xe)=>{const gt=Es("",20);I.port1.start();const ht=setTimeout(()=>{Xe(new Error("unsupported_event"))},w);ee={messageChannel:I,onMessage(an){const Bo=an;if(Bo.data.eventId===gt)switch(Bo.data.status){case"ack":clearTimeout(ht),z=setTimeout(()=>{Xe(new Error("timeout"))},3e3);break;case"done":clearTimeout(z),Re(Bo.data.response);break;default:clearTimeout(ht),clearTimeout(z),Xe(new Error("invalid_response"))}}},E.handlers.add(ee),I.port1.addEventListener("message",ee.onMessage),E.target.postMessage({eventType:p,eventId:gt,data:f},[I.port2])}).finally(()=>{ee&&E.removeMessageHandler(ee)})})()}}function wn(){return window}function vc(){return typeof wn().WorkerGlobalScope<"u"&&"function"==typeof wn().importScripts}function gl(){return(gl=(0,s.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const wh="firebaseLocalStorageDb",xh=1,bc="firebaseLocalStorage",Aa="fbase_key";class yc{constructor(p){this.request=p}toPromise(){return new Promise((p,f)=>{this.request.addEventListener("success",()=>{p(this.request.result)}),this.request.addEventListener("error",()=>{f(this.request.error)})})}}function Fd(v,p){return v.transaction([bc],p?"readwrite":"readonly").objectStore(bc)}function Ks(){const v=indexedDB.open(wh,xh);return new Promise((p,f)=>{v.addEventListener("error",()=>{f(v.error)}),v.addEventListener("upgradeneeded",()=>{const w=v.result;try{w.createObjectStore(bc,{keyPath:Aa})}catch(E){f(E)}}),v.addEventListener("success",(0,s.Z)(function*(){const w=v.result;w.objectStoreNames.contains(bc)?p(w):(w.close(),yield function qp(){const v=indexedDB.deleteDatabase(wh);return new yc(v).toPromise()}(),p(yield Ks()))}))})}function Wp(v,p,f){return _l.apply(this,arguments)}function _l(){return(_l=(0,s.Z)(function*(v,p,f){const w=Fd(v,!0).put({[Aa]:p,value:f});return new yc(w).toPromise()})).apply(this,arguments)}function Nd(){return(Nd=(0,s.Z)(function*(v,p){const f=Fd(v,!1).get(p),w=yield new yc(f).toPromise();return void 0===w?null:w.value})).apply(this,arguments)}function Ld(v,p){const f=Fd(v,!0).delete(p);return new yc(f).toPromise()}const Oo=(()=>{class v{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var f=this;return(0,s.Z)(function*(){return f.db||(f.db=yield Ks()),f.db})()}_withRetries(f){var w=this;return(0,s.Z)(function*(){let E=0;for(;;)try{const I=yield w._openDb();return yield f(I)}catch(I){if(E++>3)throw I;w.db&&(w.db.close(),w.db=void 0)}})()}initializeServiceWorkerMessaging(){var f=this;return(0,s.Z)(function*(){return vc()?f.initializeReceiver():f.initializeSender()})()}initializeReceiver(){var f=this;return(0,s.Z)(function*(){f.receiver=W_._getInstance(function Yp(){return vc()?self:null}()),f.receiver._subscribe("keyChanged",function(){var w=(0,s.Z)(function*(E,I){return{keyProcessed:(yield f._poll()).includes(I.key)}});return function(E,I){return w.apply(this,arguments)}}()),f.receiver._subscribe("ping",function(){var w=(0,s.Z)(function*(E,I){return["keyChanged"]});return function(E,I){return w.apply(this,arguments)}}())})()}initializeSender(){var f=this;return(0,s.Z)(function*(){var w,E;if(f.activeServiceWorker=yield function Z_(){return gl.apply(this,arguments)}(),!f.activeServiceWorker)return;f.sender=new Pd(f.activeServiceWorker);const I=yield f.sender._send("ping",{},800);I&&null!==(w=I[0])&&void 0!==w&&w.fulfilled&&null!==(E=I[0])&&void 0!==E&&E.value.includes("keyChanged")&&(f.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(f){var w=this;return(0,s.Z)(function*(){if(w.sender&&w.activeServiceWorker&&function $p(){var v;return(null===(v=navigator?.serviceWorker)||void 0===v?void 0:v.controller)||null}()===w.activeServiceWorker)try{yield w.sender._send("keyChanged",{key:f},w.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,s.Z)(function*(){try{if(!indexedDB)return!1;const f=yield Ks();return yield Wp(f,Ta,"1"),yield Ld(f,Ta),!0}catch{}return!1})()}_withPendingWrite(f){var w=this;return(0,s.Z)(function*(){w.pendingWrites++;try{yield f()}finally{w.pendingWrites--}})()}_set(f,w){var E=this;return(0,s.Z)(function*(){return E._withPendingWrite((0,s.Z)(function*(){return yield E._withRetries(I=>Wp(I,f,w)),E.localCache[f]=w,E.notifyServiceWorker(f)}))})()}_get(f){var w=this;return(0,s.Z)(function*(){const E=yield w._withRetries(I=>function Ch(v,p){return Nd.apply(this,arguments)}(I,f));return w.localCache[f]=E,E})()}_remove(f){var w=this;return(0,s.Z)(function*(){return w._withPendingWrite((0,s.Z)(function*(){return yield w._withRetries(E=>Ld(E,f)),delete w.localCache[f],w.notifyServiceWorker(f)}))})()}_poll(){var f=this;return(0,s.Z)(function*(){const w=yield f._withRetries(z=>{const ee=Fd(z,!1).getAll();return new yc(ee).toPromise()});if(!w)return[];if(0!==f.pendingWrites)return[];const E=[],I=new Set;for(const{fbase_key:z,value:ee}of w)I.add(z),JSON.stringify(f.localCache[z])!==JSON.stringify(ee)&&(f.notifyListeners(z,ee),E.push(z));for(const z of Object.keys(f.localCache))f.localCache[z]&&!I.has(z)&&(f.notifyListeners(z,null),E.push(z));return E})()}notifyListeners(f,w){this.localCache[f]=w;const E=this.listeners[f];if(E)for(const I of Array.from(E))I(w)}startPolling(){var f=this;this.stopPolling(),this.pollTimer=setInterval((0,s.Z)(function*(){return f._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(f,w){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[f]||(this.listeners[f]=new Set,this._get(f)),this.listeners[f].add(w)}_removeListener(f,w){this.listeners[f]&&(this.listeners[f].delete(w),0===this.listeners[f].size&&delete this.listeners[f]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return v.type="LOCAL",v})(),Li=1e12;class nw{constructor(p){this.auth=p,this.counter=Li,this._widgets=new Map}render(p,f){const w=this.counter;return this._widgets.set(w,new Zp(p,this.auth.name,f||{})),this.counter++,w}reset(p){var f;const w=p||Li;null===(f=this._widgets.get(w))||void 0===f||f.delete(),this._widgets.delete(w)}getResponse(p){var f;return(null===(f=this._widgets.get(p||Li))||void 0===f?void 0:f.getResponse())||""}execute(p){var f=this;return(0,s.Z)(function*(){var w;return null===(w=f._widgets.get(p||Li))||void 0===w||w.execute(),""})()}}class Zp{constructor(p,f,w){this.params=w,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const E="string"==typeof p?document.getElementById(p):p;Y(E,"argument-error",{appName:f}),this.container=E,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function X_(v){const p=[],f="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let w=0;w<v;w++)p.push(f.charAt(Math.floor(Math.random()*f.length)));return p.join("")}(50);const{callback:p,"expired-callback":f}=this.params;if(p)try{p(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,f)try{f()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const J_=Ht("rcb"),Fk=new Se(3e4,6e4);class rw{constructor(){var p;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(p=wn().grecaptcha)||void 0===p||!p.render)}load(p,f=""){return Y(function Hd(v){return v.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(v)}(f),p,"argument-error"),this.shouldResolveImmediately(f)&&ae(wn().grecaptcha)?Promise.resolve(wn().grecaptcha):new Promise((w,E)=>{const I=wn().setTimeout(()=>{E(be(p,"network-request-failed"))},Fk.get());wn()[J_]=()=>{wn().clearTimeout(I),delete wn()[J_];const ee=wn().grecaptcha;if(!ee||!ae(ee))return void E(be(p,"internal-error"));const Re=ee.render;ee.render=(Xe,gt)=>{const ht=Re(Xe,gt);return this.counter++,ht},this.hostLanguage=f,w(ee)},zt(`https://www.google.com/recaptcha/api.js??${(0,N.xO)({onload:J_,render:"explicit",hl:f})}`).catch(()=>{clearTimeout(I),E(be(p,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(p){var f;return!(null===(f=wn().grecaptcha)||void 0===f||!f.render)&&(p===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Lk{load(p){return(0,s.Z)(function*(){return new nw(p)})()}clearedOneInstance(){}}const ow="recaptcha",qn={theme:"light",type:"image"};class Kp{constructor(p,f=Object.assign({},qn),w){this.parameters=f,this.type=ow,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Zt(w),this.isInvisible="invisible"===this.parameters.size,Y(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const E="string"==typeof p?document.getElementById(p):p;Y(E,this.auth,"argument-error"),this.container=E,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Lk:new rw,this.validateStartingState()}verify(){var p=this;return(0,s.Z)(function*(){p.assertNotDestroyed();const f=yield p.render(),w=p.getAssertedRecaptcha();return w.getResponse(f)||new Promise(I=>{const z=ee=>{ee&&(p.tokenChangeListeners.delete(z),I(ee))};p.tokenChangeListeners.add(z),p.isInvisible&&w.execute(f)})})()}render(){try{this.assertNotDestroyed()}catch(p){return Promise.reject(p)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(p=>{throw this.renderPromise=null,p})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(p=>{this.container.removeChild(p)})}validateStartingState(){Y(!this.parameters.sitekey,this.auth,"argument-error"),Y(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),Y(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(p){return f=>{if(this.tokenChangeListeners.forEach(w=>w(f)),"function"==typeof p)p(f);else if("string"==typeof p){const w=wn()[p];"function"==typeof w&&w(f)}}}assertNotDestroyed(){Y(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var p=this;return(0,s.Z)(function*(){if(yield p.init(),!p.widgetId){let f=p.container;if(!p.isInvisible){const w=document.createElement("div");f.appendChild(w),f=w}p.widgetId=p.getAssertedRecaptcha().render(f,p.parameters)}return p.widgetId})()}init(){var p=this;return(0,s.Z)(function*(){Y(et()&&!vc(),p.auth,"internal-error"),yield function vl(){let v=null;return new Promise(p=>{"complete"!==document.readyState?(v=()=>p(),window.addEventListener("load",v)):p()}).catch(p=>{throw v&&window.removeEventListener("load",v),p})}(),p.recaptcha=yield p._recaptchaLoader.load(p.auth,p.auth.languageCode||void 0);const f=yield function ct(v){return ut.apply(this,arguments)}(p.auth);Y(f,p.auth,"internal-error"),p.parameters.sitekey=f})()}getAssertedRecaptcha(){return Y(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Qp{constructor(p,f){this.verificationId=p,this.onConfirmation=f}confirm(p){const f=Ia._fromVerification(this.verificationId,p);return this.onConfirmation(f)}}function Xs(){return(Xs=(0,s.Z)(function*(v,p,f){const w=Zt(v),E=yield Eh(w,p,(0,N.m9)(f));return new Qp(E,I=>uc(w,I))})).apply(this,arguments)}function bl(){return(bl=(0,s.Z)(function*(v,p,f){const w=(0,N.m9)(v);yield or(!1,w,"phone");const E=yield Eh(w.auth,p,(0,N.m9)(f));return new Qp(E,I=>Fp(w,I))})).apply(this,arguments)}function yl(){return(yl=(0,s.Z)(function*(v,p,f){const w=(0,N.m9)(v),E=yield Eh(w.auth,p,(0,N.m9)(f));return new Qp(E,I=>Lp(w,I))})).apply(this,arguments)}function Eh(v,p,f){return zd.apply(this,arguments)}function zd(){return zd=(0,s.Z)(function*(v,p,f){var w;const E=yield f.verify();try{let I;if(Y("string"==typeof E,v,"argument-error"),Y(f.type===ow,v,"argument-error"),I="string"==typeof p?{phoneNumber:p}:p,"session"in I){const z=I.session;if("phoneNumber"in I)return Y("enroll"===z.type,v,"internal-error"),(yield function vh(v,p){return ot(v,"POST","/v2/accounts/mfaEnrollment:start",Bt(v,p))}(v,{idToken:z.credential,phoneEnrollmentInfo:{phoneNumber:I.phoneNumber,recaptchaToken:E}})).phoneSessionInfo.sessionInfo;{Y("signin"===z.type,v,"internal-error");const ee=(null===(w=I.multiFactorHint)||void 0===w?void 0:w.uid)||I.multiFactorUid;return Y(ee,v,"missing-multi-factor-info"),(yield function K_(v,p){return ot(v,"POST","/v2/accounts/mfaSignIn:start",Bt(v,p))}(v,{mfaPendingCredential:z.credential,mfaEnrollmentId:ee,phoneSignInInfo:{recaptchaToken:E}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:z}=yield function Rp(v,p){return th.apply(this,arguments)}(v,{phoneNumber:I.phoneNumber,recaptchaToken:E});return z}}finally{f._reset()}}),zd.apply(this,arguments)}function mi(){return(mi=(0,s.Z)(function*(v,p){yield nh((0,N.m9)(v),p)})).apply(this,arguments)}let lo=(()=>{class v{constructor(f){this.providerId=v.PROVIDER_ID,this.auth=Zt(f)}verifyPhoneNumber(f,w){return Eh(this.auth,f,(0,N.m9)(w))}static credential(f,w){return Ia._fromVerification(f,w)}static credentialFromResult(f){return v.credentialFromTaggedObject(f)}static credentialFromError(f){return v.credentialFromTaggedObject(f.customData||{})}static credentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{phoneNumber:w,temporaryProof:E}=f;return w&&E?Ia._fromTokenResponse(w,E):null}}return v.PROVIDER_ID="phone",v.PHONE_SIGN_IN_METHOD="phone",v})();function it(v,p){return p?Nt(p):(Y(v._popupRedirectResolver,v,"argument-error"),v._popupRedirectResolver)}class nt extends Eo{constructor(p){super("custom","custom"),this.params=p}_getIdTokenResponse(p){return ln(p,this._buildIdpRequest())}_linkToIdToken(p,f){return ln(p,this._buildIdpRequest(f))}_getReauthenticationResolver(p){return ln(p,this._buildIdpRequest())}_buildIdpRequest(p){const f={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return p&&(f.idToken=p),f}}function Tr(v){return Cs(v.auth,new nt(v),v.bypassAuthState)}function tv(v){const{auth:p,user:f}=v;return Y(f,p,"internal-error"),cl(f,new nt(v),v.bypassAuthState)}function wl(v){return vn.apply(this,arguments)}function vn(){return(vn=(0,s.Z)(function*(v){const{auth:p,user:f}=v;return Y(f,p,"internal-error"),nh(f,new nt(v),v.bypassAuthState)})).apply(this,arguments)}class Xp{constructor(p,f,w,E,I=!1){this.auth=p,this.resolver=w,this.user=E,this.bypassAuthState=I,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(f)?f:[f]}execute(){var p=this;return new Promise(function(){var f=(0,s.Z)(function*(w,E){p.pendingPromise={resolve:w,reject:E};try{p.eventManager=yield p.resolver._initialize(p.auth),yield p.onExecution(),p.eventManager.registerConsumer(p)}catch(I){p.reject(I)}});return function(w,E){return f.apply(this,arguments)}}())}onAuthEvent(p){var f=this;return(0,s.Z)(function*(){const{urlResponse:w,sessionId:E,postBody:I,tenantId:z,error:ee,type:Re}=p;if(ee)return void f.reject(ee);const Xe={auth:f.auth,requestUri:w,sessionId:E,tenantId:z||void 0,postBody:I||void 0,user:f.user,bypassAuthState:f.bypassAuthState};try{f.resolve(yield f.getIdpTask(Re)(Xe))}catch(gt){f.reject(gt)}})()}onError(p){this.reject(p)}getIdpTask(p){switch(p){case"signInViaPopup":case"signInViaRedirect":return Tr;case"linkViaPopup":case"linkViaRedirect":return wl;case"reauthViaPopup":case"reauthViaRedirect":return tv;default:xe(this.auth,"internal-error")}}resolve(p){Ye(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(p),this.unregisterAndCleanUp()}reject(p){Ye(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(p),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const iv=new Se(2e3,1e4);function xl(){return(xl=(0,s.Z)(function*(v,p,f){const w=Zt(v);Oe(v,p,Xo);const E=it(w,f);return new Pa(w,"signInViaPopup",p,E).executeNotNull()})).apply(this,arguments)}function wc(){return(wc=(0,s.Z)(function*(v,p,f){const w=(0,N.m9)(v);Oe(w.auth,p,Xo);const E=it(w.auth,f);return new Pa(w.auth,"reauthViaPopup",p,E,w).executeNotNull()})).apply(this,arguments)}function kt(){return(kt=(0,s.Z)(function*(v,p,f){const w=(0,N.m9)(v);Oe(w.auth,p,Xo);const E=it(w.auth,f);return new Pa(w.auth,"linkViaPopup",p,E,w).executeNotNull()})).apply(this,arguments)}let Pa=(()=>{class v extends Xp{constructor(f,w,E,I,z){super(f,w,I,z),this.provider=E,this.authWindow=null,this.pollId=null,v.currentPopupAction&&v.currentPopupAction.cancel(),v.currentPopupAction=this}executeNotNull(){var f=this;return(0,s.Z)(function*(){const w=yield f.execute();return Y(w,f.auth,"internal-error"),w})()}onExecution(){var f=this;return(0,s.Z)(function*(){Ye(1===f.filter.length,"Popup operations only handle one event");const w=Es();f.authWindow=yield f.resolver._openPopup(f.auth,f.provider,f.filter[0],w),f.authWindow.associatedEvent=w,f.resolver._originValidation(f.auth).catch(E=>{f.reject(E)}),f.resolver._isIframeWebStorageSupported(f.auth,E=>{E||f.reject(be(f.auth,"web-storage-unsupported"))}),f.pollUserCancellation()})()}get eventId(){var f;return(null===(f=this.authWindow)||void 0===f?void 0:f.associatedEvent)||null}cancel(){this.reject(be(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,v.currentPopupAction=null}pollUserCancellation(){const f=()=>{var w,E;this.pollId=null!==(E=null===(w=this.authWindow)||void 0===w?void 0:w.window)&&void 0!==E&&E.closed?window.setTimeout(()=>{this.pollId=null,this.reject(be(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(f,iv.get())};f()}}return v.currentPopupAction=null,v})();const rv="pendingRedirect",Js=new Map;class xc extends Xp{constructor(p,f,w=!1){super(p,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],f,void 0,w),this.eventId=null}execute(){var p=()=>super.execute,f=this;return(0,s.Z)(function*(){let w=Js.get(f.auth._key());if(!w){try{const I=(yield function rn(v,p){return jd.apply(this,arguments)}(f.resolver,f.auth))?yield p().call(f):null;w=()=>Promise.resolve(I)}catch(E){w=()=>Promise.reject(E)}Js.set(f.auth._key(),w)}return f.bypassAuthState||Js.set(f.auth._key(),()=>Promise.resolve(null)),w()})()}onAuthEvent(p){var f=()=>super.onAuthEvent,w=this;return(0,s.Z)(function*(){if("signInViaRedirect"===p.type)return f().call(w,p);if("unknown"!==p.type){if(p.eventId){const E=yield w.auth._redirectUserForId(p.eventId);if(E)return w.user=E,f().call(w,p);w.resolve(null)}}else w.resolve(null)})()}onExecution(){return(0,s.Z)(function*(){})()}cleanUp(){}}function jd(){return(jd=(0,s.Z)(function*(v,p){const f=El(p),w=Jp(v);if(!(yield w._isAvailable()))return!1;const E="true"===(yield w._get(f));return yield w._remove(f),E})).apply(this,arguments)}function Dl(v,p){return kh.apply(this,arguments)}function kh(){return(kh=(0,s.Z)(function*(v,p){return Jp(v)._set(El(p),"true")})).apply(this,arguments)}function Fo(v,p){Js.set(v._key(),p)}function Jp(v){return Nt(v._redirectPersistence)}function El(v){return V(rv,v.config.apiKey,v.name)}function Ms(v,p,f){return function kl(v,p,f){return ef.apply(this,arguments)}(v,p,f)}function ef(){return(ef=(0,s.Z)(function*(v,p,f){const w=Zt(v);Oe(v,p,Xo),yield w._initializationPromise;const E=it(w,f);return yield Dl(E,w),E._openRedirect(w,p,"signInViaRedirect")})).apply(this,arguments)}function uo(v,p,f){return function Cc(v,p,f){return No.apply(this,arguments)}(v,p,f)}function No(){return(No=(0,s.Z)(function*(v,p,f){const w=(0,N.m9)(v);Oe(w.auth,p,Xo),yield w.auth._initializationPromise;const E=it(w.auth,f);yield Dl(E,w.auth);const I=yield sn(w);return E._openRedirect(w.auth,p,"reauthViaRedirect",I)})).apply(this,arguments)}function xn(v,p,f){return function Sn(v,p,f){return Ml.apply(this,arguments)}(v,p,f)}function Ml(){return(Ml=(0,s.Z)(function*(v,p,f){const w=(0,N.m9)(v);Oe(w.auth,p,Xo),yield w.auth._initializationPromise;const E=it(w.auth,f);yield or(!1,w,p.providerId),yield Dl(E,w.auth);const I=yield sn(w);return E._openRedirect(w.auth,p,"linkViaRedirect",I)})).apply(this,arguments)}function on(){return(on=(0,s.Z)(function*(v,p){return yield Zt(v)._initializationPromise,Gi(v,p,!1)})).apply(this,arguments)}function Gi(v,p){return sr.apply(this,arguments)}function sr(){return(sr=(0,s.Z)(function*(v,p,f=!1){const w=Zt(v),E=it(w,p),z=yield new xc(w,E,f).execute();return z&&!f&&(delete z.user._redirectEventId,yield w._persistUserIfCurrent(z.user),yield w._setRedirectUser(null,p)),z})).apply(this,arguments)}function sn(v){return Hn.apply(this,arguments)}function Hn(){return(Hn=(0,s.Z)(function*(v){const p=Es(`${v.uid}:::`);return v._redirectEventId=p,yield v.auth._setRedirectUser(v),yield v.auth._persistUserIfCurrent(v),p})).apply(this,arguments)}class tf{constructor(p){this.auth=p,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(p){this.consumers.add(p),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,p)&&(this.sendToConsumer(this.queuedRedirectEvent,p),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(p){this.consumers.delete(p)}onEvent(p){if(this.hasEventBeenHandled(p))return!1;let f=!1;return this.consumers.forEach(w=>{this.isEventForConsumer(p,w)&&(f=!0,this.sendToConsumer(p,w),this.saveEventToCache(p))}),this.hasHandledPotentialRedirect||!function Na(v){switch(v.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return ho(v);default:return!1}}(p)||(this.hasHandledPotentialRedirect=!0,f||(this.queuedRedirectEvent=p,f=!0)),f}sendToConsumer(p,f){var w;if(p.error&&!ho(p)){const E=(null===(w=p.error.code)||void 0===w?void 0:w.split("auth/")[1])||"internal-error";f.onError(be(this.auth,E))}else f.onAuthEvent(p)}isEventForConsumer(p,f){const w=null===f.eventId||!!p.eventId&&p.eventId===f.eventId;return f.filter.includes(p.type)&&w}hasEventBeenHandled(p){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(ov(p))}saveEventToCache(p){this.cachedEventUids.add(ov(p)),this.lastProcessedEventTime=Date.now()}}function ov(v){return[v.type,v.eventId,v.sessionId,v.tenantId].filter(p=>p).join("-")}function ho({type:v,error:p}){return"unknown"===v&&"auth/no-auth-event"===p?.code}function bn(v){return es.apply(this,arguments)}function es(){return(es=(0,s.Z)(function*(v,p={}){return ot(v,"GET","/v1/projects",p)})).apply(this,arguments)}const sw=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,$d=/^https?/;function Il(){return(Il=(0,s.Z)(function*(v){if(v.config.emulator)return;const{authorizedDomains:p}=yield bn(v);for(const f of p)try{if(Ih(f))return}catch{}xe(v,"unauthorized-domain")})).apply(this,arguments)}function Ih(v){const p=Pt(),{protocol:f,hostname:w}=new URL(p);if(v.startsWith("chrome-extension://")){const z=new URL(v);return""===z.hostname&&""===w?"chrome-extension:"===f&&v.replace("chrome-extension://","")===p.replace("chrome-extension://",""):"chrome-extension:"===f&&z.hostname===w}if(!$d.test(f))return!1;if(sw.test(v))return w===v;const E=v.replace(/\./g,"\\.");return new RegExp("^(.+\\."+E+"|"+E+")$","i").test(w)}const Sh=new Se(3e4,6e4);function Ec(){const v=wn().___jsl;if(v?.H)for(const p of Object.keys(v.H))if(v.H[p].r=v.H[p].r||[],v.H[p].L=v.H[p].L||[],v.H[p].r=[...v.H[p].L],v.CP)for(let f=0;f<v.CP.length;f++)v.CP[f]=null}let ar=null;const kc=new Se(5e3,15e3),av="__/auth/iframe",nf="emulator/auth/iframe",mo={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},rf=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function sf(v){const p=v.config;Y(p.authDomain,v,"auth-domain-config-required");const f=p.emulator?Fe(p,nf):`https://${v.config.authDomain}/${av}`,w={apiKey:p.apiKey,appName:v.name,v:oe.SDK_VERSION},E=rf.get(v.config.apiHost);E&&(w.eid=E);const I=v._getFrameworks();return I.length&&(w.fw=I.join(",")),`${f}?${(0,N.xO)(w).slice(1)}`}function Th(){return Th=(0,s.Z)(function*(v){const p=yield function sv(v){return ar=ar||function ti(v){return new Promise((p,f)=>{var w,E,I;function z(){Ec(),gapi.load("gapi.iframes",{callback:()=>{p(gapi.iframes.getContext())},ontimeout:()=>{Ec(),f(be(v,"network-request-failed"))},timeout:Sh.get()})}if(null!==(E=null===(w=wn().gapi)||void 0===w?void 0:w.iframes)&&void 0!==E&&E.Iframe)p(gapi.iframes.getContext());else{if(null===(I=wn().gapi)||void 0===I||!I.load){const ee=Ht("iframefcb");return wn()[ee]=()=>{gapi.load?z():f(be(v,"network-request-failed"))},zt(`https://apis.google.com/js/api.js?onload=${ee}`).catch(Re=>f(Re))}z()}}).catch(p=>{throw ar=null,p})}(v),ar}(v),f=wn().gapi;return Y(f,v,"internal-error"),p.open({where:document.body,url:sf(v),messageHandlersFilter:f.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:mo,dontclear:!0},w=>new Promise(function(){var E=(0,s.Z)(function*(I,z){yield w.restyle({setHideOnLeave:!1});const ee=be(v,"network-request-failed"),Re=wn().setTimeout(()=>{z(ee)},kc.get());function Xe(){wn().clearTimeout(Re),I(w)}w.ping(Xe).then(Xe,()=>{z(ee)})});return function(I,z){return E.apply(this,arguments)}}()))}),Th.apply(this,arguments)}const cr={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},ea=500,lr=600,Ah="_blank",Rh="http://localhost";class Sl{constructor(p){this.window=p,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const cf="__/auth/handler",Oh="emulator/auth/handler",lf=encodeURIComponent("fac");function La(v,p,f,w,E,I){return ts.apply(this,arguments)}function ts(){return(ts=(0,s.Z)(function*(v,p,f,w,E,I){Y(v.config.authDomain,v,"auth-domain-config-required"),Y(v.config.apiKey,v,"invalid-api-key");const z={apiKey:v.config.apiKey,appName:v.name,authType:f,redirectUrl:w,v:oe.SDK_VERSION,eventId:E};if(p instanceof Xo){p.setDefaultLanguage(v.languageCode),z.providerId=p.providerId||"",(0,N.xb)(p.getCustomParameters())||(z.customParameters=JSON.stringify(p.getCustomParameters()));for(const[gt,ht]of Object.entries(I||{}))z[gt]=ht}if(p instanceof Sa){const gt=p.getScopes().filter(ht=>""!==ht);gt.length>0&&(z.scopes=gt.join(","))}v.tenantId&&(z.tid=v.tenantId);const ee=z;for(const gt of Object.keys(ee))void 0===ee[gt]&&delete ee[gt];const Re=yield v._getAppCheckToken(),Xe=Re?`#${lf}=${encodeURIComponent(Re)}`:"";return`${function pi({config:v}){return v.emulator?Fe(v,Oh):`https://${v.authDomain}/${cf}`}(v)}?${(0,N.xO)(ee).slice(1)}${Xe}`})).apply(this,arguments)}const Ba="webStorageSupport",ta=class df{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Ro,this._completeRedirectFn=Gi,this._overrideRedirectResult=Fo}_openPopup(p,f,w,E){var I=this;return(0,s.Z)(function*(){var z;Ye(null===(z=I.eventManagers[p._key()])||void 0===z?void 0:z.manager,"_initialize() not called before _openPopup()");const ee=yield La(p,f,w,Pt(),E);return function wr(v,p,f,w=ea,E=lr){const I=Math.max((window.screen.availHeight-E)/2,0).toString(),z=Math.max((window.screen.availWidth-w)/2,0).toString();let ee="";const Re=Object.assign(Object.assign({},cr),{width:w.toString(),height:E.toString(),top:I,left:z}),Xe=(0,N.z$)().toLowerCase();f&&(ee=st(Xe)?Ah:f),_e(Xe)&&(p=p||Rh,Re.scrollbars="yes");const gt=Object.entries(Re).reduce((an,[Bo,Lc])=>`${an}${Bo}=${Lc},`,"");if(function tn(v=(0,N.z$)()){var p;return Ti(v)&&!(null===(p=window.navigator)||void 0===p||!p.standalone)}(Xe)&&"_self"!==ee)return function Mc(v,p){const f=document.createElement("a");f.href=v,f.target=p;const w=document.createEvent("MouseEvent");w.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),f.dispatchEvent(w)}(p||"",ee),new Sl(null);const ht=window.open(p||"",ee,gt);Y(ht,v,"popup-blocked");try{ht.focus()}catch{}return new Sl(ht)}(p,ee,Es())})()}_openRedirect(p,f,w,E){var I=this;return(0,s.Z)(function*(){return yield I._originValidation(p),function fl(v){wn().location.href=v}(yield La(p,f,w,Pt(),E)),new Promise(()=>{})})()}_initialize(p){const f=p._key();if(this.eventManagers[f]){const{manager:E,promise:I}=this.eventManagers[f];return E?Promise.resolve(E):(Ye(I,"If manager is not set, promise should be"),I)}const w=this.initAndGetManager(p);return this.eventManagers[f]={promise:w},w.catch(()=>{delete this.eventManagers[f]}),w}initAndGetManager(p){var f=this;return(0,s.Z)(function*(){const w=yield function af(v){return Th.apply(this,arguments)}(p),E=new tf(p);return w.register("authEvent",I=>(Y(I?.authEvent,p,"invalid-auth-event"),{status:E.onEvent(I.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),f.eventManagers[p._key()]={manager:E},f.iframes[p._key()]=w,E})()}_isIframeWebStorageSupported(p,f){this.iframes[p._key()].send(Ba,{type:Ba},E=>{var I;const z=null===(I=E?.[0])||void 0===I?void 0:I[Ba];void 0!==z&&f(!!z),xe(p,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(p){const f=p._key();return this.originValidationPromises[f]||(this.originValidationPromises[f]=function Mh(v){return Il.apply(this,arguments)}(p)),this.originValidationPromises[f]}get _shouldInitProactively(){return vr()||te()||Ti()}};class cv{constructor(p){this.factorId=p}_process(p,f,w){switch(f.type){case"enroll":return this._finalizeEnroll(p,f.credential,w);case"signin":return this._finalizeSignIn(p,f.credential);default:return We("unexpected MultiFactorSessionType")}}}class Is extends cv{constructor(p){super("phone"),this.credential=p}static _fromCredential(p){return new Is(p)}_finalizeEnroll(p,f,w){return function q_(v,p){return ot(v,"POST","/v2/accounts/mfaEnrollment:finalize",Bt(v,p))}(p,{idToken:f,displayName:w,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(p,f){return function Dh(v,p){return ot(v,"POST","/v2/accounts/mfaSignIn:finalize",Bt(v,p))}(p,{mfaPendingCredential:f,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let Tl=(()=>{class v{constructor(){}static assertion(f){return Is._fromCredential(f)}}return v.FACTOR_ID="phone",v})();var Va="@firebase/auth";class qd{constructor(p){this.auth=p,this.internalListeners=new Map}getUid(){var p;return this.assertAuthConfigured(),(null===(p=this.auth.currentUser)||void 0===p?void 0:p.uid)||null}getToken(p){var f=this;return(0,s.Z)(function*(){return f.assertAuthConfigured(),yield f.auth._initializationPromise,f.auth.currentUser?{accessToken:yield f.auth.currentUser.getIdToken(p)}:null})()}addAuthTokenListener(p){if(this.assertAuthConfigured(),this.internalListeners.has(p))return;const f=this.auth.onIdTokenChanged(w=>{p(w?.stsTokenManager.accessToken||null)});this.internalListeners.set(p,f),this.updateProactiveRefresh()}removeAuthTokenListener(p){this.assertAuthConfigured();const f=this.internalListeners.get(p);f&&(this.internalListeners.delete(p),f(),this.updateProactiveRefresh())}assertAuthConfigured(){Y(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function Ha(){return window}(0,N.Pz)("authIdTokenMaxAge"),function Wd(v){(0,oe._registerComponent)(new ge.wA("auth",(p,{options:f})=>{const w=p.getProvider("app").getImmediate(),E=p.getProvider("heartbeat"),I=p.getProvider("app-check-internal"),{apiKey:z,authDomain:ee}=w.options;Y(z&&!z.includes(":"),"invalid-api-key",{appName:w.name}),Y(!ee?.includes(":"),"argument-error",{appName:w.name});const Re={apiKey:z,authDomain:ee,clientPlatform:v,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:ce(v)},Xe=new jt(w,E,I,Re);return function Ln(v,p){const f=p?.persistence||[],w=(Array.isArray(f)?f:[f]).map(Nt);p?.errorMap&&v._updateErrorMap(p.errorMap),v._initializeWithPersistence(w,p?.popupRedirectResolver)}(Xe,f),Xe},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((p,f,w)=>{p.getProvider("auth-internal").initialize()})),(0,oe._registerComponent)(new ge.wA("auth-internal",p=>{const f=Zt(p.getProvider("auth").getImmediate());return new qd(f)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,oe.registerVersion)(Va,"0.23.0",function Ss(v){switch(v){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(v)),(0,oe.registerVersion)(Va,"0.23.0","esm2017")}("Browser");const uv=2e3;function Nh(){return Nh=(0,s.Z)(function*(v,p,f){var w;const{BuildInfo:E}=Ha();Ye(p.sessionId,"AuthEvent did not contain a session ID");const I=yield function mv(v){return Ol.apply(this,arguments)}(p.sessionId),z={};return Ti()?z.ibi=E.packageName:wi()?z.apn=E.packageName:xe(v,"operation-not-supported-in-this-environment"),E.displayName&&(z.appDisplayName=E.displayName),z.sessionId=I,La(v,f,p.type,void 0,null!==(w=p.eventId)&&void 0!==w?w:void 0,z)}),Nh.apply(this,arguments)}function Ua(){return(Ua=(0,s.Z)(function*(v){const{BuildInfo:p}=Ha(),f={};Ti()?f.iosBundleId=p.packageName:wi()?f.androidPackageName=p.packageName:xe(v,"operation-not-supported-in-this-environment"),yield bn(v,f)})).apply(this,arguments)}function Ts(){return(Ts=(0,s.Z)(function*(v,p,f){const{cordova:w}=Ha();let E=()=>{};try{yield new Promise((I,z)=>{let ee=null;function Re(){var ht;I();const an=null===(ht=w.plugins.browsertab)||void 0===ht?void 0:ht.close;"function"==typeof an&&an(),"function"==typeof f?.close&&f.close()}function Xe(){ee||(ee=window.setTimeout(()=>{z(be(v,"redirect-cancelled-by-user"))},uv))}function gt(){"visible"===document?.visibilityState&&Xe()}p.addPassiveListener(Re),document.addEventListener("resume",Xe,!1),wi()&&document.addEventListener("visibilitychange",gt,!1),E=()=>{p.removePassiveListener(Re),document.removeEventListener("resume",Xe,!1),document.removeEventListener("visibilitychange",gt,!1),ee&&window.clearTimeout(ee)}})}finally{E()}})).apply(this,arguments)}function Ol(){return(Ol=(0,s.Z)(function*(v){const p=function ia(v){if(Ye(/[0-9a-zA-Z]+/.test(v),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(v);const p=new ArrayBuffer(v.length),f=new Uint8Array(p);for(let w=0;w<v.length;w++)f[w]=v.charCodeAt(w);return f}(v),f=yield crypto.subtle.digest("SHA-256",p);return Array.from(new Uint8Array(f)).map(E=>E.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}const hf=20;class Sc extends tf{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(p=>{this.resolveInialized=p})}addPassiveListener(p){this.passiveListeners.add(p)}removePassiveListener(p){this.passiveListeners.delete(p)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(p){return this.resolveInialized(),this.passiveListeners.forEach(f=>f(p)),super.onEvent(p)}initialized(){var p=this;return(0,s.Z)(function*(){yield p.initPromise})()}}function Tc(v){return Kd.apply(this,arguments)}function Kd(){return(Kd=(0,s.Z)(function*(v){const p=yield Qd()._get(Nl(v));return p&&(yield Qd()._remove(Nl(v))),p})).apply(this,arguments)}function za(){const v=[],p="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let f=0;f<hf;f++){const w=Math.floor(Math.random()*p.length);v.push(p.charAt(w))}return v.join("")}function Qd(){return Nt(_c)}function Nl(v){return V("authEvent",v.config.apiKey,v.name)}function As(v){if(!v?.includes("?"))return{};const[p,...f]=v.split("?");return(0,N.zd)(f.join("?"))}const Ll=class Uh{constructor(){this._redirectPersistence=Ro,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=Gi,this._overrideRedirectResult=Fo}_initialize(p){var f=this;return(0,s.Z)(function*(){const w=p._key();let E=f.eventManagers.get(w);return E||(E=new Sc(p),f.eventManagers.set(w,E),f.attachCallbackListeners(p,E)),E})()}_openPopup(p){xe(p,"operation-not-supported-in-this-environment")}_openRedirect(p,f,w,E){var I=this;return(0,s.Z)(function*(){!function Bh(v){var p,f,w,E,I,z,ee,Re,Xe,gt;const ht=Ha();Y("function"==typeof(null===(p=ht?.universalLinks)||void 0===p?void 0:p.subscribe),v,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),Y(typeof(null===(f=ht?.BuildInfo)||void 0===f?void 0:f.packageName)<"u",v,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),Y("function"==typeof(null===(I=null===(E=null===(w=ht?.cordova)||void 0===w?void 0:w.plugins)||void 0===E?void 0:E.browsertab)||void 0===I?void 0:I.openUrl),v,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Y("function"==typeof(null===(Re=null===(ee=null===(z=ht?.cordova)||void 0===z?void 0:z.plugins)||void 0===ee?void 0:ee.browsertab)||void 0===Re?void 0:Re.isAvailable),v,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Y("function"==typeof(null===(gt=null===(Xe=ht?.cordova)||void 0===Xe?void 0:Xe.InAppBrowser)||void 0===gt?void 0:gt.open),v,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(p);const z=yield I._initialize(p);yield z.initialized(),z.resetRedirect(),function Fa(){Js.clear()}(),yield I._originValidation(p);const ee=function Pl(v,p,f=null){return{type:p,eventId:f,urlResponse:null,sessionId:za(),postBody:null,tenantId:v.tenantId,error:be(v,"no-auth-event")}}(p,w,E);yield function Fl(v,p){return Qd()._set(Nl(v),p)}(p,ee);const Re=yield function hv(v,p,f){return Nh.apply(this,arguments)}(p,ee,f),Xe=yield function Rl(v){const{cordova:p}=Ha();return new Promise(f=>{p.plugins.browsertab.isAvailable(w=>{let E=null;w?p.plugins.browsertab.openUrl(v):E=p.InAppBrowser.open(v,function ri(v=(0,N.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(v)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(v)}()?"_blank":"_system","location=yes"),f(E)})})}(Re);return function Lh(v,p,f){return Ts.apply(this,arguments)}(p,z,Xe)})()}_isIframeWebStorageSupported(p,f){throw new Error("Method not implemented.")}_originValidation(p){const f=p._key();return this.originValidationPromises[f]||(this.originValidationPromises[f]=function uf(v){return Ua.apply(this,arguments)}(p)),this.originValidationPromises[f]}attachCallbackListeners(p,f){const{universalLinks:w,handleOpenURL:E,BuildInfo:I}=Ha(),z=setTimeout((0,s.Z)(function*(){yield Tc(p),f.onEvent(Jd())}),500),ee=function(){var gt=(0,s.Z)(function*(ht){clearTimeout(z);const an=yield Tc(p);let Bo=null;an&&ht?.url&&(Bo=function Vh(v,p){var f,w;const E=function Xd(v){const p=As(v),f=p.link?decodeURIComponent(p.link):void 0,w=As(f).link,E=p.deep_link_id?decodeURIComponent(p.deep_link_id):void 0;return As(E).link||E||w||f||v}(p);if(E.includes("/__/auth/callback")){const I=As(E),z=I.firebaseError?function Hh(v){try{return JSON.parse(v)}catch{return null}}(decodeURIComponent(I.firebaseError)):null,ee=null===(w=null===(f=z?.code)||void 0===f?void 0:f.split("auth/"))||void 0===w?void 0:w[1],Re=ee?be(ee):null;return Re?{type:v.type,eventId:v.eventId,tenantId:v.tenantId,error:Re,urlResponse:null,sessionId:null,postBody:null}:{type:v.type,eventId:v.eventId,tenantId:v.tenantId,sessionId:v.sessionId,urlResponse:E,postBody:null}}return null}(an,ht.url)),f.onEvent(Bo||Jd())});return function(an){return gt.apply(this,arguments)}}();typeof w<"u"&&"function"==typeof w.subscribe&&w.subscribe(null,ee);const Re=E,Xe=`${I.packageName.toLowerCase()}://`;Ha().handleOpenURL=function(){var gt=(0,s.Z)(function*(ht){if(ht.toLowerCase().startsWith(Xe)&&ee({url:ht}),"function"==typeof Re)try{Re(ht)}catch(an){console.error(an)}});return function(ht){return gt.apply(this,arguments)}}()}};function Jd(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:be("no-auth-event")}}const ns=1e3;function Ga(){var v;return(null===(v=self?.location)||void 0===v?void 0:v.protocol)||null}function Oc(v=(0,N.z$)()){return!("file:"!==Ga()&&"ionic:"!==Ga()&&"capacitor:"!==Ga()||!v.toLowerCase().match(/iphone|ipad|ipod|android/))}function pf(){try{const v=self.localStorage,p=Es();if(v)return v.setItem(p,"1"),v.removeItem(p),!function Fc(v=(0,N.z$)()){return function Pc(){return(0,N.w1)()&&11===document?.documentMode}()||function zh(v=(0,N.z$)()){return/Edge\/\d+/.test(v)}(v)}()||(0,N.hl)()}catch{return jh()&&(0,N.hl)()}return!1}function jh(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function ff(){return(function $a(){return"http:"===Ga()||"https:"===Ga()}()||(0,N.ru)()||Oc())&&!function Bl(){return(0,N.b$)()||(0,N.UG)()}()&&pf()&&!jh()}function gf(){return Oc()&&typeof document<"u"}function $h(){return($h=(0,s.Z)(function*(){return!!gf()&&new Promise(v=>{const p=setTimeout(()=>{v(!1)},ns);document.addEventListener("deviceready",()=>{clearTimeout(p),v(!0)})})})).apply(this,arguments)}const xr={LOCAL:"local",NONE:"none",SESSION:"session"},Ya=Y,eu="persistence";function tu(v){return Rs.apply(this,arguments)}function Rs(){return(Rs=(0,s.Z)(function*(v){yield v._initializationPromise;const p=bf(),f=V(eu,v.config.apiKey,v.name);p&&p.setItem(f,v._getPersistence())})).apply(this,arguments)}function bf(){var v;try{return(null===(v=function _f(){return typeof window<"u"?window:null}())||void 0===v?void 0:v.sessionStorage)||null}catch{return null}}const yf=Y;class rs{constructor(){this.browserResolver=Nt(ta),this.cordovaResolver=Nt(Ll),this.underlyingResolver=null,this._redirectPersistence=Ro,this._completeRedirectFn=Gi,this._overrideRedirectResult=Fo}_initialize(p){var f=this;return(0,s.Z)(function*(){return yield f.selectUnderlyingResolver(),f.assertedUnderlyingResolver._initialize(p)})()}_openPopup(p,f,w,E){var I=this;return(0,s.Z)(function*(){return yield I.selectUnderlyingResolver(),I.assertedUnderlyingResolver._openPopup(p,f,w,E)})()}_openRedirect(p,f,w,E){var I=this;return(0,s.Z)(function*(){return yield I.selectUnderlyingResolver(),I.assertedUnderlyingResolver._openRedirect(p,f,w,E)})()}_isIframeWebStorageSupported(p,f){this.assertedUnderlyingResolver._isIframeWebStorageSupported(p,f)}_originValidation(p){return this.assertedUnderlyingResolver._originValidation(p)}get _shouldInitProactively(){return gf()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return yf(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var p=this;return(0,s.Z)(function*(){if(p.underlyingResolver)return;const f=yield function Gh(){return $h.apply(this,arguments)}();p.underlyingResolver=f?p.cordovaResolver:p.browserResolver})()}}function iu(v){return v.unwrap()}function Lo(v){return Yh(v)}function Yh(v){const{_tokenResponse:p}=v instanceof N.ZR?v.customData:v;if(!p)return null;if(!(v instanceof N.ZR)&&"temporaryProof"in p&&"phoneNumber"in p)return lo.credentialFromResult(v);const f=p.providerId;if(!f||f===he.PASSWORD)return null;let w;switch(f){case he.GOOGLE:w=j;break;case he.FACEBOOK:w=P;break;case he.GITHUB:w=le;break;case he.TWITTER:w=Xt;break;default:const{oauthIdToken:E,oauthAccessToken:I,oauthTokenSecret:z,pendingToken:ee,nonce:Re}=p;return I||z||E||ee?ee?f.startsWith("saml.")?Ve._create(f,ee):To._fromParams({providerId:f,signInMethod:f,pendingToken:ee,idToken:E,accessToken:I}):new L(f).credential({idToken:E,accessToken:I,rawNonce:Re}):null}return v instanceof N.ZR?w.credentialFromError(v):w.credentialFromResult(v)}function Lr(v,p){return p.catch(f=>{throw f instanceof N.ZR&&function wf(v,p){var f;const w=null===(f=p.customData)||void 0===f?void 0:f._tokenResponse;if("auth/multi-factor-auth-required"===p?.code)p.resolver=new fv(v,function Sd(v,p){var f;const w=(0,N.m9)(v),E=p;return Y(p.customData.operationType,w,"argument-error"),Y(null===(f=E.customData._serverResponse)||void 0===f?void 0:f.mfaPendingCredential,w,"argument-error"),_h._fromError(w,E)}(v,p));else if(w){const E=Yh(p),I=p;E&&(I.credential=E,I.tenantId=w.tenantId||void 0,I.email=w.email||void 0,I.phoneNumber=w.phoneNumber||void 0)}}(v,f),f}).then(f=>{const E=f.user;return{operationType:f.operationType,credential:Lo(f),additionalUserInfo:fh(f),user:Kr.getOrCreate(E)}})}function na(v,p){return nu.apply(this,arguments)}function nu(){return(nu=(0,s.Z)(function*(v,p){const f=yield p;return{verificationId:f.verificationId,confirm:w=>Lr(v,f.confirm(w))}})).apply(this,arguments)}class fv{constructor(p,f){this.resolver=f,this.auth=function dr(v){return v.wrapped()}(p)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(p){return Lr(iu(this.auth),this.resolver.resolveSignIn(p))}}class Kr{constructor(p){this._delegate=p,this.multiFactor=function yh(v){const p=(0,N.m9)(v);return pl.has(p)||pl.set(p,Ds._fromUser(p)),pl.get(p)}(p)}static getOrCreate(p){return Kr.USER_MAP.has(p)||Kr.USER_MAP.set(p,new Kr(p)),Kr.USER_MAP.get(p)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(p){return this._delegate.getIdTokenResult(p)}getIdToken(p){return this._delegate.getIdToken(p)}linkAndRetrieveDataWithCredential(p){return this.linkWithCredential(p)}linkWithCredential(p){var f=this;return(0,s.Z)(function*(){return Lr(f.auth,Fp(f._delegate,p))})()}linkWithPhoneNumber(p,f){var w=this;return(0,s.Z)(function*(){return na(w.auth,function ev(v,p,f){return bl.apply(this,arguments)}(w._delegate,p,f))})()}linkWithPopup(p){var f=this;return(0,s.Z)(function*(){return Lr(f.auth,function ks(v,p,f){return kt.apply(this,arguments)}(f._delegate,p,rs))})()}linkWithRedirect(p){var f=this;return(0,s.Z)(function*(){return yield tu(Zt(f.auth)),xn(f._delegate,p,rs)})()}reauthenticateAndRetrieveDataWithCredential(p){return this.reauthenticateWithCredential(p)}reauthenticateWithCredential(p){var f=this;return(0,s.Z)(function*(){return Lr(f.auth,Lp(f._delegate,p))})()}reauthenticateWithPhoneNumber(p,f){return na(this.auth,function Ud(v,p,f){return yl.apply(this,arguments)}(this._delegate,p,f))}reauthenticateWithPopup(p){return Lr(this.auth,function Cl(v,p,f){return wc.apply(this,arguments)}(this._delegate,p,rs))}reauthenticateWithRedirect(p){var f=this;return(0,s.Z)(function*(){return yield tu(Zt(f.auth)),uo(f._delegate,p,rs)})()}sendEmailVerification(p){return function Q0(v,p){return hh.apply(this,arguments)}(this._delegate,p)}unlink(p){var f=this;return(0,s.Z)(function*(){return yield function gn(v,p){return dc.apply(this,arguments)}(f._delegate,p),f})()}updateEmail(p){return function X0(v,p){return yr((0,N.m9)(v),p,null)}(this._delegate,p)}updatePassword(p){return function j_(v,p){return yr((0,N.m9)(v),null,p)}(this._delegate,p)}updatePhoneNumber(p){return function Bk(v,p){return mi.apply(this,arguments)}(this._delegate,p)}updateProfile(p){return function z_(v,p){return ul.apply(this,arguments)}(this._delegate,p)}verifyBeforeUpdateEmail(p,f){return function Up(v,p,f){return mh.apply(this,arguments)}(this._delegate,p,f)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Kr.USER_MAP=new WeakMap;const Nc=Y;let ru=(()=>{class v{constructor(f,w){if(this.app=f,w.isInitialized())return this._delegate=w.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:E}=f.options;Nc(E,"invalid-api-key",{appName:f.name}),Nc(E,"invalid-api-key",{appName:f.name});const I=typeof window<"u"?rs:void 0;this._delegate=w.initialize({options:{persistence:Wh(E,f.name),popupRedirectResolver:I}}),this._delegate._updateErrorMap(Je),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Kr.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(f){this._delegate.languageCode=f}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(f){this._delegate.tenantId=f}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(f,w){!function vs(v,p,f){const w=Zt(v);Y(w._canInitEmulator,w,"emulator-config-failed"),Y(/^https?:\/\//.test(p),w,"invalid-emulator-scheme");const E=!!f?.disableWarnings,I=nn(p),{host:z,port:ee}=function ir(v){const p=nn(v),f=/(\/\/)?([^?#/]+)/.exec(v.substr(p.length));if(!f)return{host:"",port:null};const w=f[2].split("@").pop()||"",E=/^(\[[^\]]+\])(:|$)/.exec(w);if(E){const I=E[1];return{host:I,port:bs(w.substr(I.length+1))}}{const[I,z]=w.split(":");return{host:I,port:bs(z)}}}(p);w.config.emulator={url:`${I}//${z}${null===ee?"":`:${ee}`}/`},w.settings.appVerificationDisabledForTesting=!0,w.emulatorConfig=Object.freeze({host:z,port:ee,protocol:I.replace(":",""),options:Object.freeze({disableWarnings:E})}),E||function ai(){function v(){const p=document.createElement("p"),f=p.style;p.innerText="Running in emulator mode. Do not use with production credentials.",f.position="fixed",f.width="100%",f.backgroundColor="#ffffff",f.border=".1em solid #000000",f.color="#b50000",f.bottom="0px",f.left="0px",f.margin="0px",f.zIndex="10000",f.textAlign="center",p.classList.add("firebase-emulator-warning"),document.body.appendChild(p)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",v):v())}()}(this._delegate,f,w)}applyActionCode(f){return function Bp(v,p){return Cd.apply(this,arguments)}(this._delegate,f)}checkActionCode(f){return lh(this._delegate,f)}confirmPasswordReset(f,w){return function ll(v,p,f){return Ao.apply(this,arguments)}(this._delegate,f,w)}createUserWithEmailAndPassword(f,w){var E=this;return(0,s.Z)(function*(){return Lr(E._delegate,function Zr(v,p,f){return dh.apply(this,arguments)}(E._delegate,f,w))})()}fetchProvidersForEmail(f){return this.fetchSignInMethodsForEmail(f)}fetchSignInMethodsForEmail(f){return function H_(v,p){return Md.apply(this,arguments)}(this._delegate,f)}isSignInWithEmailLink(f){return function V_(v,p){return"EMAIL_SIGNIN"===al.parseLink(p)?.operation}(0,f)}getRedirectResult(){var f=this;return(0,s.Z)(function*(){Nc(ff(),f._delegate,"operation-not-supported-in-this-environment");const w=yield function Gd(v,p){return on.apply(this,arguments)}(f._delegate,rs);return w?Lr(f._delegate,Promise.resolve(w)):{credential:null,user:null}})()}addFrameworkForLogging(f){!function Ac(v,p){Zt(v)._logFramework(p)}(this._delegate,f)}onAuthStateChanged(f,w,E){const{next:I,error:z,complete:ee}=qh(f,w,E);return this._delegate.onAuthStateChanged(I,z,ee)}onIdTokenChanged(f,w,E){const{next:I,error:z,complete:ee}=qh(f,w,E);return this._delegate.onIdTokenChanged(I,z,ee)}sendSignInLinkToEmail(f,w){return function Jo(v,p,f){return Dd.apply(this,arguments)}(this._delegate,f,w)}sendPasswordResetEmail(f,w){return function br(v,p,f){return ch.apply(this,arguments)}(this._delegate,f,w||void 0)}setPersistence(f){var w=this;return(0,s.Z)(function*(){let E;switch(function vf(v,p){Ya(Object.values(xr).includes(p),v,"invalid-persistence-type"),(0,N.b$)()?Ya(p!==xr.SESSION,v,"unsupported-persistence-type"):(0,N.UG)()?Ya(p===xr.NONE,v,"unsupported-persistence-type"):jh()?Ya(p===xr.NONE||p===xr.LOCAL&&(0,N.hl)(),v,"unsupported-persistence-type"):Ya(p===xr.NONE||pf(),v,"unsupported-persistence-type")}(w._delegate,f),f){case xr.SESSION:E=Ro;break;case xr.LOCAL:E=(yield Nt(Oo)._isAvailable())?Oo:_c;break;case xr.NONE:E=Fi;break;default:return xe("argument-error",{appName:w._delegate.name})}return w._delegate.setPersistence(E)})()}signInAndRetrieveDataWithCredential(f){return this.signInWithCredential(f)}signInAnonymously(){return Lr(this._delegate,function Mn(v){return xs.apply(this,arguments)}(this._delegate))}signInWithCredential(f){return Lr(this._delegate,uc(this._delegate,f))}signInWithCustomToken(f){return Lr(this._delegate,function B_(v,p){return dn.apply(this,arguments)}(this._delegate,f))}signInWithEmailAndPassword(f,w){return Lr(this._delegate,function dl(v,p,f){return uc((0,N.m9)(v),lc.credential(p,f))}(this._delegate,f,w))}signInWithEmailLink(f,w){return Lr(this._delegate,function K0(v,p,f){return uh.apply(this,arguments)}(this._delegate,f,w))}signInWithPhoneNumber(f,w){return na(this._delegate,function Po(v,p,f){return Xs.apply(this,arguments)}(this._delegate,f,w))}signInWithPopup(f){var w=this;return(0,s.Z)(function*(){return Nc(ff(),w._delegate,"operation-not-supported-in-this-environment"),Lr(w._delegate,function nv(v,p,f){return xl.apply(this,arguments)}(w._delegate,f,rs))})()}signInWithRedirect(f){var w=this;return(0,s.Z)(function*(){return Nc(ff(),w._delegate,"operation-not-supported-in-this-environment"),yield tu(w._delegate),Ms(w._delegate,f,rs)})()}updateCurrentUser(f){return this._delegate.updateCurrentUser(f)}verifyPasswordResetCode(f){return function Hp(v,p){return Vn.apply(this,arguments)}(this._delegate,f)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return v.Persistence=xr,v})();function qh(v,p,f){let w=v;"function"!=typeof v&&({next:w,error:p,complete:f}=v);const E=w;return{next:z=>E(z&&Kr.getOrCreate(z)),error:p,complete:f}}function Wh(v,p){const f=function pv(v,p){const f=bf();if(!f)return[];const w=V(eu,v,p);switch(f.getItem(w)){case xr.NONE:return[Fi];case xr.LOCAL:return[Oo,Ro];case xr.SESSION:return[Ro];default:return[]}}(v,p);if(typeof self<"u"&&!f.includes(Oo)&&f.push(Oo),typeof window<"u")for(const w of[_c,Ro])f.includes(w)||f.push(w);return f.includes(Fi)||f.push(Fi),f}class ra{constructor(){this.providerId="phone",this._delegate=new lo(iu(J.Z.auth()))}static credential(p,f){return lo.credential(p,f)}verifyPhoneNumber(p,f){return this._delegate.verifyPhoneNumber(p,f)}unwrap(){return this._delegate}}ra.PHONE_SIGN_IN_METHOD=lo.PHONE_SIGN_IN_METHOD,ra.PROVIDER_ID=lo.PROVIDER_ID;const Os=Y;class Ps{constructor(p,f,w=J.Z.app()){var E;Os(null===(E=w.options)||void 0===E?void 0:E.apiKey,"invalid-api-key",{appName:w.name}),this._delegate=new Kp(p,f,w.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function Cf(v){v.INTERNAL.registerComponent(new ge.wA("auth-compat",p=>{const f=p.getProvider("app-compat").getImmediate(),w=p.getProvider("auth");return new ru(f,w)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:Z_EMAIL_SIGNIN,PASSWORD_RESET:Z_PASSWORD_RESET,RECOVER_EMAIL:Z_RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:Z_REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:Z_VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:Z_VERIFY_EMAIL}},EmailAuthProvider:lc,FacebookAuthProvider:P,GithubAuthProvider:le,GoogleAuthProvider:j,OAuthProvider:L,SAMLAuthProvider:Yt,PhoneAuthProvider:ra,PhoneMultiFactorGenerator:Tl,RecaptchaVerifier:Ps,TwitterAuthProvider:Xt,Auth:ru,AuthCredential:Eo,Error:N.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),v.registerVersion("@firebase/auth-compat","0.4.0")}(J.Z)},751:(Tt,Ie,R)=>{R.d(Ie,{KL:()=>Ti,LP:()=>ri,Gb:()=>st,ps:()=>vr});var s=R(5861),N=(R(2833),R(4859)),oe=R(8766),re=R(2090),K=R(9681);const ge="/firebase-messaging-sw.js",ve="/firebase-cloud-messaging-push-scope",he="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",U="https://fcmregistrations.googleapis.com/v1",G="google.c.a.c_id",Z="google.c.a.c_l",Ke="google.c.a.ts",ye="google.c.a.e";var tt=(()=>{return(Q=tt||(tt={})).PUSH_RECEIVED="push-received",Q.NOTIFICATION_CLICKED="notification-clicked",tt;var Q})();function me(Q){const ce=new Uint8Array(Q);return btoa(String.fromCharCode(...ce)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Me(Q){const ct=(Q+"=".repeat((4-Q.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),ut=atob(ct),Wt=new Uint8Array(ut.length);for(let $=0;$<ut.length;++$)Wt[$]=ut.charCodeAt($);return Wt}const Te="fcm_token_details_db",He=5,Le="fcm_token_object_Store";function be(){return be=(0,s.Z)(function*(Q){if("databases"in indexedDB&&!(yield indexedDB.databases()).map($=>$.name).includes(Te))return null;let ce=null;return(yield(0,oe.X3)(Te,He,{upgrade:(ut=(0,s.Z)(function*(Wt,$,ae,Ne){var Ge;if($<2||!Wt.objectStoreNames.contains(Le))return;const Qt=Ne.objectStore(Le),zt=yield Qt.index("fcmSenderId").get(Q);if(yield Qt.clear(),zt)if(2===$){const Ht=zt;if(!Ht.auth||!Ht.p256dh||!Ht.endpoint)return;ce={token:Ht.fcmToken,createTime:null!==(Ge=Ht.createTime)&&void 0!==Ge?Ge:Date.now(),subscriptionOptions:{auth:Ht.auth,p256dh:Ht.p256dh,endpoint:Ht.endpoint,swScope:Ht.swScope,vapidKey:"string"==typeof Ht.vapidKey?Ht.vapidKey:me(Ht.vapidKey)}}}else if(3===$){const Ht=zt;ce={token:Ht.fcmToken,createTime:Ht.createTime,subscriptionOptions:{auth:me(Ht.auth),p256dh:me(Ht.p256dh),endpoint:Ht.endpoint,swScope:Ht.swScope,vapidKey:me(Ht.vapidKey)}}}else if(4===$){const Ht=zt;ce={token:Ht.fcmToken,createTime:Ht.createTime,subscriptionOptions:{auth:me(Ht.auth),p256dh:me(Ht.p256dh),endpoint:Ht.endpoint,swScope:Ht.swScope,vapidKey:me(Ht.vapidKey)}}}}),function($,ae,Ne,Ge){return ut.apply(this,arguments)})})).close(),yield(0,oe.Lj)(Te),yield(0,oe.Lj)("fcm_vapid_details_db"),yield(0,oe.Lj)("undefined"),function Qe(Q){if(!Q||!Q.subscriptionOptions)return!1;const{subscriptionOptions:ce}=Q;return"number"==typeof Q.createTime&&Q.createTime>0&&"string"==typeof Q.token&&Q.token.length>0&&"string"==typeof ce.auth&&ce.auth.length>0&&"string"==typeof ce.p256dh&&ce.p256dh.length>0&&"string"==typeof ce.endpoint&&ce.endpoint.length>0&&"string"==typeof ce.swScope&&ce.swScope.length>0&&"string"==typeof ce.vapidKey&&ce.vapidKey.length>0}(ce)?ce:null;var ut}),be.apply(this,arguments)}const Oe="firebase-messaging-database",ue=1,Y="firebase-messaging-store";let We=null;function Ye(){return We||(We=(0,oe.X3)(Oe,ue,{upgrade:(Q,ce)=>{0===ce&&Q.createObjectStore(Y)}})),We}function Pt(Q){return et.apply(this,arguments)}function et(){return et=(0,s.Z)(function*(Q){const ce=Fe(Q),ut=yield(yield Ye()).transaction(Y).objectStore(Y).get(ce);if(ut)return ut;{const Wt=yield function xe(Q){return be.apply(this,arguments)}(Q.appConfig.senderId);if(Wt)return yield se(Q,Wt),Wt}}),et.apply(this,arguments)}function se(Q,ce){return fe.apply(this,arguments)}function fe(){return(fe=(0,s.Z)(function*(Q,ce){const ct=Fe(Q),Wt=(yield Ye()).transaction(Y,"readwrite");return yield Wt.objectStore(Y).put(ce,ct),yield Wt.done,ce})).apply(this,arguments)}function Se(){return(Se=(0,s.Z)(function*(Q){const ce=Fe(Q),ut=(yield Ye()).transaction(Y,"readwrite");yield ut.objectStore(Y).delete(ce),yield ut.done})).apply(this,arguments)}function Fe({appConfig:Q}){return Q.appId}const Ze=new re.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function pt(Q,ce){return Bt.apply(this,arguments)}function Bt(){return(Bt=(0,s.Z)(function*(Q,ce){const ct=yield Oi(Q),ut=Yi(ce),Wt={method:"POST",headers:ct,body:JSON.stringify(ut)};let $;try{$=yield(yield fetch(ki(Q.appConfig),Wt)).json()}catch(ae){throw Ze.create("token-subscribe-failed",{errorInfo:ae?.toString()})}if($.error)throw Ze.create("token-subscribe-failed",{errorInfo:$.error.message});if(!$.token)throw Ze.create("token-subscribe-no-token");return $.token})).apply(this,arguments)}function si(){return(si=(0,s.Z)(function*(Q,ce){const ct=yield Oi(Q),ut=Yi(ce.subscriptionOptions),Wt={method:"PATCH",headers:ct,body:JSON.stringify(ut)};let $;try{$=yield(yield fetch(`${ki(Q.appConfig)}/${ce.token}`,Wt)).json()}catch(ae){throw Ze.create("token-update-failed",{errorInfo:ae?.toString()})}if($.error)throw Ze.create("token-update-failed",{errorInfo:$.error.message});if(!$.token)throw Ze.create("token-update-no-token");return $.token})).apply(this,arguments)}function Dt(Q,ce){return ei.apply(this,arguments)}function ei(){return(ei=(0,s.Z)(function*(Q,ce){const ut={method:"DELETE",headers:yield Oi(Q)};try{const $=yield(yield fetch(`${ki(Q.appConfig)}/${ce}`,ut)).json();if($.error)throw Ze.create("token-unsubscribe-failed",{errorInfo:$.error.message})}catch(Wt){throw Ze.create("token-unsubscribe-failed",{errorInfo:Wt?.toString()})}})).apply(this,arguments)}function ki({projectId:Q}){return`${U}/projects/${Q}/registrations`}function Oi(Q){return Pi.apply(this,arguments)}function Pi(){return(Pi=(0,s.Z)(function*({appConfig:Q,installations:ce}){const ct=yield ce.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":Q.apiKey,"x-goog-firebase-installations-auth":`FIS ${ct}`})})).apply(this,arguments)}function Yi({p256dh:Q,auth:ce,endpoint:ct,vapidKey:ut}){const Wt={web:{endpoint:ct,auth:ce,p256dh:Q}};return ut!==he&&(Wt.web.applicationPubKey=ut),Wt}const mn=6048e5;function jn(){return jn=(0,s.Z)(function*(Q){const ce=yield function Yr(Q,ce){return qi.apply(this,arguments)}(Q.swRegistration,Q.vapidKey),ct={vapidKey:Q.vapidKey,swScope:Q.swRegistration.scope,endpoint:ce.endpoint,auth:me(ce.getKey("auth")),p256dh:me(ce.getKey("p256dh"))},ut=yield Pt(Q.firebaseDependencies);if(ut){if(function pn(Q,ce){return ce.vapidKey===Q.vapidKey&&ce.endpoint===Q.endpoint&&ce.auth===Q.auth&&ce.p256dh===Q.p256dh}(ut.subscriptionOptions,ct))return Date.now()>=ut.createTime+mn?function Vi(Q,ce){return Ki.apply(this,arguments)}(Q,{token:ut.token,createTime:Date.now(),subscriptionOptions:ct}):ut.token;try{yield Dt(Q.firebaseDependencies,ut.token)}catch(Wt){console.warn(Wt)}return vt(Q.firebaseDependencies,ct)}return vt(Q.firebaseDependencies,ct)}),jn.apply(this,arguments)}function $n(){return $n=(0,s.Z)(function*(Q){const ce=yield Pt(Q.firebaseDependencies);ce&&(yield Dt(Q.firebaseDependencies,ce.token),yield function Ce(Q){return Se.apply(this,arguments)}(Q.firebaseDependencies));const ct=yield Q.swRegistration.pushManager.getSubscription();return!ct||ct.unsubscribe()}),$n.apply(this,arguments)}function Ki(){return Ki=(0,s.Z)(function*(Q,ce){try{const ct=yield function ot(Q,ce){return si.apply(this,arguments)}(Q.firebaseDependencies,ce),ut=Object.assign(Object.assign({},ce),{token:ct,createTime:Date.now()});return yield se(Q.firebaseDependencies,ut),ct}catch(ct){throw yield function Gn(Q){return $n.apply(this,arguments)}(Q),ct}}),Ki.apply(this,arguments)}function vt(Q,ce){return kr.apply(this,arguments)}function kr(){return(kr=(0,s.Z)(function*(Q,ce){const ut={token:yield pt(Q,ce),createTime:Date.now(),subscriptionOptions:ce};return yield se(Q,ut),ut.token})).apply(this,arguments)}function qi(){return(qi=(0,s.Z)(function*(Q,ce){return(yield Q.pushManager.getSubscription())||Q.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Me(ce)})})).apply(this,arguments)}function tr(Q){const ce={from:Q.from,collapseKey:Q.collapse_key,messageId:Q.fcmMessageId};return function xt(Q,ce){if(!ce.notification)return;Q.notification={};const ct=ce.notification.title;ct&&(Q.notification.title=ct);const ut=ce.notification.body;ut&&(Q.notification.body=ut);const Wt=ce.notification.image;Wt&&(Q.notification.image=Wt);const $=ce.notification.icon;$&&(Q.notification.icon=$)}(ce,Q),function Et(Q,ce){ce.data&&(Q.data=ce.data)}(ce,Q),function bt(Q,ce){var ct,ut,Wt,$,ae;if(!(ce.fcmOptions||null!==(ct=ce.notification)&&void 0!==ct&&ct.click_action))return;Q.fcmOptions={};const Ne=null!==(Wt=null===(ut=ce.fcmOptions)||void 0===ut?void 0:ut.link)&&void 0!==Wt?Wt:null===($=ce.notification)||void 0===$?void 0:$.click_action;Ne&&(Q.fcmOptions.link=Ne);const Ge=null===(ae=ce.fcmOptions)||void 0===ae?void 0:ae.analytics_label;Ge&&(Q.fcmOptions.analyticsLabel=Ge)}(ce,Q),ce}function Qi(Q,ce){const ct=[];for(let ut=0;ut<Q.length;ut++)ct.push(Q.charAt(ut)),ut<ce.length&&ct.push(ce.charAt(ut));return ct.join("")}function Xi(Q){return Ze.create("missing-app-config-values",{valueName:Q})}Qi("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),Qi("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class en{constructor(ce,ct,ut){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const Wt=function fn(Q){if(!Q||!Q.options)throw Xi("App Configuration Object");if(!Q.name)throw Xi("App Name");const ce=["projectId","apiKey","appId","messagingSenderId"],{options:ct}=Q;for(const ut of ce)if(!ct[ut])throw Xi(ut);return{appName:Q.name,projectId:ct.projectId,apiKey:ct.apiKey,appId:ct.appId,senderId:ct.messagingSenderId}}(ce);this.firebaseDependencies={app:ce,appConfig:Wt,installations:ct,analyticsProvider:ut}}_delete(){return Promise.resolve()}}function Do(Q){return yi.apply(this,arguments)}function yi(){return(yi=(0,s.Z)(function*(Q){try{Q.swRegistration=yield navigator.serviceWorker.register(ge,{scope:ve}),Q.swRegistration.update().catch(()=>{})}catch(ce){throw Ze.create("failed-service-worker-registration",{browserErrorMessage:ce?.message})}})).apply(this,arguments)}function ni(){return(ni=(0,s.Z)(function*(Q,ce){if(!ce&&!Q.swRegistration&&(yield Do(Q)),ce||!Q.swRegistration){if(!(ce instanceof ServiceWorkerRegistration))throw Ze.create("invalid-sw-registration");Q.swRegistration=ce}})).apply(this,arguments)}function Fn(){return(Fn=(0,s.Z)(function*(Q,ce){ce?Q.vapidKey=ce:Q.vapidKey||(Q.vapidKey=he)})).apply(this,arguments)}function $e(Q,ce){return we.apply(this,arguments)}function we(){return we=(0,s.Z)(function*(Q,ce){if(!navigator)throw Ze.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw Ze.create("permission-blocked");return yield function Yn(Q,ce){return Fn.apply(this,arguments)}(Q,ce?.vapidKey),yield function qr(Q,ce){return ni.apply(this,arguments)}(Q,ce?.serviceWorkerRegistration),function Fr(Q){return jn.apply(this,arguments)}(Q)}),we.apply(this,arguments)}function Vt(){return(Vt=(0,s.Z)(function*(Q,ce,ct){const ut=function Nt(Q){switch(Q){case tt.NOTIFICATION_CLICKED:return"notification_open";case tt.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(ce);(yield Q.firebaseDependencies.analyticsProvider.get()).logEvent(ut,{message_id:ct[G],message_name:ct[Z],message_time:ct[Ke],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function Fi(){return Fi=(0,s.Z)(function*(Q,ce){const ct=ce.data;if(!ct.isFirebaseMessaging)return;Q.onMessageHandler&&ct.messageType===tt.PUSH_RECEIVED&&("function"==typeof Q.onMessageHandler?Q.onMessageHandler(tr(ct)):Q.onMessageHandler.next(tr(ct)));const ut=ct.data;(function oo(Q){return"object"==typeof Q&&!!Q&&G in Q})(ut)&&"1"===ut[ye]&&(yield function at(Q,ce,ct){return Vt.apply(this,arguments)}(Q,ct.messageType,ut))}),Fi.apply(this,arguments)}const V="@firebase/messaging",B="0.12.4",W=Q=>{const ce=new en(Q.getProvider("app").getImmediate(),Q.getProvider("installations-internal").getImmediate(),Q.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",ct=>function gi(Q,ce){return Fi.apply(this,arguments)}(ce,ct)),ce},_e=Q=>{const ce=Q.getProvider("messaging").getImmediate();return{getToken:ut=>$e(ce,ut)}};function st(){return rt.apply(this,arguments)}function rt(){return(rt=(0,s.Z)(function*(){try{yield(0,re.eu)()}catch{return!1}return typeof window<"u"&&(0,re.hl)()&&(0,re.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}function Ti(Q=(0,K.getApp)()){return st().then(ce=>{if(!ce)throw Ze.create("unsupported-browser")},ce=>{throw Ze.create("indexed-db-unsupported")}),(0,K._getProvider)((0,re.m9)(Q),"messaging").getImmediate()}function ri(Q,ce){return tn.apply(this,arguments)}function tn(){return(tn=(0,s.Z)(function*(Q,ce){return $e(Q=(0,re.m9)(Q),ce)})).apply(this,arguments)}function vr(Q,ce){return function Wi(Q,ce){if(!navigator)throw Ze.create("only-available-in-window");return Q.onMessageHandler=ce,()=>{Q.onMessageHandler=null}}(Q=(0,re.m9)(Q),ce)}!function te(){(0,K._registerComponent)(new N.wA("messaging",W,"PUBLIC")),(0,K._registerComponent)(new N.wA("messaging-internal",_e,"PRIVATE")),(0,K.registerVersion)(V,B),(0,K.registerVersion)(V,B,"esm2017")}()},8766:(Tt,Ie,R)=>{R.d(Ie,{Lj:()=>Le,X3:()=>He});var s=R(5861);const J=(ue,Y)=>Y.some(We=>ue instanceof We);let N,oe;const ge=new WeakMap,ve=new WeakMap,he=new WeakMap,U=new WeakMap,G=new WeakMap;let ye={get(ue,Y,We){if(ue instanceof IDBTransaction){if("done"===Y)return ve.get(ue);if("objectStoreNames"===Y)return ue.objectStoreNames||he.get(ue);if("store"===Y)return We.objectStoreNames[1]?void 0:We.objectStore(We.objectStoreNames[0])}return Me(ue[Y])},set:(ue,Y,We)=>(ue[Y]=We,!0),has:(ue,Y)=>ue instanceof IDBTransaction&&("done"===Y||"store"===Y)||Y in ue};function me(ue){return"function"==typeof ue?function tt(ue){return ue!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function K(){return oe||(oe=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(ue)?function(...Y){return ue.apply(Te(this),Y),Me(ge.get(this))}:function(...Y){return Me(ue.apply(Te(this),Y))}:function(Y,...We){const Ye=ue.call(Te(this),Y,...We);return he.set(Ye,Y.sort?Y.sort():[Y]),Me(Ye)}}(ue):(ue instanceof IDBTransaction&&function Ke(ue){if(ve.has(ue))return;const Y=new Promise((We,Ye)=>{const Pt=()=>{ue.removeEventListener("complete",et),ue.removeEventListener("error",se),ue.removeEventListener("abort",se)},et=()=>{We(),Pt()},se=()=>{Ye(ue.error||new DOMException("AbortError","AbortError")),Pt()};ue.addEventListener("complete",et),ue.addEventListener("error",se),ue.addEventListener("abort",se)});ve.set(ue,Y)}(ue),J(ue,function re(){return N||(N=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(ue,ye):ue)}function Me(ue){if(ue instanceof IDBRequest)return function Z(ue){const Y=new Promise((We,Ye)=>{const Pt=()=>{ue.removeEventListener("success",et),ue.removeEventListener("error",se)},et=()=>{We(Me(ue.result)),Pt()},se=()=>{Ye(ue.error),Pt()};ue.addEventListener("success",et),ue.addEventListener("error",se)});return Y.then(We=>{We instanceof IDBCursor&&ge.set(We,ue)}).catch(()=>{}),G.set(Y,ue),Y}(ue);if(U.has(ue))return U.get(ue);const Y=me(ue);return Y!==ue&&(U.set(ue,Y),G.set(Y,ue)),Y}const Te=ue=>G.get(ue);function He(ue,Y,{blocked:We,upgrade:Ye,blocking:Pt,terminated:et}={}){const se=indexedDB.open(ue,Y),fe=Me(se);return Ye&&se.addEventListener("upgradeneeded",Ce=>{Ye(Me(se.result),Ce.oldVersion,Ce.newVersion,Me(se.transaction))}),We&&se.addEventListener("blocked",()=>We()),fe.then(Ce=>{et&&Ce.addEventListener("close",()=>et()),Pt&&Ce.addEventListener("versionchange",()=>Pt())}).catch(()=>{}),fe}function Le(ue,{blocked:Y}={}){const We=indexedDB.deleteDatabase(ue);return Y&&We.addEventListener("blocked",()=>Y()),Me(We).then(()=>{})}const xe=["get","getKey","getAll","getAllKeys","count"],be=["put","add","delete","clear"],Qe=new Map;function Oe(ue,Y){if(!(ue instanceof IDBDatabase)||Y in ue||"string"!=typeof Y)return;if(Qe.get(Y))return Qe.get(Y);const We=Y.replace(/FromIndex$/,""),Ye=Y!==We,Pt=be.includes(We);if(!(We in(Ye?IDBIndex:IDBObjectStore).prototype)||!Pt&&!xe.includes(We))return;const et=function(){var se=(0,s.Z)(function*(fe,...Ce){const Se=this.transaction(fe,Pt?"readwrite":"readonly");let Fe=Se.store;return Ye&&(Fe=Fe.index(Ce.shift())),(yield Promise.all([Fe[We](...Ce),Pt&&Se.done]))[0]});return function(Ce){return se.apply(this,arguments)}}();return Qe.set(Y,et),et}!function Je(ue){ye=ue(ye)}(ue=>({...ue,get:(Y,We,Ye)=>Oe(Y,We)||ue.get(Y,We,Ye),has:(Y,We)=>!!Oe(Y,We)||ue.has(Y,We)}))},5861:(Tt,Ie,R)=>{function s(N,oe,re,K,ge,ve,he){try{var U=N[ve](he),G=U.value}catch(Z){return void re(Z)}U.done?oe(G):Promise.resolve(G).then(K,ge)}function J(N){return function(){var oe=this,re=arguments;return new Promise(function(K,ge){var ve=N.apply(oe,re);function he(G){s(ve,K,ge,he,U,"next",G)}function U(G){s(ve,K,ge,he,U,"throw",G)}he(void 0)})}}R.d(Ie,{Z:()=>J})}},Tt=>{Tt(Tt.s=5489)}]);